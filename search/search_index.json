{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Golden Kubestronaut Learning Path","text":"<p>A comprehensive learning resource for achieving Kubestronaut and Golden Kubestronaut status through CNCF certifications.</p>"},{"location":"#what-is-a-kubestronaut","title":"What is a Kubestronaut?","text":"<p>The Kubestronaut program recognizes community leaders who have consistently invested in their ongoing education and grown their skill level with Kubernetes and Cloud Native technologies.</p> <p>Kubestronauts are individuals who have successfully passed all CNCF's Kubernetes certifications.</p>"},{"location":"#what-is-a-golden-kubestronaut","title":"What is a Golden Kubestronaut?","text":"<p>Golden Kubestronauts are individuals who have passed all CNCF's Cloud Native certifications plus LFCS.</p> <p>UPDATE: CNPE will be an additional requirement after March 1st to become a Golden Kubestronaut.</p>"},{"location":"#kubestronaut-certifications-5-required","title":"Kubestronaut Certifications (5 Required)","text":"Certification Full Name Focus Area KCNA Kubernetes and Cloud Native Associate Entry-level, foundational knowledge KCSA Kubernetes and Cloud Native Security Associate Security fundamentals CKA Certified Kubernetes Administrator Cluster administration CKAD Certified Kubernetes Application Developer Application development CKS Certified Kubernetes Security Specialist Advanced security"},{"location":"#golden-kubestronaut-certifications-15-required","title":"Golden Kubestronaut Certifications (15+ Required)","text":"<p>In addition to the 5 Kubestronaut certifications, Golden Kubestronauts must pass:</p> Certification Full Name Focus Area LFCS Linux Foundation Certified SysAdmin Linux system administration PCA Prometheus Certified Associate Monitoring with Prometheus ICA Istio Certified Associate Service mesh CCA Cilium Certified Associate eBPF networking CAPA Certified Argo Project Associate GitOps with Argo CGOA Certified GitOps Associate GitOps fundamentals CBA Certified Backstage Associate Developer portals OTCA OpenTelemetry Certified Associate Observability KCA Kyverno Certified Associate Policy management CNPA Cloud Native Platform Associate Platform engineering CNPE Certified Cloud Native Platform Engineer Platform engineering (Required after March 1st)"},{"location":"#benefits","title":"Benefits","text":""},{"location":"#kubestronaut-benefits","title":"Kubestronaut Benefits","text":"<ul> <li>Exclusive Kubestronaut jacket</li> <li>Credly badge to showcase expertise</li> <li>Access to dedicated/private Kubestronaut Slack channel and mailing list</li> <li>Five coupons for 50%-off certifications each year</li> <li>20%-off three CNCF events (KubeCon or KubeDays) per year</li> </ul>"},{"location":"#golden-kubestronaut-benefits","title":"Golden Kubestronaut Benefits","text":"<ul> <li>Exclusive backpack with Golden Kubestronaut logo</li> <li>Special Golden Kubestronaut beanie</li> <li>ThriveOne subscription (while maintaining title)</li> <li>One free ticket per year to any Kubernetes Community Days (KCD)</li> <li>One 50%-off KubeCon registration per year</li> <li>60% discount voucher for each new CNCF certification</li> <li>Distinguished Golden representation on the Kubestronaut website</li> </ul>"},{"location":"#learning-resources","title":"Learning Resources","text":""},{"location":"#official-resources","title":"Official Resources","text":"<ul> <li>CNCF Training Portal</li> <li>Kubernetes Documentation</li> <li>CNCF Kubestronaut Program</li> <li>Kubestronaut FAQ</li> </ul>"},{"location":"#certification-exam-links","title":"Certification Exam Links","text":"Certification Exam Link KCNA Register KCSA Register CKA Register CKAD Register CKS Register LFCS Register PCA Register ICA Register CCA Register CAPA Register CGOA Register"},{"location":"#recommended-study-path","title":"Recommended Study Path","text":""},{"location":"#phase-1-foundation-kubestronaut","title":"Phase 1: Foundation (Kubestronaut)","text":"<ol> <li>KCNA - Start with fundamentals</li> <li>KCSA - Security basics</li> <li>CKA - Administration skills</li> <li>CKAD - Development skills</li> <li>CKS - Advanced security</li> </ol>"},{"location":"#phase-2-advanced-golden-kubestronaut","title":"Phase 2: Advanced (Golden Kubestronaut)","text":"<ol> <li>LFCS - Linux fundamentals</li> <li>PCA - Monitoring &amp; observability</li> <li>CGOA - GitOps fundamentals</li> <li>CAPA - Argo workflows</li> <li>ICA - Service mesh</li> <li>CCA - eBPF &amp; networking</li> <li>OTCA - Distributed tracing</li> <li>KCA - Policy as code</li> <li>CBA - Developer experience</li> <li>CNPA - Platform engineering</li> <li>CNPE - Advanced platform engineering</li> </ol>"},{"location":"#important-notes","title":"Important Notes","text":"<ul> <li>All certifications must not have expired to be recognized as a Kubestronaut or Golden Kubestronaut</li> <li>When you pass all required certifications, expect to be emailed by CNCF within a business week for next steps</li> <li>Certifications are valid for 2-3 years depending on the exam</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! Feel free to:</p> <ul> <li>Add study resources and tips</li> <li>Share exam experiences</li> <li>Improve documentation</li> <li>Add practice exercises</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License</p>"},{"location":"#acknowledgments","title":"Acknowledgments","text":"<ul> <li>CNCF for creating the Kubestronaut program</li> <li>Ramesh - CNCF Ambassador who inspired the Kubestronaut program</li> <li>All Kubestronauts and Golden Kubestronauts in the community</li> </ul>"},{"location":"DARK_MODE_FEATURE/","title":"Dark Mode Theme Persistence Feature","text":"<p>This document describes the enhanced dark mode functionality with persistent user preferences and system preference detection.</p>"},{"location":"DARK_MODE_FEATURE/#overview","title":"Overview","text":"<p>The dark mode feature provides users with a seamless theme switching experience that remembers their preferences across sessions and can optionally sync with their system's theme settings.</p>"},{"location":"DARK_MODE_FEATURE/#features","title":"Features","text":""},{"location":"DARK_MODE_FEATURE/#implemented-features","title":"\u2705 Implemented Features","text":"<ul> <li>Theme Persistence: User's theme choice is saved to localStorage and restored on page load</li> <li>System Preference Detection: Automatically detects and applies system dark/light preference</li> <li>Smooth Transitions: Animated theme switching with CSS transitions</li> <li>Enhanced Dark Mode Styling: Improved readability for all components in dark mode</li> <li>Accessibility Support: High contrast mode and reduced motion support</li> <li>Cross-Component Compatibility: All UI elements properly styled for both themes</li> </ul>"},{"location":"DARK_MODE_FEATURE/#enhanced-styling","title":"\ud83c\udfa8 Enhanced Styling","text":""},{"location":"DARK_MODE_FEATURE/#code-blocks","title":"Code Blocks","text":"<ul> <li>Improved syntax highlighting in dark mode</li> <li>Better contrast ratios for readability</li> <li>Consistent background and text colors</li> </ul>"},{"location":"DARK_MODE_FEATURE/#tables","title":"Tables","text":"<ul> <li>Dark mode table styling with proper borders</li> <li>Enhanced header visibility</li> <li>Readable cell content in both themes</li> </ul>"},{"location":"DARK_MODE_FEATURE/#navigation","title":"Navigation","text":"<ul> <li>Dark mode sidebar and header styling</li> <li>Improved hover states</li> <li>Better active item indication</li> </ul>"},{"location":"DARK_MODE_FEATURE/#admonitions","title":"Admonitions","text":"<ul> <li>Theme-aware alert boxes</li> <li>Proper color coding for note/warning/danger</li> <li>Enhanced visibility in dark mode</li> </ul>"},{"location":"DARK_MODE_FEATURE/#form-elements","title":"Form Elements","text":"<ul> <li>Dark mode input fields and buttons</li> <li>Proper focus states</li> <li>Consistent styling across all form controls</li> </ul>"},{"location":"DARK_MODE_FEATURE/#technical-implementation","title":"Technical Implementation","text":""},{"location":"DARK_MODE_FEATURE/#files-structure","title":"Files Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 css/\n\u2502   \u2514\u2500\u2500 theme-persistence.css     # Enhanced dark mode styling\n\u251c\u2500\u2500 js/\n\u2502   \u2514\u2500\u2500 theme-persistence.js      # Theme persistence logic\n\u2514\u2500\u2500 theme-test.md                # Testing page\n\nmkdocs.yml                      # Updated configuration\n</code></pre>"},{"location":"DARK_MODE_FEATURE/#javascript-architecture","title":"JavaScript Architecture","text":""},{"location":"DARK_MODE_FEATURE/#core-functions","title":"Core Functions","text":"<ul> <li><code>getSystemPreference()</code>: Detects system color scheme preference</li> <li><code>getSavedTheme()</code>: Retrieves saved theme from localStorage</li> <li><code>saveTheme(theme)</code>: Saves theme preference to localStorage</li> <li><code>applyTheme(theme, animate)</code>: Applies theme with optional animation</li> <li><code>initializeTheme()</code>: Initializes theme on page load</li> </ul>"},{"location":"DARK_MODE_FEATURE/#event-handling","title":"Event Handling","text":"<ul> <li>Theme toggle button clicks</li> <li>System preference changes via <code>matchMedia</code></li> <li>Page load theme restoration</li> </ul>"},{"location":"DARK_MODE_FEATURE/#storage-keys","title":"Storage Keys","text":"<ul> <li><code>theme-preference</code>: User's explicit theme choice</li> <li><code>system-preference</code>: Whether user wants system sync</li> </ul>"},{"location":"DARK_MODE_FEATURE/#css-architecture","title":"CSS Architecture","text":""},{"location":"DARK_MODE_FEATURE/#theme-detection","title":"Theme Detection","text":"<ul> <li>Uses <code>data-theme</code> attribute on <code>html</code> element</li> <li>Supports <code>data-theme=\"slate\"</code> for dark mode</li> <li>Supports <code>data-theme=\"default\"</code> for light mode</li> </ul>"},{"location":"DARK_MODE_FEATURE/#component-styling","title":"Component Styling","text":"<ul> <li>Scoped styling with <code>[data-theme=\"slate\"]</code> selectors</li> <li>Smooth transitions for theme switching</li> <li>High contrast and reduced motion support</li> </ul>"},{"location":"DARK_MODE_FEATURE/#configuration","title":"Configuration","text":""},{"location":"DARK_MODE_FEATURE/#mkdocs-configuration","title":"MkDocs Configuration","text":"<pre><code>theme:\n  name: material\n  palette:\n    - scheme: default\n      media: \"(prefers-color-scheme: light)\"\n    - scheme: slate\n      media: \"(prefers-color-scheme: dark)\"\n\n  extra_css:\n    - css/theme-persistence.css\n  extra_javascript:\n    - js/theme-persistence.js\n</code></pre>"},{"location":"DARK_MODE_FEATURE/#browser-support","title":"Browser Support","text":"<ul> <li>Modern Browsers: Full support with localStorage and matchMedia</li> <li>Legacy Browsers: Graceful fallback to default theme</li> <li>Mobile Devices: Touch-friendly theme switching</li> <li>Print Media: Optimized printing without theme transitions</li> </ul>"},{"location":"DARK_MODE_FEATURE/#user-experience","title":"User Experience","text":""},{"location":"DARK_MODE_FEATURE/#theme-switching","title":"Theme Switching","text":"<ol> <li>Manual Switching: Click theme toggle button in header</li> <li>System Sync: Option to follow system preference automatically</li> <li>Persistence: Choice remembered across browser sessions</li> <li>Smooth Animation: 300ms transition between themes</li> </ol>"},{"location":"DARK_MODE_FEATURE/#default-behavior","title":"Default Behavior","text":"<ol> <li>First Visit: Detects system preference</li> <li>Returning Visit: Restores saved preference</li> <li>System Change: Updates if user follows system preference</li> </ol>"},{"location":"DARK_MODE_FEATURE/#accessibility-features","title":"Accessibility Features","text":"<ul> <li>High Contrast: Enhanced borders and underlines</li> <li>Reduced Motion: Respects user's motion preferences</li> <li>Keyboard Navigation: Full keyboard accessibility</li> <li>Screen Readers: Proper ARIA labels and announcements</li> </ul>"},{"location":"DARK_MODE_FEATURE/#testing","title":"Testing","text":""},{"location":"DARK_MODE_FEATURE/#test-pages","title":"Test Pages","text":"<ul> <li><code>theme-test.md</code>: Comprehensive testing page with all components</li> <li>Live Site: Real-world testing across all pages</li> </ul>"},{"location":"DARK_MODE_FEATURE/#test-scenarios","title":"Test Scenarios","text":"<ol> <li>Theme Persistence</li> <li>Switch theme \u2192 Refresh page \u2192 Verify theme maintained</li> <li> <p>Close browser \u2192 Reopen \u2192 Verify theme restored</p> </li> <li> <p>System Preference</p> </li> <li>Change system theme \u2192 Open new tab \u2192 Verify sync</li> <li> <p>Toggle system preference \u2192 Verify behavior change</p> </li> <li> <p>Component Testing</p> </li> <li>All UI elements in both themes</li> <li>Interactive elements (buttons, links, forms)</li> <li> <p>Code blocks and syntax highlighting</p> </li> <li> <p>Accessibility Testing</p> </li> <li>High contrast mode</li> <li>Reduced motion preferences</li> <li>Keyboard navigation</li> <li>Screen reader compatibility</li> </ol>"},{"location":"DARK_MODE_FEATURE/#browser-testing-matrix","title":"Browser Testing Matrix","text":"Browser Version localStorage matchMedia CSS Transitions Chrome 90+ \u2705 \u2705 \u2705 Firefox 88+ \u2705 \u2705 \u2705 Safari 14+ \u2705 \u2705 \u2705 Edge 90+ \u2705 \u2705 \u2705"},{"location":"DARK_MODE_FEATURE/#performance-considerations","title":"Performance Considerations","text":""},{"location":"DARK_MODE_FEATURE/#optimization","title":"Optimization","text":"<ul> <li>CSS Transitions: Hardware-accelerated transforms</li> <li>LocalStorage: Minimal data storage (&lt; 100 bytes)</li> <li>Event Listeners: Efficient event delegation</li> <li>DOM Queries: Cached selectors where possible</li> </ul>"},{"location":"DARK_MODE_FEATURE/#metrics","title":"Metrics","text":"<ul> <li>Theme Switch Time: &lt; 300ms</li> <li>Storage Overhead: ~50 bytes</li> <li>JavaScript Size: ~8KB (minified)</li> <li>CSS Size: ~6KB (minified)</li> </ul>"},{"location":"DARK_MODE_FEATURE/#maintenance","title":"Maintenance","text":""},{"location":"DARK_MODE_FEATURE/#adding-new-components","title":"Adding New Components","text":"<p>When adding new UI components, ensure dark mode styling:</p> <pre><code>/* Light mode (default) */\n.new-component {\n    background-color: #ffffff;\n    color: #333333;\n}\n\n/* Dark mode override */\n[data-theme=\"slate\"] .new-component {\n    background-color: #2d2d2d;\n    color: #e8e8e8;\n}\n</code></pre>"},{"location":"DARK_MODE_FEATURE/#updating-theme-logic","title":"Updating Theme Logic","text":"<ul> <li>Theme logic is centralized in <code>theme-persistence.js</code></li> <li>CSS is modular in <code>theme-persistence.css</code></li> <li>Configuration in <code>mkdocs.yml</code></li> </ul>"},{"location":"DARK_MODE_FEATURE/#debugging","title":"Debugging","text":"<ul> <li>Browser console logs theme changes</li> <li>localStorage can be inspected for saved preferences</li> <li>CSS data-theme attribute shows current state</li> </ul>"},{"location":"DARK_MODE_FEATURE/#future-enhancements","title":"Future Enhancements","text":""},{"location":"DARK_MODE_FEATURE/#potential-improvements","title":"Potential Improvements","text":"<ul> <li>[ ] Theme Variants: Multiple dark mode themes (blue, black, etc.)</li> <li>[ ] Time-based Switching: Automatic theme based on time of day</li> <li>[ ] Custom Themes: User-defined color schemes</li> <li>[ ] Theme Analytics: Usage statistics and preferences</li> <li>[ ] Import/Export: Theme preference backup/restore</li> </ul>"},{"location":"DARK_MODE_FEATURE/#technical-debt","title":"Technical Debt","text":"<ul> <li>[ ] TypeScript: Convert JavaScript to TypeScript</li> <li>[ ] Unit Tests: Automated testing for theme logic</li> <li>[ ] E2E Tests: Automated visual regression testing</li> <li>[ ] Performance Monitoring: Theme switching performance metrics</li> </ul>"},{"location":"DARK_MODE_FEATURE/#troubleshooting","title":"Troubleshooting","text":""},{"location":"DARK_MODE_FEATURE/#common-issues","title":"Common Issues","text":"<ol> <li>Theme Not Persisting</li> <li>Check localStorage availability</li> <li>Verify browser privacy settings</li> <li> <p>Check for localStorage quota exceeded</p> </li> <li> <p>System Preference Not Working</p> </li> <li>Verify <code>matchMedia</code> support</li> <li>Check system theme settings</li> <li> <p>Test with different browsers</p> </li> <li> <p>Styling Issues</p> </li> <li>Verify CSS file loading</li> <li>Check data-theme attribute</li> <li>Test CSS specificity</li> </ol>"},{"location":"DARK_MODE_FEATURE/#debug-tools","title":"Debug Tools","text":"<pre><code>// Check current theme\nconsole.log('Current theme:', window.themePersistence.getTheme());\n\n// Check system preference\nconsole.log('System prefers dark:', window.matchMedia('(prefers-color-scheme: dark)').matches);\n\n// Check localStorage\nconsole.log('Saved theme:', localStorage.getItem('theme-preference'));\n</code></pre>"},{"location":"DARK_MODE_FEATURE/#security-considerations","title":"Security Considerations","text":""},{"location":"DARK_MODE_FEATURE/#data-privacy","title":"Data Privacy","text":"<ul> <li>No Tracking: Theme preferences stored locally only</li> <li>No PII: No personally identifiable information collected</li> <li>Local Only: No data transmitted to external servers</li> </ul>"},{"location":"DARK_MODE_FEATURE/#xss-prevention","title":"XSS Prevention","text":"<ul> <li>Sanitized Inputs: All user inputs properly sanitized</li> <li>CSP Compatible: Works with Content Security Policy</li> <li>No eval(): No dynamic code execution</li> </ul>"},{"location":"DARK_MODE_FEATURE/#acceptance-criteria-met","title":"Acceptance Criteria Met","text":"<ul> <li>\u2705 Theme preference saved to local storage</li> <li>\u2705 System preference detection</li> <li>\u2705 All code blocks readable in both themes</li> <li>\u2705 Diagrams and images adapted for dark mode</li> <li>\u2705 Smooth transition animation between themes</li> <li>\u2705 All components support both themes</li> </ul>"},{"location":"PDF_GENERATION/","title":"PDF Study Guides Generation","text":"<p>This document describes the PDF generation system for the Golden Kubestronaut Learning project.</p>"},{"location":"PDF_GENERATION/#overview","title":"Overview","text":"<p>The PDF generation system creates printable, comprehensive study guides for all certifications, enabling offline study and easy distribution.</p>"},{"location":"PDF_GENERATION/#features","title":"Features","text":""},{"location":"PDF_GENERATION/#implemented-features","title":"\u2705 Implemented Features","text":"<ul> <li>Comprehensive PDF Guides: Each certification has a complete study guide combining all chapters</li> <li>Printer-Friendly Formatting: Optimized layout with proper margins and page breaks</li> <li>Table of Contents: Automatic TOC with page numbers for easy navigation</li> <li>Version Control: PDFs include generation date and version information</li> <li>Download Links: Each certification page includes a PDF download button</li> <li>Automated Generation: GitHub Actions workflow automatically updates PDFs when content changes</li> <li>File Size Optimization: Efficient PDF generation using pandoc and WeasyPrint</li> <li>Cross-Platform Compatibility: Works on Ubuntu, macOS, and Windows</li> </ul>"},{"location":"PDF_GENERATION/#available-study-guides","title":"\ud83d\udcda Available Study Guides","text":""},{"location":"PDF_GENERATION/#kubestronaut-certifications-5-certs","title":"Kubestronaut Certifications (5 Certs)","text":"<ul> <li>KCNA - Kubernetes and Cloud Native Associate</li> <li>KCSA - Kubernetes and Cloud Native Security Associate  </li> <li>CKA - Certified Kubernetes Administrator</li> <li>CKAD - Certified Kubernetes Application Developer</li> <li>CKS - Certified Kubernetes Security Specialist</li> </ul>"},{"location":"PDF_GENERATION/#golden-kubestronaut-certifications-additional-certs","title":"Golden Kubestronaut Certifications (Additional Certs)","text":"<ul> <li>PCA - Prometheus Certified Associate</li> <li>CNPE - Certified Node.js Platform Engineer</li> <li>LFCS - Linux Foundation Certified System Administrator</li> <li>ICA - Istio Certified Associate</li> <li>CCA - Cilium Certified Associate</li> <li>CAPA - Argo CD Certified Professional - Application Delivery</li> <li>CGOA - Certified GitOps Professional</li> <li>CBA - Cilium Certified Associate - (Beta)</li> <li>OTCA - OpenTelemetry Certified Associate</li> <li>KCA - Kyverno Certified Associate</li> <li>CNPA - Cloud Native Professional Associate</li> </ul>"},{"location":"PDF_GENERATION/#architecture","title":"Architecture","text":""},{"location":"PDF_GENERATION/#pdf-generation-workflow","title":"PDF Generation Workflow","text":"<ol> <li>Content Aggregation: <code>scripts/generate_comprehensive_pdfs.py</code> combines all chapters for each certification</li> <li>Markdown Processing: Converts markdown to HTML with proper formatting</li> <li>PDF Generation: Uses pandoc (primary) or WeasyPrint (fallback) for PDF creation</li> <li>Index Creation: Generates a PDF index page with all available guides</li> <li>Link Integration: <code>scripts/add_pdf_links.py</code> adds download links to certification pages</li> <li>Automated Deployment: GitHub Actions workflow handles generation and deployment</li> </ol>"},{"location":"PDF_GENERATION/#file-structure","title":"File Structure","text":"<pre><code>scripts/\n\u251c\u2500\u2500 generate_comprehensive_pdfs.py  # Main PDF generation script\n\u251c\u2500\u2500 generate_pdfs.py                # Individual chapter PDF generation\n\u2514\u2500\u2500 add_pdf_links.py               # Adds download links to README files\n\nsite/pdf/\n\u251c\u2500\u2500 KCNA_Study_Guide.pdf           # Comprehensive certification guides\n\u251c\u2500\u2500 KCSA_Study_Guide.pdf\n\u251c\u2500\u2500 CKA_Study_Guide.pdf\n\u2514\u2500\u2500 index.md                       # PDF index page\n\n.github/workflows/\n\u2514\u2500\u2500 generate-pdfs.yml              # Automated generation workflow\n</code></pre>"},{"location":"PDF_GENERATION/#usage","title":"Usage","text":""},{"location":"PDF_GENERATION/#manual-pdf-generation","title":"Manual PDF Generation","text":"<pre><code># Install dependencies\npip install -r requirements.txt\nbrew install pandoc  # On macOS\nsudo apt-get install pandoc  # On Ubuntu\n\n# Generate all PDFs\npython scripts/generate_comprehensive_pdfs.py\n\n# Add download links to README files\npython scripts/add_pdf_links.py\n</code></pre>"},{"location":"PDF_GENERATION/#automated-generation","title":"Automated Generation","text":"<p>PDFs are automatically generated and deployed when: - Markdown files are pushed to the main branch - The workflow is manually triggered - Content changes are detected</p>"},{"location":"PDF_GENERATION/#technical-details","title":"Technical Details","text":""},{"location":"PDF_GENERATION/#dependencies","title":"Dependencies","text":"<ul> <li>Python 3.10+: Core scripting language</li> <li>pandoc: Primary PDF generation engine</li> <li>WeasyPrint: Fallback PDF generation</li> <li>PyYAML: Configuration parsing</li> <li>markdown: Markdown to HTML conversion</li> <li>beautifulsoup4: HTML processing</li> </ul>"},{"location":"PDF_GENERATION/#pdf-generation-process","title":"PDF Generation Process","text":"<ol> <li>Content Collection: Reads mkdocs.yml to identify certification structure</li> <li>Chapter Aggregation: Combines all markdown files for each certification</li> <li>TOC Generation: Creates automatic table of contents</li> <li>HTML Conversion: Converts markdown to styled HTML</li> <li>PDF Rendering: Generates PDF with proper pagination and formatting</li> <li>Quality Assurance: Validates PDF generation and handles errors gracefully</li> </ol>"},{"location":"PDF_GENERATION/#github-actions-workflow","title":"GitHub Actions Workflow","text":"<p>The workflow includes: - System dependency installation (pandoc, WeasyPrint) - Python dependency setup - Comprehensive PDF generation - Individual chapter PDF generation (graceful fallback) - PDF index creation - Automatic deployment to GitHub Pages</p>"},{"location":"PDF_GENERATION/#acceptance-criteria-met","title":"Acceptance Criteria Met","text":"<ul> <li>\u2705 PDF generation workflow: GitHub Actions workflow implemented</li> <li>\u2705 Download links on each certification page: Added to all 16 certification README files</li> <li>\u2705 Consistent formatting across all PDFs: Standardized template and styling</li> <li>\u2705 File size optimization: Efficient generation using pandoc</li> <li>\u2705 Version numbering on PDFs: Includes generation date and version 1.0</li> </ul>"},{"location":"PDF_GENERATION/#maintenance","title":"Maintenance","text":""},{"location":"PDF_GENERATION/#adding-new-certifications","title":"Adding New Certifications","text":"<ol> <li>Add certification to mkdocs.yml navigation</li> <li>Create certification directory with content</li> <li>Run <code>python scripts/add_pdf_links.py</code> to add download links</li> <li>PDF will be automatically generated on next content update</li> </ol>"},{"location":"PDF_GENERATION/#updating-content","title":"Updating Content","text":"<ul> <li>PDFs are automatically regenerated when markdown files change</li> <li>Manual regeneration: <code>python scripts/generate_comprehensive_pdfs.py</code></li> <li>Version information updates automatically with generation timestamp</li> </ul>"},{"location":"PDF_GENERATION/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Pandoc not found: Install pandoc using system package manager</li> <li>WeasyPrint errors: Install system dependencies (pango, cairo, etc.)</li> <li>Missing PDFs: Check GitHub Actions workflow logs</li> <li>Formatting issues: Review CSS templates in generation scripts</li> </ul>"},{"location":"PDF_GENERATION/#future-enhancements","title":"Future Enhancements","text":"<p>Potential improvements for future versions: - [ ] Interactive PDF elements - [ ] Dark mode PDF variants - [ ] Mobile-optimized PDF layouts - [ ] Batch download functionality - [ ] PDF search indexing - [ ] Automated PDF size optimization - [ ] Version comparison PDFs</p>"},{"location":"certification-comparison/","title":"Certification Path Comparison Guide","text":"<p>Compare all CNCF certifications to help you choose the right path.</p>"},{"location":"certification-comparison/#certification-overview","title":"Certification Overview","text":"Certification Type Duration Passing Score Format Cost KCNA Multiple Choice 90 min 75% Online Proctored $250 KCSA Multiple Choice 90 min 75% Online Proctored $250 CKA Performance 2 hours 66% Online Proctored $395 CKAD Performance 2 hours 66% Online Proctored $395 CKS Performance 2 hours 67% Online Proctored $395 PCA Multiple Choice 90 min 75% Online Proctored $250 ICA Performance 2 hours 66% Online Proctored $395 CCA Multiple Choice 90 min 75% Online Proctored $250 CAPA Multiple Choice 90 min 75% Online Proctored $250 CGOA Multiple Choice 90 min 75% Online Proctored $250 OTCA Multiple Choice 90 min 75% Online Proctored $250 KCA Multiple Choice 90 min 75% Online Proctored $250 CBA Multiple Choice 90 min 75% Online Proctored $250 LFCS Performance 2 hours 66% Online Proctored $395"},{"location":"certification-comparison/#difficulty-comparison","title":"Difficulty Comparison","text":"Level Certifications Description Beginner KCNA, CGOA Entry-level, conceptual knowledge Intermediate KCSA, PCA, CCA, CAPA, OTCA, KCA, CBA Specialized knowledge areas Advanced CKA, CKAD, ICA, LFCS Hands-on performance exams Expert CKS Security-focused, requires CKA"},{"location":"certification-comparison/#prerequisites","title":"Prerequisites","text":"Certification Prerequisites KCNA None KCSA None (KCNA recommended) CKA None CKAD None CKS CKA required PCA None ICA None (CKA recommended) CCA None CAPA None CGOA None OTCA None KCA None CBA None LFCS None"},{"location":"certification-comparison/#certification-paths","title":"Certification Paths","text":""},{"location":"certification-comparison/#path-1-kubestronaut-5-certifications","title":"Path 1: Kubestronaut (5 Certifications)","text":"<pre><code>KCNA \u2192 KCSA \u2192 CKA \u2192 CKAD \u2192 CKS\n</code></pre> <p>Timeline: 6-12 months Focus: Core Kubernetes expertise</p>"},{"location":"certification-comparison/#path-2-golden-kubestronaut-all-certifications","title":"Path 2: Golden Kubestronaut (All Certifications)","text":"<pre><code>Kubestronaut (5) + PCA + ICA + CCA + CAPA + CGOA + OTCA + KCA + CBA + LFCS + CNPE + CNPA\n</code></pre> <p>Timeline: 18-24 months Focus: Complete cloud native mastery</p>"},{"location":"certification-comparison/#path-3-developer-focus","title":"Path 3: Developer Focus","text":"<pre><code>KCNA \u2192 CKAD \u2192 CKA \u2192 CAPA \u2192 CGOA\n</code></pre> <p>Timeline: 6-9 months Focus: Application development and GitOps</p>"},{"location":"certification-comparison/#path-4-security-focus","title":"Path 4: Security Focus","text":"<pre><code>KCNA \u2192 KCSA \u2192 CKA \u2192 CKS \u2192 CCA\n</code></pre> <p>Timeline: 6-9 months Focus: Kubernetes and network security</p>"},{"location":"certification-comparison/#path-5-observability-focus","title":"Path 5: Observability Focus","text":"<pre><code>KCNA \u2192 CKA \u2192 PCA \u2192 OTCA\n</code></pre> <p>Timeline: 4-6 months Focus: Monitoring and observability</p>"},{"location":"certification-comparison/#skills-comparison","title":"Skills Comparison","text":"Skill Area Relevant Certifications Kubernetes Basics KCNA, CKA, CKAD Security KCSA, CKS, CCA Networking CKA, CKS, CCA, ICA Observability PCA, OTCA GitOps/CI-CD CAPA, CGOA Policy Management KCA Service Mesh ICA Platform Engineering CBA, CNPE, CNPA Linux Administration LFCS"},{"location":"certification-comparison/#study-time-estimates","title":"Study Time Estimates","text":"Certification Beginner Experienced KCNA 2-4 weeks 1-2 weeks KCSA 2-4 weeks 1-2 weeks CKA 6-8 weeks 3-4 weeks CKAD 4-6 weeks 2-3 weeks CKS 6-8 weeks 3-4 weeks PCA 3-4 weeks 2 weeks ICA 4-6 weeks 2-3 weeks Others 2-4 weeks 1-2 weeks"},{"location":"certification-comparison/#exam-environment-comparison","title":"Exam Environment Comparison","text":""},{"location":"certification-comparison/#performance-based-exams-cka-ckad-cks-ica-lfcs","title":"Performance-Based Exams (CKA, CKAD, CKS, ICA, LFCS)","text":"<ul> <li>Real terminal environment</li> <li>Access to official documentation</li> <li>Hands-on tasks</li> <li>Time management critical</li> <li>kubectl/CLI proficiency required</li> </ul>"},{"location":"certification-comparison/#multiple-choice-exams-kcna-kcsa-pca-etc","title":"Multiple-Choice Exams (KCNA, KCSA, PCA, etc.)","text":"<ul> <li>Question-based format</li> <li>No external resources</li> <li>Conceptual understanding</li> <li>Faster pace</li> <li>Memorization helpful</li> </ul>"},{"location":"certification-comparison/#renewal-requirements","title":"Renewal Requirements","text":"Certification Validity Renewal KCNA 3 years Retake exam KCSA 3 years Retake exam CKA 3 years Retake exam CKAD 3 years Retake exam CKS 2 years Retake exam PCA 3 years Retake exam Others 3 years Retake exam"},{"location":"certification-comparison/#recommended-order-for-beginners","title":"Recommended Order for Beginners","text":"<ol> <li>KCNA - Foundation concepts</li> <li>CKA - Core administration skills</li> <li>CKAD - Developer perspective</li> <li>KCSA - Security concepts</li> <li>CKS - Advanced security (requires CKA)</li> <li>PCA - Observability</li> <li>Other certifications - Based on career goals</li> </ol> <p>\u2190 Back to Home</p>"},{"location":"exam-tips/","title":"Exam Day Tips and Strategies","text":"<p>Comprehensive guide for exam day preparation and strategies for all CNCF certifications.</p>"},{"location":"exam-tips/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Pre-Exam Preparation</li> <li>Exam Environment Setup</li> <li>Time Management Strategies</li> <li>Common Pitfalls to Avoid</li> <li>Certification-Specific Tips</li> </ul>"},{"location":"exam-tips/#pre-exam-preparation","title":"Pre-Exam Preparation","text":""},{"location":"exam-tips/#one-week-before","title":"One Week Before","text":"<ul> <li>[ ] Review all exam domains and objectives</li> <li>[ ] Complete at least 2 full practice exams</li> <li>[ ] Identify and focus on weak areas</li> <li>[ ] Ensure your ID is valid and matches registration name</li> <li>[ ] Test your exam environment (webcam, microphone, internet)</li> </ul>"},{"location":"exam-tips/#one-day-before","title":"One Day Before","text":"<ul> <li>[ ] Light review only - no cramming</li> <li>[ ] Prepare your exam space (clean desk, good lighting)</li> <li>[ ] Get a good night's sleep (7-8 hours)</li> <li>[ ] Prepare water and snacks</li> <li>[ ] Set multiple alarms for exam time</li> </ul>"},{"location":"exam-tips/#exam-day-morning","title":"Exam Day Morning","text":"<ul> <li>[ ] Eat a healthy breakfast</li> <li>[ ] Avoid excessive caffeine</li> <li>[ ] Review your cheat sheet one last time</li> <li>[ ] Start exam check-in 30 minutes early</li> <li>[ ] Use the bathroom before starting</li> </ul>"},{"location":"exam-tips/#exam-environment-setup","title":"Exam Environment Setup","text":""},{"location":"exam-tips/#room-requirements","title":"Room Requirements","text":"<ul> <li>Clean desk policy: Only allowed items on desk</li> <li>Clear walls: Remove posters, whiteboards, sticky notes</li> <li>Good lighting: Face should be clearly visible</li> <li>Quiet environment: No interruptions allowed</li> <li>Single monitor: External monitors must be disconnected</li> </ul>"},{"location":"exam-tips/#technical-requirements","title":"Technical Requirements","text":"<pre><code>- Stable internet connection (minimum 1 Mbps)\n- Webcam with clear video\n- Working microphone\n- Supported browser (Chrome recommended)\n- Close all unnecessary applications\n- Disable notifications\n</code></pre>"},{"location":"exam-tips/#allowed-items","title":"Allowed Items","text":"<ul> <li>Government-issued ID</li> <li>Water in clear container (no labels)</li> <li>Prescribed medications (notify proctor)</li> </ul>"},{"location":"exam-tips/#not-allowed","title":"Not Allowed","text":"<ul> <li>Mobile phones</li> <li>Smartwatches</li> <li>Headphones/earbuds</li> <li>Books or notes</li> <li>Additional monitors</li> <li>Other people in room</li> </ul>"},{"location":"exam-tips/#time-management-strategies","title":"Time Management Strategies","text":""},{"location":"exam-tips/#for-performance-based-exams-cka-ckad-cks","title":"For Performance-Based Exams (CKA, CKAD, CKS)","text":"Strategy Description First Pass Answer easy questions first (2-3 min each) Flag Difficult Mark hard questions and move on Second Pass Return to flagged questions Time Check Check time every 30 minutes Last 15 min Review answers, check for errors"},{"location":"exam-tips/#time-allocation-by-question-weight","title":"Time Allocation by Question Weight","text":"<pre><code>Question Weight    Suggested Time\n5%                 5-6 minutes\n7%                 7-8 minutes\n10%                10-12 minutes\n13%                13-15 minutes\n</code></pre>"},{"location":"exam-tips/#for-multiple-choice-exams-kcna-kcsa-pca","title":"For Multiple-Choice Exams (KCNA, KCSA, PCA)","text":"<ul> <li>60 questions in 90 minutes = ~1.5 min per question</li> <li>Read question carefully before looking at answers</li> <li>Eliminate obviously wrong answers first</li> <li>Don't spend more than 2 minutes on any question</li> <li>Flag uncertain answers and return later</li> </ul>"},{"location":"exam-tips/#common-pitfalls-to-avoid","title":"Common Pitfalls to Avoid","text":""},{"location":"exam-tips/#technical-mistakes","title":"Technical Mistakes","text":"<ol> <li> <p>Wrong namespace <pre><code># Always check current context\nkubectl config current-context\n\n# Set namespace for session\nkubectl config set-context --current --namespace=&lt;namespace&gt;\n</code></pre></p> </li> <li> <p>Forgetting to save YAML files <pre><code># Always verify file was saved\ncat &lt;filename&gt;.yaml\n</code></pre></p> </li> <li> <p>Typos in resource names <pre><code># Use tab completion\nkubectl get pod &lt;TAB&gt;\n</code></pre></p> </li> <li> <p>Not verifying work <pre><code># Always verify resources are created\nkubectl get &lt;resource&gt; -n &lt;namespace&gt;\nkubectl describe &lt;resource&gt; &lt;name&gt;\n</code></pre></p> </li> </ol>"},{"location":"exam-tips/#time-management-mistakes","title":"Time Management Mistakes","text":"<ul> <li>Spending too long on one question</li> <li>Not reading the full question</li> <li>Overthinking simple questions</li> <li>Not using imperative commands when faster</li> </ul>"},{"location":"exam-tips/#environment-mistakes","title":"Environment Mistakes","text":"<ul> <li>Not bookmarking documentation beforehand</li> <li>Unfamiliar with exam terminal</li> <li>Not practicing with exam-like environment</li> </ul>"},{"location":"exam-tips/#certification-specific-tips","title":"Certification-Specific Tips","text":""},{"location":"exam-tips/#kcna-tips","title":"KCNA Tips","text":"<ul> <li>Focus on understanding concepts, not memorization</li> <li>Know the CNCF landscape and projects</li> <li>Understand Kubernetes architecture at high level</li> <li>Review cloud native principles</li> </ul>"},{"location":"exam-tips/#kcsa-tips","title":"KCSA Tips","text":"<ul> <li>Understand the 4Cs of cloud native security</li> <li>Know common attack vectors</li> <li>Understand RBAC concepts</li> <li>Review supply chain security</li> </ul>"},{"location":"exam-tips/#cka-tips","title":"CKA Tips","text":"<pre><code># Essential aliases to set up\nalias k=kubectl\nalias kgp='kubectl get pods'\nalias kgs='kubectl get svc'\nalias kgn='kubectl get nodes'\nexport do='--dry-run=client -o yaml'\n\n# Generate YAML quickly\nkubectl run nginx --image=nginx $do &gt; pod.yaml\nkubectl create deploy nginx --image=nginx $do &gt; deploy.yaml\n</code></pre> <ul> <li>Master <code>kubectl</code> imperative commands</li> <li>Practice cluster troubleshooting</li> <li>Know how to backup/restore etcd</li> <li>Understand networking and services</li> </ul>"},{"location":"exam-tips/#ckad-tips","title":"CKAD Tips","text":"<pre><code># Quick pod creation\nkubectl run nginx --image=nginx --port=80\n\n# Quick deployment\nkubectl create deploy nginx --image=nginx --replicas=3\n\n# Expose service\nkubectl expose deploy nginx --port=80 --type=ClusterIP\n\n# Create configmap\nkubectl create cm myconfig --from-literal=key=value\n\n# Create secret\nkubectl create secret generic mysecret --from-literal=pass=secret\n</code></pre> <ul> <li>Focus on speed with imperative commands</li> <li>Know pod design patterns</li> <li>Practice with Jobs and CronJobs</li> <li>Understand probes and resource limits</li> </ul>"},{"location":"exam-tips/#cks-tips","title":"CKS Tips","text":"<ul> <li>Know NetworkPolicy syntax by heart</li> <li>Understand Pod Security Standards</li> <li>Practice with Trivy, Falco</li> <li>Know how to create/apply AppArmor profiles</li> <li>Understand audit logging</li> </ul>"},{"location":"exam-tips/#pca-tips","title":"PCA Tips","text":"<ul> <li>Master PromQL syntax</li> <li>Know rate() vs irate() vs increase()</li> <li>Understand recording rules</li> <li>Practice alerting rule syntax</li> <li>Know common exporters</li> </ul>"},{"location":"exam-tips/#kubectl-shortcuts-for-exam","title":"kubectl Shortcuts for Exam","text":""},{"location":"exam-tips/#essential-aliases","title":"Essential Aliases","text":"<pre><code># Add to ~/.bashrc\nalias k=kubectl\nalias kaf='kubectl apply -f'\nalias kdel='kubectl delete'\nalias kd='kubectl describe'\nalias ke='kubectl edit'\nalias kl='kubectl logs'\nalias kx='kubectl exec -it'\n\n# Dry run shortcut\nexport do='--dry-run=client -o yaml'\nexport now='--force --grace-period=0'\n</code></pre>"},{"location":"exam-tips/#quick-commands","title":"Quick Commands","text":"<pre><code># Get all resources\nkubectl get all -A\n\n# Watch resources\nkubectl get pods -w\n\n# Get YAML output\nkubectl get pod nginx -o yaml\n\n# JSONPath queries\nkubectl get nodes -o jsonpath='{.items[*].status.addresses[0].address}'\n\n# Sort by column\nkubectl get pods --sort-by='.metadata.creationTimestamp'\n\n# Filter by label\nkubectl get pods -l app=nginx\n</code></pre>"},{"location":"exam-tips/#documentation-navigation","title":"Documentation Navigation","text":""},{"location":"exam-tips/#bookmark-these-pages","title":"Bookmark These Pages","text":"<p>Kubernetes: - https://kubernetes.io/docs/reference/kubectl/cheatsheet/ - https://kubernetes.io/docs/concepts/ - https://kubernetes.io/docs/tasks/</p> <p>Prometheus: - https://prometheus.io/docs/prometheus/latest/querying/basics/ - https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/</p>"},{"location":"exam-tips/#search-tips","title":"Search Tips","text":"<ul> <li>Use Ctrl+F to search within pages</li> <li>Use site search for specific topics</li> <li>Keep frequently used pages in separate tabs</li> </ul>"},{"location":"exam-tips/#exam-day-checklist","title":"Exam Day Checklist","text":""},{"location":"exam-tips/#2-hours-before","title":"2 Hours Before","text":"<ul> <li>[ ] Light meal, stay hydrated</li> <li>[ ] Review key concepts one last time</li> <li>[ ] Prepare exam room</li> </ul>"},{"location":"exam-tips/#30-minutes-before","title":"30 Minutes Before","text":"<ul> <li>[ ] Close unnecessary applications</li> <li>[ ] Clear browser cache</li> <li>[ ] Test webcam and microphone</li> <li>[ ] Have ID ready</li> <li>[ ] Start check-in process</li> </ul>"},{"location":"exam-tips/#during-exam","title":"During Exam","text":"<ul> <li>[ ] Read each question carefully</li> <li>[ ] Check namespace requirements</li> <li>[ ] Verify your work</li> <li>[ ] Flag difficult questions</li> <li>[ ] Manage your time</li> </ul>"},{"location":"exam-tips/#after-each-question","title":"After Each Question","text":"<ul> <li>[ ] Verify resource was created</li> <li>[ ] Check it matches requirements</li> <li>[ ] Move to next question</li> </ul>"},{"location":"exam-tips/#mental-preparation","title":"Mental Preparation","text":""},{"location":"exam-tips/#stay-calm","title":"Stay Calm","text":"<ul> <li>Take deep breaths if stressed</li> <li>It's okay to skip and return</li> <li>Trust your preparation</li> <li>Focus on one question at a time</li> </ul>"},{"location":"exam-tips/#if-you-get-stuck","title":"If You Get Stuck","text":"<ol> <li>Re-read the question carefully</li> <li>Check if you're in the right namespace</li> <li>Look for hints in the question</li> <li>Use documentation search</li> <li>Flag and move on if needed</li> </ol>"},{"location":"exam-tips/#positive-mindset","title":"Positive Mindset","text":"<ul> <li>You've prepared for this</li> <li>Many have passed before you</li> <li>One question doesn't define the exam</li> <li>Stay focused and confident</li> </ul> <p>\u2190 Back to Home</p>"},{"location":"study-schedules/","title":"Study Schedule Templates","text":"<p>This guide provides recommended study schedules for different time frames and certification paths. Choose the schedule that best fits your availability and learning style.</p>"},{"location":"study-schedules/#table-of-contents","title":"Table of Contents","text":"<ul> <li>2-Week Intensive Study Plan</li> <li>4-Week Balanced Study Plan</li> <li>8-Week Comprehensive Study Plan</li> <li>Kubestronaut Path Timeline</li> <li>Golden Kubestronaut Path Timeline</li> <li>Study Tips and Best Practices</li> </ul>"},{"location":"study-schedules/#2-week-intensive-study-plan","title":"2-Week Intensive Study Plan","text":"<p>Best for: Experienced practitioners with solid Kubernetes background who need a quick refresher before the exam.</p> <p>Time commitment: 4-6 hours per day</p>"},{"location":"study-schedules/#week-1-core-concepts-and-domains","title":"Week 1: Core Concepts and Domains","text":"Day Focus Area Activities Hours Day 1 Exam Overview Review exam objectives, set up practice environment, bookmark documentation 4 Day 2 Domain 1 Study first domain, take notes, practice commands 5 Day 3 Domain 2 Study second domain, hands-on labs 5 Day 4 Domain 3 Study third domain, practice scenarios 5 Day 5 Domain 4 Study fourth domain, hands-on exercises 5 Day 6 Domain 5 Study fifth domain (if applicable), review weak areas 5 Day 7 Review Review all domains, practice test #1 6"},{"location":"study-schedules/#week-2-practice-and-reinforcement","title":"Week 2: Practice and Reinforcement","text":"Day Focus Area Activities Hours Day 8 Weak Areas Focus on domains where you scored lowest 5 Day 9 Practice Test Full practice exam, analyze results 5 Day 10 Hands-on Labs Complete lab exercises for each domain 6 Day 11 Speed Drills Practice common tasks under time pressure 5 Day 12 Practice Test Second full practice exam 5 Day 13 Final Review Review notes, kubectl cheat sheet, YAML templates 4 Day 14 Exam Day Light review, system check, take exam 3"},{"location":"study-schedules/#daily-schedule-template-intensive","title":"Daily Schedule Template (Intensive)","text":"<pre><code>06:00 - 08:00  Morning study session (theory)\n08:00 - 09:00  Break / Exercise\n09:00 - 12:00  Hands-on practice\n12:00 - 13:00  Lunch break\n13:00 - 15:00  Lab exercises\n15:00 - 15:30  Break\n15:30 - 17:00  Review and note-taking\n</code></pre>"},{"location":"study-schedules/#4-week-balanced-study-plan","title":"4-Week Balanced Study Plan","text":"<p>Best for: Working professionals who can dedicate 2-3 hours per day with some weekend study time.</p> <p>Time commitment: 2-3 hours on weekdays, 4-5 hours on weekends</p>"},{"location":"study-schedules/#week-1-foundation","title":"Week 1: Foundation","text":"Day Focus Area Activities Hours Mon Setup Set up practice environment (minikube/kind), review exam format 2 Tue Domain 1 Read documentation, watch videos 2 Wed Domain 1 Hands-on practice 3 Thu Domain 1 Complete exercises, take notes 2 Fri Review Review Domain 1, quiz yourself 2 Sat Domain 2 Deep dive into Domain 2 5 Sun Domain 2 Practice labs, review 4"},{"location":"study-schedules/#week-2-core-domains","title":"Week 2: Core Domains","text":"Day Focus Area Activities Hours Mon Domain 3 Study theory and concepts 2 Tue Domain 3 Hands-on practice 3 Wed Domain 3 Complete exercises 2 Thu Domain 4 Study theory and concepts 2 Fri Domain 4 Hands-on practice 3 Sat Domain 4-5 Complete Domain 4, start Domain 5 5 Sun Domain 5 Complete Domain 5, review 4"},{"location":"study-schedules/#week-3-practice-and-reinforcement","title":"Week 3: Practice and Reinforcement","text":"Day Focus Area Activities Hours Mon Review Review Domains 1-2, identify gaps 2 Tue Review Review Domains 3-4, practice weak areas 3 Wed Review Review Domain 5, complete sample questions 2 Thu Practice Test Take first practice exam 2 Fri Analysis Analyze results, identify weak areas 2 Sat Weak Areas Focus study on lowest-scoring domains 5 Sun Labs Complete hands-on lab exercises 4"},{"location":"study-schedules/#week-4-final-preparation","title":"Week 4: Final Preparation","text":"Day Focus Area Activities Hours Mon Practice Test Second practice exam 2 Tue Review Review incorrect answers, study gaps 3 Wed Speed Practice Timed exercises, kubectl shortcuts 2 Thu Practice Test Final practice exam 2 Fri Light Review Review notes, cheat sheets, rest 2 Sat Exam Prep System check, environment setup, light review 3 Sun Exam Day Take the exam! 2-3"},{"location":"study-schedules/#8-week-comprehensive-study-plan","title":"8-Week Comprehensive Study Plan","text":"<p>Best for: Beginners or those wanting thorough preparation with work-life balance.</p> <p>Time commitment: 1-2 hours on weekdays, 3-4 hours on weekends</p>"},{"location":"study-schedules/#phase-1-foundation-weeks-1-2","title":"Phase 1: Foundation (Weeks 1-2)","text":""},{"location":"study-schedules/#week-1-getting-started","title":"Week 1: Getting Started","text":"Day Focus Activities Hours Mon Introduction Understand exam format, requirements, register 1 Tue Environment Set up local Kubernetes cluster (minikube/kind) 1.5 Wed Basics Kubernetes architecture overview 1 Thu Basics Core concepts: Pods, Deployments, Services 1.5 Fri Practice Basic kubectl commands 1 Sat Deep Dive Kubernetes components deep dive 3 Sun Review Review week 1, hands-on practice 3"},{"location":"study-schedules/#week-2-core-concepts","title":"Week 2: Core Concepts","text":"Day Focus Activities Hours Mon Domain 1 Introduction to first exam domain 1 Tue Domain 1 Key concepts and terminology 1.5 Wed Domain 1 Hands-on exercises 1.5 Thu Domain 1 Practice scenarios 1 Fri Review Domain 1 review and quiz 1 Sat Domain 1 Complete all Domain 1 exercises 4 Sun Assessment Self-assessment, identify gaps 3"},{"location":"study-schedules/#phase-2-domain-mastery-weeks-3-5","title":"Phase 2: Domain Mastery (Weeks 3-5)","text":""},{"location":"study-schedules/#week-3-domain-2","title":"Week 3: Domain 2","text":"Day Focus Activities Hours Mon Domain 2 Introduction and overview 1 Tue Domain 2 Core concepts 1.5 Wed Domain 2 Hands-on practice 1.5 Thu Domain 2 Advanced topics 1 Fri Domain 2 Practice exercises 1 Sat Domain 2 Complete labs 4 Sun Review Review Domains 1-2 3"},{"location":"study-schedules/#week-4-domains-3-4","title":"Week 4: Domains 3-4","text":"Day Focus Activities Hours Mon Domain 3 Introduction 1 Tue Domain 3 Core concepts and practice 1.5 Wed Domain 3 Complete exercises 1.5 Thu Domain 4 Introduction 1 Fri Domain 4 Core concepts 1 Sat Domain 4 Hands-on practice 4 Sun Review Review Domains 3-4 3"},{"location":"study-schedules/#week-5-domain-5-and-integration","title":"Week 5: Domain 5 and Integration","text":"Day Focus Activities Hours Mon Domain 5 Introduction 1 Tue Domain 5 Core concepts 1.5 Wed Domain 5 Hands-on practice 1.5 Thu Domain 5 Complete exercises 1 Fri Integration Cross-domain scenarios 1 Sat Review Review all domains 4 Sun Assessment First practice test 3"},{"location":"study-schedules/#phase-3-practice-and-refinement-weeks-6-7","title":"Phase 3: Practice and Refinement (Weeks 6-7)","text":""},{"location":"study-schedules/#week-6-practice-tests","title":"Week 6: Practice Tests","text":"Day Focus Activities Hours Mon Analysis Analyze practice test results 1 Tue Weak Areas Study lowest-scoring domain 1.5 Wed Weak Areas Practice exercises for weak areas 1.5 Thu Practice Timed practice scenarios 1 Fri Review Review and note-taking 1 Sat Practice Test Second practice exam 4 Sun Analysis Review results, adjust study plan 3"},{"location":"study-schedules/#week-7-intensive-practice","title":"Week 7: Intensive Practice","text":"Day Focus Activities Hours Mon Speed Kubectl speed drills 1 Tue YAML YAML template practice 1.5 Wed Troubleshooting Troubleshooting scenarios 1.5 Thu Practice Test Third practice exam 2 Fri Review Review incorrect answers 1 Sat Mock Exam Full mock exam with timer 4 Sun Final Review Review all notes and cheat sheets 3"},{"location":"study-schedules/#phase-4-final-preparation-week-8","title":"Phase 4: Final Preparation (Week 8)","text":"Day Focus Activities Hours Mon Light Review Review key concepts only 1 Tue Cheat Sheets Review kubectl cheat sheet 1 Wed Documentation Practice navigating official docs 1 Thu Rest Light review, get good sleep 0.5 Fri Exam Prep System check, environment setup 1 Sat Exam Day Take the exam! 2-3 Sun Celebrate! You did it! \ud83c\udf89 -"},{"location":"study-schedules/#kubestronaut-path-timeline","title":"Kubestronaut Path Timeline","text":"<p>Goal: Achieve all 5 Kubestronaut certifications (KCNA, KCSA, CKA, CKAD, CKS)</p>"},{"location":"study-schedules/#recommended-order","title":"Recommended Order","text":"<pre><code>KCNA \u2192 KCSA \u2192 CKA \u2192 CKAD \u2192 CKS\n  \u2193      \u2193      \u2193      \u2193      \u2193\n 4wk    4wk    8wk    6wk    8wk\n</code></pre>"},{"location":"study-schedules/#6-month-kubestronaut-timeline","title":"6-Month Kubestronaut Timeline","text":"Month Certification Study Time Notes Month 1 KCNA 4 weeks Foundation - multiple choice, easier Month 2 KCSA 4 weeks Security focus - multiple choice Month 3-4 CKA 8 weeks Hands-on, core administration skills Month 5 CKAD 6 weeks Application development focus Month 6 CKS 8 weeks Advanced security, requires CKA"},{"location":"study-schedules/#12-month-relaxed-timeline","title":"12-Month Relaxed Timeline","text":"Period Certification Study Time Notes Jan-Feb KCNA 8 weeks Relaxed pace, solid foundation Mar-Apr KCSA 8 weeks Security concepts May-Jul CKA 12 weeks Thorough preparation Aug-Sep CKAD 8 weeks Developer focus Oct-Dec CKS 12 weeks Advanced security"},{"location":"study-schedules/#golden-kubestronaut-path-timeline","title":"Golden Kubestronaut Path Timeline","text":"<p>Goal: Achieve Golden Kubestronaut status by completing ALL certifications</p> <p>Note: Golden Kubestronaut requires completing the 5 Kubestronaut certifications PLUS all additional CNCF certifications. This is the ultimate achievement for cloud native professionals.</p>"},{"location":"study-schedules/#required-certifications-all-required","title":"Required Certifications (All Required)","text":"<p>Kubestronaut (5 certs) - Foundation: 1. KCNA - Kubernetes and Cloud Native Associate 2. KCSA - Kubernetes and Cloud Native Security Associate 3. CKA - Certified Kubernetes Administrator 4. CKAD - Certified Kubernetes Application Developer 5. CKS - Certified Kubernetes Security Specialist</p> <p>Additional Certifications for Golden Kubestronaut: 6. PCA - Prometheus Certified Associate 7. CNPE - Certified Cloud Native Platform Engineer (required after March 1, 2025) 8. LFCS - Linux Foundation Certified System Administrator 9. ICA - Istio Certified Associate 10. CCA - Cilium Certified Associate 11. CAPA - Certified Argo Project Associate 12. CGOA - Certified GitOps Associate 13. CBA - Certified Backstage Associate 14. OTCA - OpenTelemetry Certified Associate 15. KCA - Kyverno Certified Associate 16. CNPA - Cloud Native Platform Associate</p>"},{"location":"study-schedules/#18-24-month-golden-kubestronaut-timeline","title":"18-24 Month Golden Kubestronaut Timeline","text":"Period Certification Focus Study Time Month 1 KCNA Cloud Native fundamentals 4 weeks Month 2 KCSA Security fundamentals 4 weeks Month 3-4 CKA Cluster administration 8 weeks Month 5 CKAD Application development 6 weeks Month 6-7 CKS Security specialist 8 weeks Month 8 PCA Prometheus &amp; observability 4 weeks Month 9 LFCS Linux system administration 4 weeks Month 10 ICA Istio service mesh 4 weeks Month 11 CCA Cilium networking 4 weeks Month 12 CAPA Argo CD/Workflows 4 weeks Month 13 CGOA GitOps principles 4 weeks Month 14 CBA Backstage developer portals 4 weeks Month 15 OTCA OpenTelemetry observability 4 weeks Month 16 KCA Kyverno policy management 4 weeks Month 17 CNPA Platform engineering basics 4 weeks Month 18-20 CNPE Advanced platform engineering 10 weeks"},{"location":"study-schedules/#certification-path-diagram","title":"Certification Path Diagram","text":"<pre><code>                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                         \u2502         Golden Kubestronaut         \u2502\n                         \u2502        (ALL Certifications)         \u2502\n                         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502                                     \u2502                                     \u2502\n     \u25bc                                     \u25bc                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Kubestronaut\u2502                    \u2502   Additional  \u2502                    \u2502   Platform    \u2502\n\u2502  (5 certs)  \u2502                    \u2502     Certs     \u2502                    \u2502  Engineering  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502                                    \u2502                                    \u2502\n      \u2502                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n      \u2502                         \u2502          \u2502          \u2502                        \u2502\n      \u25bc                         \u25bc          \u25bc          \u25bc                        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502KCNA, KCSA \u2502              \u2502  PCA   \u2502 \u2502  ICA   \u2502 \u2502  CCA   \u2502              \u2502   CNPE    \u2502\n\u2502CKA, CKAD  \u2502              \u2502  LFCS  \u2502 \u2502  CAPA  \u2502 \u2502  CGOA  \u2502              \u2502   CNPA    \u2502\n\u2502   CKS     \u2502              \u2502  CBA   \u2502 \u2502  OTCA  \u2502 \u2502  KCA   \u2502              \u2502           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"study-schedules/#study-tips-and-best-practices","title":"Study Tips and Best Practices","text":""},{"location":"study-schedules/#before-you-start","title":"Before You Start","text":"<ul> <li>[ ] Register for the exam - Having a deadline creates accountability</li> <li>[ ] Set up your environment - minikube, kind, or cloud cluster</li> <li>[ ] Bookmark documentation - kubernetes.io, prometheus.io, etc.</li> <li>[ ] Join study groups - Kubernetes Slack, Reddit, Discord</li> </ul>"},{"location":"study-schedules/#during-study","title":"During Study","text":"<ul> <li>[ ] Hands-on practice - 70% of study time should be practical</li> <li>[ ] Take notes - Write your own cheat sheets</li> <li>[ ] Use flashcards - For quick concept review</li> <li>[ ] Practice under time pressure - Simulate exam conditions</li> <li>[ ] Review mistakes - Learn from practice test errors</li> </ul>"},{"location":"study-schedules/#time-management","title":"Time Management","text":"Activity Recommended % Reading/Videos 20% Hands-on Labs 50% Practice Tests 20% Review/Notes 10%"},{"location":"study-schedules/#weekly-milestones","title":"Weekly Milestones","text":"<ul> <li>End of Week 1: Environment set up, exam format understood</li> <li>End of Week 2: First domain completed</li> <li>End of Week 4: All domains covered at basic level</li> <li>End of Week 6: First practice test completed</li> <li>End of Week 8: Ready for exam</li> </ul>"},{"location":"study-schedules/#rest-and-recovery","title":"Rest and Recovery","text":"<ul> <li>Take at least 1 full day off per week</li> <li>Get 7-8 hours of sleep, especially before exam</li> <li>Exercise regularly - helps with focus and retention</li> <li>Don't cram the night before the exam</li> </ul>"},{"location":"study-schedules/#exam-day-checklist","title":"Exam Day Checklist","text":"<ul> <li>[ ] Government-issued ID ready</li> <li>[ ] Quiet, clean room prepared</li> <li>[ ] Stable internet connection tested</li> <li>[ ] System requirements verified</li> <li>[ ] Water bottle nearby</li> <li>[ ] Bathroom break taken</li> <li>[ ] Positive mindset!</li> </ul>"},{"location":"study-schedules/#certification-specific-recommendations","title":"Certification-Specific Recommendations","text":"Certification Recommended Plan Key Focus Areas KCNA 2-4 weeks Concepts, architecture, ecosystem KCSA 2-4 weeks Security concepts, threat models CKA 6-8 weeks Cluster ops, troubleshooting, networking CKAD 4-6 weeks Pod design, deployments, services CKS 6-8 weeks Security hardening, runtime security PCA 4-6 weeks PromQL, alerting, Grafana CNPE 8-10 weeks Platform design, operators, GitOps"},{"location":"study-schedules/#progress-tracking-template","title":"Progress Tracking Template","text":"<p>Use this template to track your progress:</p> <pre><code>## My Certification Journey\n\n### Current Certification: [Name]\n- Start Date: YYYY-MM-DD\n- Target Exam Date: YYYY-MM-DD\n- Study Plan: [2-week / 4-week / 8-week]\n\n### Weekly Progress\n\n#### Week 1\n- [ ] Day 1: \n- [ ] Day 2: \n- [ ] Day 3: \n- [ ] Day 4: \n- [ ] Day 5: \n- [ ] Day 6: \n- [ ] Day 7: \n\n### Practice Test Scores\n| Date | Score | Notes |\n|------|-------|-------|\n|      |       |       |\n\n### Weak Areas to Focus\n1. \n2. \n3. \n\n### Notes\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"theme-test/","title":"Theme Testing Page","text":"<p>This page is used to test the dark mode functionality and ensure all components work properly in both themes.</p>"},{"location":"theme-test/#code-blocks","title":"Code Blocks","text":""},{"location":"theme-test/#inline-code","title":"Inline Code","text":"<p>Here is some <code>inline code</code> that should be readable in both themes.</p>"},{"location":"theme-test/#code-blocks_1","title":"Code Blocks","text":"<pre><code># Example YAML configuration\ntheme:\n  name: material\n  palette:\n    - scheme: default\n    - scheme: slate\n</code></pre> <pre><code># Example shell script\necho \"Testing dark mode support\"\nnpm install\nnpm run build\n</code></pre> <pre><code># Example Python code\ndef test_theme():\n    themes = ['light', 'dark']\n    for theme in themes:\n        print(f\"Testing {theme} theme\")\n    return True\n</code></pre>"},{"location":"theme-test/#tables","title":"Tables","text":"Feature Light Mode Dark Mode Status Code Syntax \u2705 \u2705 Working Tables \u2705 \u2705 Working Navigation \u2705 \u2705 Working Images \u2705 \u2705 Working"},{"location":"theme-test/#admonitions","title":"Admonitions","text":"<p>Note</p> <p>This is a note that should be readable in both themes.</p> <p>Warning</p> <p>This is a warning that should be visible in both themes.</p> <p>Danger</p> <p>This is a danger alert that must be clearly visible.</p>"},{"location":"theme-test/#blockquotes","title":"Blockquotes","text":"<p>This is a blockquote that should have good contrast in both light and dark themes. The text should be easily readable.</p>"},{"location":"theme-test/#lists","title":"Lists","text":""},{"location":"theme-test/#unordered-list","title":"Unordered List","text":"<ul> <li>Item 1</li> <li>Item 2</li> <li>Nested item 1</li> <li>Nested item 2</li> <li>Item 3</li> </ul>"},{"location":"theme-test/#ordered-list","title":"Ordered List","text":"<ol> <li>First item</li> <li>Second item</li> <li>Third item</li> </ol>"},{"location":"theme-test/#links","title":"Links","text":"<ul> <li>External Link</li> <li>Internal Link</li> </ul>"},{"location":"theme-test/#tabs","title":"Tabs","text":"YAMLJSONTOML <pre><code>theme: material\nfeatures:\n  - navigation.tabs\n</code></pre> <pre><code>{\n  \"theme\": \"material\",\n  \"features\": [\"navigation.tabs\"]\n}\n</code></pre> <pre><code>[theme]\nname = \"material\"\nfeatures = [\"navigation.tabs\"]\n</code></pre>"},{"location":"theme-test/#detailssummary","title":"Details/Summary","text":"Click to expand details  This content should be readable in both themes when expanded.  <pre><code>Some code inside details\n</code></pre>"},{"location":"theme-test/#images-and-diagrams","title":"Images and Diagrams","text":""},{"location":"theme-test/#regular-image","title":"Regular Image","text":""},{"location":"theme-test/#mermaid-diagram-if-supported","title":"Mermaid Diagram (if supported)","text":"<pre><code>graph TD\n    A[Light Theme] --&gt; B[Dark Theme]\n    B --&gt; C[System Preference]\n    C --&gt; D[User Choice]\n    D --&gt; E[Persistence]\n</code></pre>"},{"location":"theme-test/#form-elements","title":"Form Elements","text":""},{"location":"theme-test/#input-fields","title":"Input Fields","text":""},{"location":"theme-test/#select-dropdown","title":"Select Dropdown","text":"<p> Option 1 Option 2 Option 3 </p>"},{"location":"theme-test/#textarea","title":"Textarea","text":""},{"location":"theme-test/#progress-bars","title":"Progress Bars","text":"75%"},{"location":"theme-test/#badges","title":"Badges","text":"<p>NEW DONE WIP</p>"},{"location":"theme-test/#theme-testing-checklist","title":"Theme Testing Checklist","text":"<ul> <li>[x] Code blocks are readable</li> <li>[x] Tables have proper contrast</li> <li>[x] Navigation works properly</li> <li>[x] Links are visible and clickable</li> <li>[x] Admonitions are clearly visible</li> <li>[x] Blockquotes have good contrast</li> <li>[x] Form elements are usable</li> <li>[x] Images display properly</li> <li>[x] Smooth transitions work</li> <li>[x] Theme preference persists</li> </ul>"},{"location":"theme-test/#javascript-theme-controls","title":"JavaScript Theme Controls","text":"<p>You can also control the theme programmatically:</p> <pre><code>// Get current theme\nconst currentTheme = window.themePersistence.getTheme();\n\n// Set theme explicitly\nwindow.themePersistence.setTheme('slate'); // Dark mode\nwindow.themePersistence.setTheme('default'); // Light mode\n\n// Toggle system preference\nwindow.themePersistence.toggleSystemPreference();\n</code></pre>"},{"location":"theme-test/#testing-instructions","title":"Testing Instructions","text":"<ol> <li>Theme Persistence Test:</li> <li>Switch to dark mode</li> <li>Refresh the page</li> <li> <p>Verify dark mode is maintained</p> </li> <li> <p>System Preference Test:</p> </li> <li>Set system to dark mode</li> <li>Open the site in a new tab</li> <li> <p>Verify it follows system preference</p> </li> <li> <p>Transition Test:</p> </li> <li>Switch between themes</li> <li>Verify smooth transitions</li> <li> <p>Check for no flickering</p> </li> <li> <p>Component Test:</p> </li> <li>Check all components above</li> <li>Verify readability in both themes</li> <li>Test interactive elements</li> </ol> <p>This page is for testing purposes and can be removed after verification.</p>"},{"location":"video-resources/","title":"Video Resource Recommendations","text":"<p>Curated list of high-quality video resources for each CNCF certification.</p>"},{"location":"video-resources/#kcna-kubernetes-and-cloud-native-associate","title":"KCNA - Kubernetes and Cloud Native Associate","text":""},{"location":"video-resources/#official-courses","title":"Official Courses","text":"<ul> <li>Linux Foundation: Kubernetes and Cloud Native Essentials (LFS250)</li> </ul>"},{"location":"video-resources/#youtube-channels","title":"YouTube Channels","text":"<ul> <li>TechWorld with Nana - Kubernetes basics</li> <li>KodeKloud - KCNA preparation</li> <li>CNCF - Official CNCF content</li> </ul>"},{"location":"video-resources/#recommended-playlists","title":"Recommended Playlists","text":"<ul> <li>Kubernetes Tutorial for Beginners - TechWorld with Nana</li> <li>KCNA Exam Preparation - KodeKloud</li> </ul>"},{"location":"video-resources/#kcsa-kubernetes-and-cloud-native-security-associate","title":"KCSA - Kubernetes and Cloud Native Security Associate","text":""},{"location":"video-resources/#official-courses_1","title":"Official Courses","text":"<ul> <li>Linux Foundation: Kubernetes Security Essentials (LFS260)</li> </ul>"},{"location":"video-resources/#youtube-resources","title":"YouTube Resources","text":"<ul> <li>Kubernetes Security Best Practices - CNCF</li> <li>Container Security Fundamentals - Aqua Security</li> </ul>"},{"location":"video-resources/#recommended-videos","title":"Recommended Videos","text":"<ul> <li>Kubernetes Security 101</li> <li>RBAC Deep Dive</li> </ul>"},{"location":"video-resources/#cka-certified-kubernetes-administrator","title":"CKA - Certified Kubernetes Administrator","text":""},{"location":"video-resources/#official-courses_2","title":"Official Courses","text":"<ul> <li>Linux Foundation: Kubernetes Administration (LFS458)</li> </ul>"},{"location":"video-resources/#udemy-courses","title":"Udemy Courses","text":"<ul> <li>Certified Kubernetes Administrator (CKA) - Mumshad Mannambeth</li> <li>Kubernetes CKA - KodeKloud</li> </ul>"},{"location":"video-resources/#youtube-playlists","title":"YouTube Playlists","text":"<ul> <li>CKA Full Course - FreeCodeCamp</li> <li>Kubernetes Administration - Just me and Opensource</li> </ul>"},{"location":"video-resources/#recommended-videos_1","title":"Recommended Videos","text":"<ul> <li>CKA Exam Tips and Tricks</li> <li>etcd Backup and Restore</li> <li>Kubernetes Networking Deep Dive</li> </ul>"},{"location":"video-resources/#ckad-certified-kubernetes-application-developer","title":"CKAD - Certified Kubernetes Application Developer","text":""},{"location":"video-resources/#official-courses_3","title":"Official Courses","text":"<ul> <li>Linux Foundation: Kubernetes for Developers (LFD259)</li> </ul>"},{"location":"video-resources/#udemy-courses_1","title":"Udemy Courses","text":"<ul> <li>Kubernetes CKAD - Mumshad Mannambeth</li> <li>CKAD with Practice Tests - KodeKloud</li> </ul>"},{"location":"video-resources/#youtube-resources_1","title":"YouTube Resources","text":"<ul> <li>CKAD Crash Course - TechWorld with Nana</li> <li>Kubernetes for Developers - IBM Technology</li> </ul>"},{"location":"video-resources/#recommended-videos_2","title":"Recommended Videos","text":"<ul> <li>Pod Design Patterns</li> <li>Helm Tutorial</li> <li>ConfigMaps and Secrets</li> </ul>"},{"location":"video-resources/#cks-certified-kubernetes-security-specialist","title":"CKS - Certified Kubernetes Security Specialist","text":""},{"location":"video-resources/#official-courses_4","title":"Official Courses","text":"<ul> <li>Linux Foundation: Kubernetes Security (LFS260)</li> </ul>"},{"location":"video-resources/#udemy-courses_2","title":"Udemy Courses","text":"<ul> <li>Kubernetes CKS - Kim Wuestkamp</li> <li>CKS Course - KodeKloud</li> </ul>"},{"location":"video-resources/#youtube-resources_2","title":"YouTube Resources","text":"<ul> <li>CKS Full Course - KodeKloud</li> <li>Kubernetes Security - Aqua Security</li> </ul>"},{"location":"video-resources/#recommended-videos_3","title":"Recommended Videos","text":"<ul> <li>Network Policies Deep Dive</li> <li>Falco Tutorial</li> <li>Pod Security Standards</li> </ul>"},{"location":"video-resources/#pca-prometheus-certified-associate","title":"PCA - Prometheus Certified Associate","text":""},{"location":"video-resources/#official-resources","title":"Official Resources","text":"<ul> <li>Prometheus Documentation</li> <li>Grafana Tutorials</li> </ul>"},{"location":"video-resources/#youtube-channels_1","title":"YouTube Channels","text":"<ul> <li>Prometheus Monitoring - TechWorld with Nana</li> <li>Grafana Labs</li> </ul>"},{"location":"video-resources/#recommended-videos_4","title":"Recommended Videos","text":"<ul> <li>Prometheus Full Tutorial</li> <li>PromQL Tutorial</li> <li>Alertmanager Setup</li> </ul>"},{"location":"video-resources/#additional-certifications","title":"Additional Certifications","text":""},{"location":"video-resources/#ica-istio-certified-associate","title":"ICA - Istio Certified Associate","text":"<ul> <li>Istio Service Mesh - TechWorld with Nana</li> <li>Istio Crash Course - FreeCodeCamp</li> </ul>"},{"location":"video-resources/#cca-cilium-certified-associate","title":"CCA - Cilium Certified Associate","text":"<ul> <li>Cilium Tutorial - Isovalent</li> <li>eBPF and Cilium</li> </ul>"},{"location":"video-resources/#capa-certified-argo-project-associate","title":"CAPA - Certified Argo Project Associate","text":"<ul> <li>Argo CD Tutorial - TechWorld with Nana</li> <li>GitOps with Argo CD</li> </ul>"},{"location":"video-resources/#cgoa-certified-gitops-associate","title":"CGOA - Certified GitOps Associate","text":"<ul> <li>GitOps Explained - TechWorld with Nana</li> <li>Flux CD Tutorial</li> </ul>"},{"location":"video-resources/#otca-opentelemetry-certified-associate","title":"OTCA - OpenTelemetry Certified Associate","text":"<ul> <li>OpenTelemetry Tutorial</li> <li>Distributed Tracing</li> </ul>"},{"location":"video-resources/#kca-kyverno-certified-associate","title":"KCA - Kyverno Certified Associate","text":"<ul> <li>Kyverno Policy Engine</li> <li>Kubernetes Policy Management</li> </ul>"},{"location":"video-resources/#general-kubernetes-channels","title":"General Kubernetes Channels","text":"Channel Focus TechWorld with Nana Beginner-friendly tutorials KodeKloud Certification prep CNCF Official content IBM Technology Concepts explained DevOps Toolkit Advanced topics That DevOps Guy Practical tutorials"},{"location":"video-resources/#conference-talks","title":"Conference Talks","text":""},{"location":"video-resources/#kubecon-recordings","title":"KubeCon Recordings","text":"<ul> <li>KubeCon + CloudNativeCon - All conference talks</li> <li>KubeCon NA 2023</li> <li>KubeCon EU 2023</li> </ul> <p>\u2190 Back to Home</p>"},{"location":"capa/","title":"CAPA - Certified Argo Project Associate","text":"<p>The Certified Argo Project Associate (CAPA) exam demonstrates knowledge of GitOps principles and the Argo project ecosystem.</p>"},{"location":"capa/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"capa/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Argo CD 40% Argo Workflows 25% Argo Rollouts 20% Argo Events 15%"},{"location":"capa/#key-topics","title":"Key Topics","text":""},{"location":"capa/#argo-cd","title":"Argo CD","text":"<ul> <li>Application deployment and sync</li> <li>Repository management</li> <li>Application health and sync status</li> <li>Multi-cluster deployment</li> </ul>"},{"location":"capa/#argo-workflows","title":"Argo Workflows","text":"<ul> <li>Workflow templates</li> <li>DAG and steps</li> <li>Artifacts and parameters</li> <li>Workflow execution</li> </ul>"},{"location":"capa/#argo-rollouts","title":"Argo Rollouts","text":"<ul> <li>Blue-green deployments</li> <li>Canary deployments</li> <li>Analysis and metrics</li> <li>Traffic management</li> </ul>"},{"location":"capa/#argo-events","title":"Argo Events","text":"<ul> <li>Event sources</li> <li>Sensors and triggers</li> <li>Event-driven workflows</li> </ul>"},{"location":"capa/#study-resources","title":"Study Resources","text":"<ul> <li>Argo CD Documentation</li> <li>Argo Workflows Documentation</li> <li>Argo Rollouts Documentation</li> <li>CAPA Curriculum</li> </ul>"},{"location":"capa/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"capa/01-argocd-fundamentals/","title":"Argo CD Fundamentals","text":"<p>Comprehensive guide to Argo CD for CAPA certification.</p>"},{"location":"capa/01-argocd-fundamentals/#overview","title":"Overview","text":"<p>Argo CD is a declarative GitOps continuous delivery tool for Kubernetes:</p> <ul> <li>Declarative - Application definitions in Git</li> <li>Automated - Sync applications automatically</li> <li>Auditable - Git history as audit log</li> <li>Multi-cluster - Manage multiple clusters</li> </ul>"},{"location":"capa/01-argocd-fundamentals/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Argo CD Server                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  API Server \u2502  \u2502  Repo Server\u2502  \u2502 Application \u2502     \u2502\n\u2502  \u2502             \u2502  \u2502             \u2502  \u2502 Controller  \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                 \u2502                 \u2502\n         \u25bc                 \u25bc                 \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502   UI    \u2502      \u2502   Git   \u2502      \u2502  K8s    \u2502\n    \u2502   CLI   \u2502      \u2502  Repos  \u2502      \u2502 Cluster \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#components","title":"Components","text":"<ul> <li>API Server - gRPC/REST API, Web UI, CLI</li> <li>Repository Server - Clones Git repos, generates manifests</li> <li>Application Controller - Monitors applications, syncs state</li> </ul>"},{"location":"capa/01-argocd-fundamentals/#installation","title":"Installation","text":"<pre><code># Create namespace\nkubectl create namespace argocd\n\n# Install Argo CD\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# Get admin password\nkubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d\n\n# Port forward UI\nkubectl port-forward svc/argocd-server -n argocd 8080:443\n\n# Install CLI\ncurl -sSL -o argocd https://github.com/argoproj/argo-cd/releases/latest/download/argocd-linux-amd64\nchmod +x argocd\nsudo mv argocd /usr/local/bin/\n\n# Login\nargocd login localhost:8080\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#application-resource","title":"Application Resource","text":""},{"location":"capa/01-argocd-fundamentals/#basic-application","title":"Basic Application","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: guestbook\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/argoproj/argocd-example-apps.git\n    targetRevision: HEAD\n    path: guestbook\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: guestbook\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#application-with-helm","title":"Application with Helm","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: nginx\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://charts.bitnami.com/bitnami\n    chart: nginx\n    targetRevision: 15.0.0\n    helm:\n      values: |\n        replicaCount: 2\n        service:\n          type: ClusterIP\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: nginx\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#application-with-kustomize","title":"Application with Kustomize","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: kustomize-app\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/myorg/myapp.git\n    targetRevision: HEAD\n    path: overlays/production\n    kustomize:\n      images:\n      - myapp=myregistry/myapp:v1.0.0\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: production\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#sync-policies","title":"Sync Policies","text":""},{"location":"capa/01-argocd-fundamentals/#automated-sync","title":"Automated Sync","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: auto-sync-app\nspec:\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n      allowEmpty: false\n    syncOptions:\n    - CreateNamespace=true\n    - PruneLast=true\n    retry:\n      limit: 5\n      backoff:\n        duration: 5s\n        factor: 2\n        maxDuration: 3m\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#sync-options","title":"Sync Options","text":"Option Description <code>prune</code> Delete resources not in Git <code>selfHeal</code> Auto-sync when drift detected <code>CreateNamespace</code> Create namespace if missing <code>PruneLast</code> Prune after sync <code>ApplyOutOfSyncOnly</code> Only sync out-of-sync resources"},{"location":"capa/01-argocd-fundamentals/#projects","title":"Projects","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: AppProject\nmetadata:\n  name: production\n  namespace: argocd\nspec:\n  description: Production applications\n  sourceRepos:\n  - 'https://github.com/myorg/*'\n  destinations:\n  - namespace: 'prod-*'\n    server: https://kubernetes.default.svc\n  clusterResourceWhitelist:\n  - group: ''\n    kind: Namespace\n  namespaceResourceWhitelist:\n  - group: '*'\n    kind: '*'\n  roles:\n  - name: developer\n    policies:\n    - p, proj:production:developer, applications, get, production/*, allow\n    - p, proj:production:developer, applications, sync, production/*, allow\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#applicationset","title":"ApplicationSet","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: ApplicationSet\nmetadata:\n  name: cluster-apps\n  namespace: argocd\nspec:\n  generators:\n  - list:\n      elements:\n      - cluster: dev\n        url: https://dev.example.com\n      - cluster: staging\n        url: https://staging.example.com\n      - cluster: prod\n        url: https://prod.example.com\n  template:\n    metadata:\n      name: '{{cluster}}-app'\n    spec:\n      project: default\n      source:\n        repoURL: https://github.com/myorg/myapp.git\n        targetRevision: HEAD\n        path: 'envs/{{cluster}}'\n      destination:\n        server: '{{url}}'\n        namespace: myapp\n</code></pre>"},{"location":"capa/01-argocd-fundamentals/#cli-commands","title":"CLI Commands","text":"<pre><code># Application management\nargocd app list\nargocd app get &lt;app-name&gt;\nargocd app create &lt;app-name&gt; --repo &lt;repo&gt; --path &lt;path&gt; --dest-server &lt;server&gt; --dest-namespace &lt;ns&gt;\nargocd app sync &lt;app-name&gt;\nargocd app delete &lt;app-name&gt;\n\n# Sync operations\nargocd app sync &lt;app-name&gt; --prune\nargocd app sync &lt;app-name&gt; --force\nargocd app diff &lt;app-name&gt;\n\n# History and rollback\nargocd app history &lt;app-name&gt;\nargocd app rollback &lt;app-name&gt; &lt;revision&gt;\n\n# Project management\nargocd proj list\nargocd proj get &lt;project-name&gt;\n</code></pre> <p>\u2190 Back to CAPA Overview</p>"},{"location":"capa/sample-questions/","title":"CAPA Sample Practice Questions","text":""},{"location":"capa/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Argo CD Documentation</li> <li>Killercoda Argo Scenarios</li> </ul>"},{"location":"capa/sample-questions/#argo-cd-40","title":"Argo CD (40%)","text":""},{"location":"capa/sample-questions/#question-1","title":"Question 1","text":"<p>Create an Argo CD Application that deploys from a Git repository.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-app\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/org/repo.git\n    targetRevision: HEAD\n    path: manifests\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: default\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n</code></pre>"},{"location":"capa/sample-questions/#question-2","title":"Question 2","text":"<p>How do you sync an application manually using the CLI?</p> Show Solution <pre><code>argocd app sync my-app\n\n# With prune\nargocd app sync my-app --prune\n\n# Force sync\nargocd app sync my-app --force\n</code></pre>"},{"location":"capa/sample-questions/#question-3","title":"Question 3","text":"<p>Configure an Application to use a Helm chart with custom values.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: helm-app\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://charts.example.com\n    chart: my-chart\n    targetRevision: 1.0.0\n    helm:\n      values: |\n        replicaCount: 3\n        image:\n          tag: latest\n      parameters:\n      - name: service.type\n        value: LoadBalancer\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: default\n</code></pre>"},{"location":"capa/sample-questions/#question-4","title":"Question 4","text":"<p>What are the different sync statuses in Argo CD?</p> Show Solution  **Sync Status:** - **Synced** - Live state matches desired state - **OutOfSync** - Live state differs from desired state - **Unknown** - Unable to determine sync status  **Health Status:** - **Healthy** - Resource is healthy - **Progressing** - Resource is not healthy but could become healthy - **Degraded** - Resource is degraded - **Suspended** - Resource is suspended - **Missing** - Resource does not exist - **Unknown** - Health status unknown"},{"location":"capa/sample-questions/#argo-workflows-25","title":"Argo Workflows (25%)","text":""},{"location":"capa/sample-questions/#question-5","title":"Question 5","text":"<p>Create a simple Argo Workflow with two sequential steps.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Workflow\nmetadata:\n  generateName: hello-world-\nspec:\n  entrypoint: main\n  templates:\n  - name: main\n    steps:\n    - - name: step1\n        template: hello\n    - - name: step2\n        template: world\n  - name: hello\n    container:\n      image: alpine\n      command: [echo, \"Hello\"]\n  - name: world\n    container:\n      image: alpine\n      command: [echo, \"World\"]\n</code></pre>"},{"location":"capa/sample-questions/#question-6","title":"Question 6","text":"<p>Create a DAG workflow with parallel tasks.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Workflow\nmetadata:\n  generateName: dag-workflow-\nspec:\n  entrypoint: main\n  templates:\n  - name: main\n    dag:\n      tasks:\n      - name: A\n        template: task\n      - name: B\n        template: task\n        dependencies: [A]\n      - name: C\n        template: task\n        dependencies: [A]\n      - name: D\n        template: task\n        dependencies: [B, C]\n  - name: task\n    container:\n      image: alpine\n      command: [echo, \"Running task\"]\n</code></pre>"},{"location":"capa/sample-questions/#question-7","title":"Question 7","text":"<p>Pass parameters between workflow steps.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Workflow\nmetadata:\n  generateName: param-workflow-\nspec:\n  entrypoint: main\n  templates:\n  - name: main\n    steps:\n    - - name: generate\n        template: gen-output\n    - - name: consume\n        template: use-output\n        arguments:\n          parameters:\n          - name: message\n            value: \"{{steps.generate.outputs.parameters.result}}\"\n  - name: gen-output\n    container:\n      image: alpine\n      command: [sh, -c, \"echo 'Hello' &gt; /tmp/result.txt\"]\n    outputs:\n      parameters:\n      - name: result\n        valueFrom:\n          path: /tmp/result.txt\n  - name: use-output\n    inputs:\n      parameters:\n      - name: message\n    container:\n      image: alpine\n      command: [echo, \"{{inputs.parameters.message}}\"]\n</code></pre>"},{"location":"capa/sample-questions/#argo-rollouts-20","title":"Argo Rollouts (20%)","text":""},{"location":"capa/sample-questions/#question-8","title":"Question 8","text":"<p>Create a Canary rollout that shifts 20% traffic initially.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Rollout\nmetadata:\n  name: canary-rollout\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: app\n        image: my-app:v2\n  strategy:\n    canary:\n      steps:\n      - setWeight: 20\n      - pause: {duration: 1m}\n      - setWeight: 50\n      - pause: {duration: 1m}\n      - setWeight: 80\n      - pause: {duration: 1m}\n</code></pre>"},{"location":"capa/sample-questions/#question-9","title":"Question 9","text":"<p>Create a Blue-Green rollout.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Rollout\nmetadata:\n  name: bluegreen-rollout\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: app\n        image: my-app:v2\n  strategy:\n    blueGreen:\n      activeService: my-app-active\n      previewService: my-app-preview\n      autoPromotionEnabled: false\n</code></pre>"},{"location":"capa/sample-questions/#question-10","title":"Question 10","text":"<p>Promote or abort a rollout using kubectl.</p> Show Solution <pre><code># Promote rollout\nkubectl argo rollouts promote my-rollout\n\n# Abort rollout\nkubectl argo rollouts abort my-rollout\n\n# Retry rollout\nkubectl argo rollouts retry my-rollout\n\n# Check status\nkubectl argo rollouts status my-rollout\n</code></pre>"},{"location":"capa/sample-questions/#argo-events-15","title":"Argo Events (15%)","text":""},{"location":"capa/sample-questions/#question-11","title":"Question 11","text":"<p>Create an EventSource for GitHub webhooks.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: EventSource\nmetadata:\n  name: github-eventsource\nspec:\n  github:\n    example:\n      repositories:\n      - owner: my-org\n        names:\n        - my-repo\n      webhook:\n        endpoint: /push\n        port: \"12000\"\n        method: POST\n      events:\n      - push\n      apiToken:\n        name: github-token\n        key: token\n</code></pre>"},{"location":"capa/sample-questions/#question-12","title":"Question 12","text":"<p>Create a Sensor that triggers a workflow on events.</p> Show Solution <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Sensor\nmetadata:\n  name: github-sensor\nspec:\n  dependencies:\n  - name: github-dep\n    eventSourceName: github-eventsource\n    eventName: example\n  triggers:\n  - template:\n      name: workflow-trigger\n      k8s:\n        operation: create\n        source:\n          resource:\n            apiVersion: argoproj.io/v1alpha1\n            kind: Workflow\n            metadata:\n              generateName: github-workflow-\n            spec:\n              entrypoint: main\n              templates:\n              - name: main\n                container:\n                  image: alpine\n                  command: [echo, \"Triggered by GitHub\"]\n</code></pre>"},{"location":"capa/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know Argo CD Application spec - source, destination, syncPolicy</li> <li>Understand sync strategies - automated vs manual, prune, selfHeal</li> <li>Practice Workflow templates - steps, DAG, parameters, artifacts</li> <li>Know Rollout strategies - canary steps, blue-green services</li> <li>Understand event-driven architecture - EventSource, Sensor, Trigger</li> </ol> <p>\u2190 Back to CAPA Overview</p>"},{"location":"cba/","title":"CBA - Certified Backstage Associate","text":"<p>The Certified Backstage Associate (CBA) exam demonstrates knowledge of Backstage, the open platform for building developer portals.</p>"},{"location":"cba/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"cba/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Backstage Overview and Architecture 18% Software Catalog 25% Software Templates 20% TechDocs 12% Plugins 15% Customization and Integration 10%"},{"location":"cba/#key-topics","title":"Key Topics","text":""},{"location":"cba/#software-catalog","title":"Software Catalog","text":"<ul> <li>Entity model and kinds</li> <li>Catalog ingestion</li> <li>Entity relationships</li> <li>Ownership and metadata</li> </ul>"},{"location":"cba/#software-templates","title":"Software Templates","text":"<ul> <li>Template syntax</li> <li>Actions and steps</li> <li>Input parameters</li> <li>Scaffolding</li> </ul>"},{"location":"cba/#plugins","title":"Plugins","text":"<ul> <li>Plugin architecture</li> <li>Frontend and backend plugins</li> <li>Plugin development basics</li> </ul>"},{"location":"cba/#study-resources","title":"Study Resources","text":"<ul> <li>Backstage Documentation</li> <li>CBA Curriculum</li> <li>Backstage GitHub</li> </ul>"},{"location":"cba/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"cba/sample-questions/","title":"CBA Sample Practice Questions","text":""},{"location":"cba/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Backstage Documentation</li> <li>Backstage Demo</li> </ul>"},{"location":"cba/sample-questions/#software-catalog-25","title":"Software Catalog (25%)","text":""},{"location":"cba/sample-questions/#question-1","title":"Question 1","text":"<p>What are the main entity kinds in Backstage Software Catalog?</p> Show Solution  Main entity kinds: - **Component** - A piece of software (service, website, library) - **API** - A boundary between components - **Resource** - Infrastructure (database, S3 bucket) - **System** - Collection of components and resources - **Domain** - Collection of systems - **Group** - Team or organizational unit - **User** - Individual person - **Location** - Reference to other catalog files"},{"location":"cba/sample-questions/#question-2","title":"Question 2","text":"<p>Write a catalog-info.yaml for a backend service.</p> Show Solution <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-backend-service\n  description: Backend API service\n  tags:\n    - java\n    - spring-boot\n  annotations:\n    github.com/project-slug: my-org/my-backend\n    backstage.io/techdocs-ref: dir:.\nspec:\n  type: service\n  lifecycle: production\n  owner: team-backend\n  system: my-system\n  providesApis:\n    - my-api\n  dependsOn:\n    - resource:my-database\n</code></pre>"},{"location":"cba/sample-questions/#question-3","title":"Question 3","text":"<p>How do you define relationships between entities?</p> Show Solution  Relationships are defined in the `spec` section:  <pre><code>spec:\n  # Component relationships\n  owner: team-name           # Group that owns this\n  system: system-name        # System this belongs to\n  providesApis:              # APIs this component provides\n    - api-name\n  consumesApis:              # APIs this component uses\n    - other-api\n  dependsOn:                 # Dependencies\n    - component:other-service\n    - resource:database\n\n  # System relationships\n  domain: domain-name        # Domain this system belongs to\n</code></pre>"},{"location":"cba/sample-questions/#software-templates-20","title":"Software Templates (20%)","text":""},{"location":"cba/sample-questions/#question-4","title":"Question 4","text":"<p>Create a basic Software Template for scaffolding a new service.</p> Show Solution <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: create-service\n  title: Create New Service\n  description: Create a new microservice\nspec:\n  owner: platform-team\n  type: service\n  parameters:\n    - title: Service Details\n      required:\n        - name\n        - owner\n      properties:\n        name:\n          title: Service Name\n          type: string\n        owner:\n          title: Owner\n          type: string\n          ui:field: OwnerPicker\n        description:\n          title: Description\n          type: string\n  steps:\n    - id: fetch\n      name: Fetch Template\n      action: fetch:template\n      input:\n        url: ./skeleton\n        values:\n          name: ${{ parameters.name }}\n          owner: ${{ parameters.owner }}\n    - id: publish\n      name: Publish to GitHub\n      action: publish:github\n      input:\n        repoUrl: github.com?owner=my-org&amp;repo=${{ parameters.name }}\n    - id: register\n      name: Register in Catalog\n      action: catalog:register\n      input:\n        repoContentsUrl: ${{ steps.publish.output.repoContentsUrl }}\n        catalogInfoPath: /catalog-info.yaml\n  output:\n    links:\n      - title: Repository\n        url: ${{ steps.publish.output.remoteUrl }}\n</code></pre>"},{"location":"cba/sample-questions/#question-5","title":"Question 5","text":"<p>What are common template actions?</p> Show Solution  Common built-in actions: - `fetch:template` - Fetch and render a template - `fetch:plain` - Fetch files without templating - `publish:github` - Create GitHub repository - `publish:gitlab` - Create GitLab repository - `catalog:register` - Register entity in catalog - `catalog:write` - Write catalog-info.yaml - `debug:log` - Log debug information - `fs:delete` - Delete files - `fs:rename` - Rename files"},{"location":"cba/sample-questions/#techdocs-12","title":"TechDocs (12%)","text":""},{"location":"cba/sample-questions/#question-6","title":"Question 6","text":"<p>How do you configure TechDocs for a component?</p> Show Solution  1. Add annotation to catalog-info.yaml: <pre><code>metadata:\n  annotations:\n    backstage.io/techdocs-ref: dir:.\n</code></pre>  2. Create docs folder with mkdocs.yml: <pre><code>site_name: My Service Docs\nnav:\n  - Home: index.md\n  - API: api.md\nplugins:\n  - techdocs-core\n</code></pre>  3. Create docs/index.md with content."},{"location":"cba/sample-questions/#question-7","title":"Question 7","text":"<p>What are the TechDocs generation strategies?</p> Show Solution  **Local** - Generate docs on Backstage server <pre><code>techdocs:\n  builder: 'local'\n  generator:\n    runIn: 'local'\n</code></pre>  **External** - Generate in CI/CD, store externally <pre><code>techdocs:\n  builder: 'external'\n  publisher:\n    type: 'awsS3'\n    awsS3:\n      bucketName: 'my-techdocs-bucket'\n</code></pre>"},{"location":"cba/sample-questions/#plugins-15","title":"Plugins (15%)","text":""},{"location":"cba/sample-questions/#question-8","title":"Question 8","text":"<p>What is the Backstage plugin architecture?</p> Show Solution  Backstage has three plugin types:  1. **Frontend Plugins** - React components for UI    - Pages, cards, tabs    - Run in browser  2. **Backend Plugins** - Node.js services    - APIs, processors    - Run on server  3. **Common Plugins** - Shared code    - Types, utilities    - Used by both frontend and backend  Plugin structure: <pre><code>plugins/\n\u251c\u2500\u2500 my-plugin/           # Frontend plugin\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 package.json\n\u251c\u2500\u2500 my-plugin-backend/   # Backend plugin\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 package.json\n\u2514\u2500\u2500 my-plugin-common/    # Shared code\n    \u251c\u2500\u2500 src/\n    \u2514\u2500\u2500 package.json\n</code></pre>"},{"location":"cba/sample-questions/#question-9","title":"Question 9","text":"<p>How do you install a community plugin?</p> Show Solution <pre><code># Install frontend plugin\nyarn add --cwd packages/app @backstage/plugin-&lt;name&gt;\n\n# Install backend plugin\nyarn add --cwd packages/backend @backstage/plugin-&lt;name&gt;-backend\n\n# Add to app\n# packages/app/src/App.tsx\nimport { MyPluginPage } from '@backstage/plugin-my-plugin';\n\n// Add route\n&lt;Route path=\"/my-plugin\" element={&lt;MyPluginPage /&gt;} /&gt;\n</code></pre>"},{"location":"cba/sample-questions/#architecture-18","title":"Architecture (18%)","text":""},{"location":"cba/sample-questions/#question-10","title":"Question 10","text":"<p>What are the main components of Backstage architecture?</p> Show Solution  1. **App** - Frontend React application 2. **Backend** - Node.js backend services 3. **Catalog** - Entity database and API 4. **Scaffolder** - Template execution engine 5. **TechDocs** - Documentation system 6. **Search** - Search functionality 7. **Auth** - Authentication providers  Database: PostgreSQL (production) or SQLite (development)"},{"location":"cba/sample-questions/#question-11","title":"Question 11","text":"<p>How does catalog ingestion work?</p> Show Solution  Catalog ingestion process: 1. **Location** entities point to catalog files 2. **Entity Providers** fetch catalog files 3. **Processors** transform and validate entities 4. **Stitching** resolves relationships 5. **Database** stores final entities  Location types: - `url` - HTTP/HTTPS URLs - `file` - Local file paths - `github-discovery` - Auto-discover from GitHub"},{"location":"cba/sample-questions/#customization-10","title":"Customization (10%)","text":""},{"location":"cba/sample-questions/#question-12","title":"Question 12","text":"<p>How do you customize the Backstage theme?</p> Show Solution <pre><code>// packages/app/src/App.tsx\nimport { createTheme, lightTheme } from '@backstage/theme';\n\nconst myTheme = createTheme({\n  palette: {\n    ...lightTheme.palette,\n    primary: {\n      main: '#1DB954',\n    },\n    navigation: {\n      background: '#171717',\n      indicator: '#1DB954',\n    },\n  },\n});\n\n// Use in app\n&lt;ThemeProvider theme={myTheme}&gt;\n  &lt;App /&gt;\n&lt;/ThemeProvider&gt;\n</code></pre>"},{"location":"cba/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know entity kinds - Component, API, Resource, System, Domain</li> <li>Understand catalog-info.yaml - Structure and annotations</li> <li>Practice template syntax - Parameters, steps, actions</li> <li>Know TechDocs setup - mkdocs.yml, annotations</li> <li>Understand plugin architecture - Frontend, backend, common</li> </ol> <p>\u2190 Back to CBA Overview</p>"},{"location":"cca/","title":"CCA - Cilium Certified Associate","text":"<p>The Cilium Certified Associate (CCA) exam demonstrates knowledge of eBPF-based networking, security, and observability with Cilium.</p>"},{"location":"cca/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"cca/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Architecture 10% Network Policy 20% Service Mesh 10% Network Observability 15% Cluster Mesh 10% eBPF 10% BGP and External Networking 10% Cilium CLI and Hubble 15%"},{"location":"cca/#key-topics","title":"Key Topics","text":""},{"location":"cca/#architecture","title":"Architecture","text":"<ul> <li>Cilium components (agent, operator, CNI)</li> <li>eBPF datapath</li> <li>Identity-based security</li> </ul>"},{"location":"cca/#network-policy","title":"Network Policy","text":"<ul> <li>Cilium Network Policies</li> <li>L3/L4 and L7 policies</li> <li>Host policies</li> </ul>"},{"location":"cca/#observability","title":"Observability","text":"<ul> <li>Hubble for network visibility</li> <li>Flow logs and metrics</li> <li>Service maps</li> </ul>"},{"location":"cca/#study-resources","title":"Study Resources","text":"<ul> <li>Cilium Documentation</li> <li>CCA Curriculum</li> <li>Isovalent Labs</li> </ul>"},{"location":"cca/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"cca/01-cilium-architecture/","title":"Cilium Architecture","text":"<p>Comprehensive guide to Cilium networking for CCA certification.</p>"},{"location":"cca/01-cilium-architecture/#overview","title":"Overview","text":"<p>Cilium is a CNI plugin that provides:</p> <ul> <li>Networking - Pod-to-pod connectivity using eBPF</li> <li>Security - Network policies with L3-L7 filtering</li> <li>Observability - Deep visibility with Hubble</li> <li>Load Balancing - Kubernetes service implementation</li> </ul>"},{"location":"cca/01-cilium-architecture/#architecture-components","title":"Architecture Components","text":""},{"location":"cca/01-cilium-architecture/#cilium-agent","title":"Cilium Agent","text":"<ul> <li>Runs on every node as DaemonSet</li> <li>Manages eBPF programs</li> <li>Implements network policies</li> <li>Handles service load balancing</li> </ul>"},{"location":"cca/01-cilium-architecture/#cilium-operator","title":"Cilium Operator","text":"<ul> <li>Cluster-wide operations</li> <li>IP address management (IPAM)</li> <li>Garbage collection</li> </ul>"},{"location":"cca/01-cilium-architecture/#hubble","title":"Hubble","text":"<ul> <li>Observability platform</li> <li>Network flow visibility</li> <li>Service dependency maps</li> </ul>"},{"location":"cca/01-cilium-architecture/#ebpf-technology","title":"eBPF Technology","text":"<p>eBPF (extended Berkeley Packet Filter) enables:</p> <ul> <li>High-performance packet processing</li> <li>Programmable network datapath</li> <li>No kernel modifications needed</li> <li>Real-time observability</li> </ul> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    User Space                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 Cilium CLI  \u2502  \u2502   Hubble    \u2502  \u2502  Operator   \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Kernel Space                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                  eBPF Programs                    \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502   \u2502\n\u2502  \u2502  \u2502  XDP    \u2502  \u2502   TC    \u2502  \u2502 Socket  \u2502         \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"cca/01-cilium-architecture/#installation","title":"Installation","text":""},{"location":"cca/01-cilium-architecture/#using-cilium-cli","title":"Using Cilium CLI","text":"<pre><code># Install Cilium CLI\ncurl -L --remote-name-all https://github.com/cilium/cilium-cli/releases/latest/download/cilium-linux-amd64.tar.gz\ntar xzvf cilium-linux-amd64.tar.gz\nsudo mv cilium /usr/local/bin\n\n# Install Cilium\ncilium install\n\n# Check status\ncilium status\n\n# Enable Hubble\ncilium hubble enable --ui\n</code></pre>"},{"location":"cca/01-cilium-architecture/#using-helm","title":"Using Helm","text":"<pre><code>helm repo add cilium https://helm.cilium.io/\nhelm install cilium cilium/cilium --namespace kube-system\n</code></pre>"},{"location":"cca/01-cilium-architecture/#network-policies","title":"Network Policies","text":""},{"location":"cca/01-cilium-architecture/#ciliumnetworkpolicy","title":"CiliumNetworkPolicy","text":"<pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: allow-frontend\n  namespace: default\nspec:\n  endpointSelector:\n    matchLabels:\n      app: backend\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n</code></pre>"},{"location":"cca/01-cilium-architecture/#l7-policy-http","title":"L7 Policy (HTTP)","text":"<pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: l7-policy\nspec:\n  endpointSelector:\n    matchLabels:\n      app: api\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n      rules:\n        http:\n        - method: GET\n          path: \"/api/v1/.*\"\n</code></pre>"},{"location":"cca/01-cilium-architecture/#cluster-wide-policy","title":"Cluster-wide Policy","text":"<pre><code>apiVersion: cilium.io/v2\nkind: CiliumClusterwideNetworkPolicy\nmetadata:\n  name: default-deny\nspec:\n  endpointSelector: {}\n  ingress:\n  - fromEntities:\n    - cluster\n</code></pre>"},{"location":"cca/01-cilium-architecture/#hubble-observability","title":"Hubble Observability","text":""},{"location":"cca/01-cilium-architecture/#enable-hubble","title":"Enable Hubble","text":"<pre><code>cilium hubble enable\ncilium hubble enable --ui\n</code></pre>"},{"location":"cca/01-cilium-architecture/#hubble-cli","title":"Hubble CLI","text":"<pre><code># Install Hubble CLI\nexport HUBBLE_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/hubble/master/stable.txt)\ncurl -L --remote-name-all https://github.com/cilium/hubble/releases/download/$HUBBLE_VERSION/hubble-linux-amd64.tar.gz\ntar xzvf hubble-linux-amd64.tar.gz\nsudo mv hubble /usr/local/bin\n\n# Port forward\ncilium hubble port-forward &amp;\n\n# Observe flows\nhubble observe\nhubble observe --namespace default\nhubble observe --pod frontend\nhubble observe --verdict DROPPED\n</code></pre>"},{"location":"cca/01-cilium-architecture/#hubble-ui","title":"Hubble UI","text":"<pre><code>cilium hubble ui\n</code></pre>"},{"location":"cca/01-cilium-architecture/#service-load-balancing","title":"Service Load Balancing","text":"<p>Cilium replaces kube-proxy with eBPF-based load balancing:</p> <pre><code># Install without kube-proxy\ncilium install --set kubeProxyReplacement=strict\n\n# Verify\ncilium status | grep KubeProxyReplacement\n</code></pre>"},{"location":"cca/01-cilium-architecture/#useful-commands","title":"Useful Commands","text":"<pre><code># Status\ncilium status\ncilium status --verbose\n\n# Connectivity test\ncilium connectivity test\n\n# Endpoint list\ncilium endpoint list\n\n# Service list\ncilium service list\n\n# BPF maps\ncilium bpf lb list\ncilium bpf ct list global\ncilium bpf policy get\n\n# Debug\ncilium debuginfo\n</code></pre> <p>\u2190 Back to CCA Overview</p>"},{"location":"cca/sample-questions/","title":"CCA Sample Practice Questions","text":""},{"location":"cca/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Cilium Documentation</li> <li>Isovalent Labs</li> </ul>"},{"location":"cca/sample-questions/#network-policy-20","title":"Network Policy (20%)","text":""},{"location":"cca/sample-questions/#question-1","title":"Question 1","text":"<p>Create a CiliumNetworkPolicy that allows only HTTP traffic from pods with label app=frontend to pods with label app=backend.</p> Show Solution <pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: allow-frontend-http\nspec:\n  endpointSelector:\n    matchLabels:\n      app: backend\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n      rules:\n        http:\n        - method: \"GET\"\n</code></pre>"},{"location":"cca/sample-questions/#question-2","title":"Question 2","text":"<p>Create a policy that denies all egress traffic except DNS.</p> Show Solution <pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: deny-egress-except-dns\nspec:\n  endpointSelector: {}\n  egress:\n  - toEndpoints:\n    - matchLabels:\n        k8s:io.kubernetes.pod.namespace: kube-system\n        k8s-app: kube-dns\n    toPorts:\n    - ports:\n      - port: \"53\"\n        protocol: UDP\n</code></pre>"},{"location":"cca/sample-questions/#question-3","title":"Question 3","text":"<p>Create an L7 policy that only allows GET requests to /api/v1/*.</p> Show Solution <pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: l7-api-policy\nspec:\n  endpointSelector:\n    matchLabels:\n      app: api-server\n  ingress:\n  - toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n      rules:\n        http:\n        - method: \"GET\"\n          path: \"/api/v1/.*\"\n</code></pre>"},{"location":"cca/sample-questions/#hubble-observability-15","title":"Hubble &amp; Observability (15%)","text":""},{"location":"cca/sample-questions/#question-4","title":"Question 4","text":"<p>How do you enable Hubble in a Cilium installation?</p> Show Solution <pre><code># Using Helm\nhelm upgrade cilium cilium/cilium \\\n  --namespace kube-system \\\n  --set hubble.enabled=true \\\n  --set hubble.relay.enabled=true \\\n  --set hubble.ui.enabled=true\n\n# Or using cilium CLI\ncilium hubble enable --ui\n</code></pre>"},{"location":"cca/sample-questions/#question-5","title":"Question 5","text":"<p>Use Hubble CLI to observe flows from namespace \"production\".</p> Show Solution <pre><code>hubble observe --namespace production\n\n# With filters\nhubble observe --namespace production --verdict DROPPED\nhubble observe --namespace production --protocol TCP --port 80\n</code></pre>"},{"location":"cca/sample-questions/#question-6","title":"Question 6","text":"<p>How do you view the service dependency map?</p> Show Solution <pre><code># Access Hubble UI\nkubectl port-forward -n kube-system svc/hubble-ui 12000:80\n\n# Or use CLI for service map data\nhubble observe --namespace default -o json | jq\n</code></pre>"},{"location":"cca/sample-questions/#cilium-cli-15","title":"Cilium CLI (15%)","text":""},{"location":"cca/sample-questions/#question-7","title":"Question 7","text":"<p>Check the status of Cilium in the cluster.</p> Show Solution <pre><code>cilium status\n\n# Detailed status\ncilium status --verbose\n</code></pre>"},{"location":"cca/sample-questions/#question-8","title":"Question 8","text":"<p>Run connectivity tests to verify Cilium is working correctly.</p> Show Solution <pre><code>cilium connectivity test\n</code></pre>"},{"location":"cca/sample-questions/#question-9","title":"Question 9","text":"<p>List all Cilium endpoints in the cluster.</p> Show Solution <pre><code>cilium endpoint list\n\n# Or using kubectl\nkubectl get ciliumendpoints -A\n</code></pre>"},{"location":"cca/sample-questions/#ebpf-10","title":"eBPF (10%)","text":""},{"location":"cca/sample-questions/#question-10","title":"Question 10","text":"<p>What is eBPF and why does Cilium use it?</p> Show Solution  **eBPF (extended Berkeley Packet Filter)** is a technology that allows running sandboxed programs in the Linux kernel without changing kernel source code.  Cilium uses eBPF for: - High-performance packet processing - Network policy enforcement at kernel level - Load balancing without kube-proxy - Deep observability without overhead - Security enforcement"},{"location":"cca/sample-questions/#question-11","title":"Question 11","text":"<p>How does Cilium replace kube-proxy?</p> Show Solution <pre><code># Install Cilium with kube-proxy replacement\nhelm install cilium cilium/cilium \\\n  --namespace kube-system \\\n  --set kubeProxyReplacement=true \\\n  --set k8sServiceHost=&lt;API_SERVER_IP&gt; \\\n  --set k8sServicePort=&lt;API_SERVER_PORT&gt;\n</code></pre>  Cilium uses eBPF to implement: - ClusterIP services - NodePort services - LoadBalancer services - ExternalIPs"},{"location":"cca/sample-questions/#cluster-mesh-10","title":"Cluster Mesh (10%)","text":""},{"location":"cca/sample-questions/#question-12","title":"Question 12","text":"<p>What is Cilium Cluster Mesh used for?</p> Show Solution  Cilium Cluster Mesh enables: - Multi-cluster connectivity - Cross-cluster service discovery - Global network policies - Shared services across clusters - High availability across clusters"},{"location":"cca/sample-questions/#question-13","title":"Question 13","text":"<p>Enable Cluster Mesh on a Cilium installation.</p> Show Solution <pre><code># Enable Cluster Mesh\ncilium clustermesh enable\n\n# Connect to another cluster\ncilium clustermesh connect --destination-context &lt;other-cluster-context&gt;\n\n# Check status\ncilium clustermesh status\n</code></pre>"},{"location":"cca/sample-questions/#bgp-external-networking-10","title":"BGP &amp; External Networking (10%)","text":""},{"location":"cca/sample-questions/#question-14","title":"Question 14","text":"<p>Configure Cilium BGP peering.</p> Show Solution <pre><code>apiVersion: cilium.io/v2alpha1\nkind: CiliumBGPPeeringPolicy\nmetadata:\n  name: bgp-peering\nspec:\n  nodeSelector:\n    matchLabels:\n      bgp: enabled\n  virtualRouters:\n  - localASN: 65000\n    exportPodCIDR: true\n    neighbors:\n    - peerAddress: \"10.0.0.1/32\"\n      peerASN: 65001\n</code></pre>"},{"location":"cca/sample-questions/#architecture-10","title":"Architecture (10%)","text":""},{"location":"cca/sample-questions/#question-15","title":"Question 15","text":"<p>What are the main components of Cilium?</p> Show Solution  1. **Cilium Agent** - Runs on each node, manages eBPF programs 2. **Cilium Operator** - Manages cluster-wide operations 3. **Cilium CNI** - Container Network Interface plugin 4. **Hubble** - Observability platform 5. **Cilium CLI** - Command-line tool"},{"location":"cca/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know CiliumNetworkPolicy syntax - L3/L4 and L7 policies</li> <li>Practice with Hubble - Observing flows and troubleshooting</li> <li>Understand eBPF basics - Why it's used, benefits</li> <li>Know cilium CLI commands - status, connectivity test, endpoint list</li> <li>Understand identity-based security - How Cilium identifies pods</li> </ol> <p>\u2190 Back to CCA Overview</p>"},{"location":"cgoa/","title":"CGOA - Certified GitOps Associate","text":"<p>The Certified GitOps Associate (CGOA) exam demonstrates knowledge of GitOps principles, practices, and related technologies.</p>"},{"location":"cgoa/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"cgoa/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight GitOps Terminology 20% GitOps Principles 30% Related Practices 16% GitOps Patterns 20% Tooling 14%"},{"location":"cgoa/#key-topics","title":"Key Topics","text":""},{"location":"cgoa/#gitops-principles","title":"GitOps Principles","text":"<ul> <li>Declarative configuration</li> <li>Version controlled</li> <li>Automated delivery</li> <li>Software agents</li> </ul>"},{"location":"cgoa/#gitops-patterns","title":"GitOps Patterns","text":"<ul> <li>Repository structures</li> <li>Environment promotion</li> <li>Secret management</li> <li>Multi-tenancy</li> </ul>"},{"location":"cgoa/#tooling","title":"Tooling","text":"<ul> <li>Flux CD</li> <li>Argo CD</li> <li>Git workflows</li> </ul>"},{"location":"cgoa/#study-resources","title":"Study Resources","text":"<ul> <li>OpenGitOps</li> <li>GitOps Working Group</li> <li>Flux Documentation</li> <li>Argo CD Documentation</li> </ul>"},{"location":"cgoa/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"cgoa/01-gitops-principles/","title":"GitOps Principles","text":"<p>Comprehensive guide to GitOps for CGOA certification.</p>"},{"location":"cgoa/01-gitops-principles/#what-is-gitops","title":"What is GitOps?","text":"<p>GitOps is a set of practices that uses Git as the single source of truth for declarative infrastructure and applications:</p> <ul> <li>Declarative - System state described declaratively</li> <li>Versioned - Desired state stored in Git</li> <li>Automated - Changes automatically applied</li> <li>Auditable - Git history provides audit trail</li> </ul>"},{"location":"cgoa/01-gitops-principles/#core-principles","title":"Core Principles","text":""},{"location":"cgoa/01-gitops-principles/#1-declarative-configuration","title":"1. Declarative Configuration","text":"<p>All system configuration is declarative:</p> <pre><code># Infrastructure as Code\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: myapp\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: myapp\n        image: myapp:v1.0.0\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#2-version-controlled","title":"2. Version Controlled","text":"<ul> <li>All configuration stored in Git</li> <li>Changes tracked through commits</li> <li>Pull requests for review</li> <li>Branches for environments</li> </ul>"},{"location":"cgoa/01-gitops-principles/#3-automated-reconciliation","title":"3. Automated Reconciliation","text":"<ul> <li>Continuous sync between Git and cluster</li> <li>Drift detection and correction</li> <li>Self-healing infrastructure</li> </ul>"},{"location":"cgoa/01-gitops-principles/#4-software-agents","title":"4. Software Agents","text":"<ul> <li>Operators watch Git repositories</li> <li>Pull changes automatically</li> <li>Apply to target systems</li> </ul>"},{"location":"cgoa/01-gitops-principles/#gitops-workflow","title":"GitOps Workflow","text":"<pre><code>Developer \u2192 Git Commit \u2192 Pull Request \u2192 Merge \u2192 GitOps Agent \u2192 Kubernetes\n                              \u2193\n                         Code Review\n                              \u2193\n                         CI Pipeline\n                              \u2193\n                         Image Build\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#gitops-tools","title":"GitOps Tools","text":""},{"location":"cgoa/01-gitops-principles/#flux-cd","title":"Flux CD","text":"<pre><code># Install Flux\ncurl -s https://fluxcd.io/install.sh | sudo bash\n\n# Bootstrap\nflux bootstrap github \\\n  --owner=&lt;github-user&gt; \\\n  --repository=fleet-infra \\\n  --branch=main \\\n  --path=./clusters/my-cluster \\\n  --personal\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#argo-cd","title":"Argo CD","text":"<pre><code># Install Argo CD\nkubectl create namespace argocd\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#repository-structure","title":"Repository Structure","text":""},{"location":"cgoa/01-gitops-principles/#monorepo","title":"Monorepo","text":"<pre><code>fleet-infra/\n\u251c\u2500\u2500 apps/\n\u2502   \u251c\u2500\u2500 base/\n\u2502   \u2502   \u2514\u2500\u2500 myapp/\n\u2502   \u2502       \u251c\u2500\u2500 deployment.yaml\n\u2502   \u2502       \u251c\u2500\u2500 service.yaml\n\u2502   \u2502       \u2514\u2500\u2500 kustomization.yaml\n\u2502   \u251c\u2500\u2500 dev/\n\u2502   \u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2502   \u251c\u2500\u2500 staging/\n\u2502   \u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2502   \u2514\u2500\u2500 production/\n\u2502       \u2514\u2500\u2500 kustomization.yaml\n\u251c\u2500\u2500 infrastructure/\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2514\u2500\u2500 configs/\n\u2514\u2500\u2500 clusters/\n    \u251c\u2500\u2500 dev/\n    \u251c\u2500\u2500 staging/\n    \u2514\u2500\u2500 production/\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#multi-repo","title":"Multi-repo","text":"<pre><code># App repos\nmyapp-repo/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 k8s/\n    \u2514\u2500\u2500 base/\n\n# Config repo\ngitops-config/\n\u251c\u2500\u2500 apps/\n\u2502   \u2514\u2500\u2500 myapp/\n\u2514\u2500\u2500 clusters/\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#flux-cd-resources","title":"Flux CD Resources","text":""},{"location":"cgoa/01-gitops-principles/#gitrepository","title":"GitRepository","text":"<pre><code>apiVersion: source.toolkit.fluxcd.io/v1\nkind: GitRepository\nmetadata:\n  name: myapp\n  namespace: flux-system\nspec:\n  interval: 1m\n  url: https://github.com/myorg/myapp\n  ref:\n    branch: main\n  secretRef:\n    name: github-token\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#kustomization","title":"Kustomization","text":"<pre><code>apiVersion: kustomize.toolkit.fluxcd.io/v1\nkind: Kustomization\nmetadata:\n  name: myapp\n  namespace: flux-system\nspec:\n  interval: 10m\n  targetNamespace: default\n  sourceRef:\n    kind: GitRepository\n    name: myapp\n  path: ./k8s/overlays/production\n  prune: true\n  healthChecks:\n  - apiVersion: apps/v1\n    kind: Deployment\n    name: myapp\n    namespace: default\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#helmrelease","title":"HelmRelease","text":"<pre><code>apiVersion: helm.toolkit.fluxcd.io/v2beta1\nkind: HelmRelease\nmetadata:\n  name: nginx\n  namespace: default\nspec:\n  interval: 5m\n  chart:\n    spec:\n      chart: nginx\n      version: '15.x'\n      sourceRef:\n        kind: HelmRepository\n        name: bitnami\n        namespace: flux-system\n  values:\n    replicaCount: 2\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#best-practices","title":"Best Practices","text":""},{"location":"cgoa/01-gitops-principles/#1-environment-promotion","title":"1. Environment Promotion","text":"<pre><code>dev \u2192 staging \u2192 production\n\n# Use branches or directories\nmain branch \u2192 dev cluster\nrelease branch \u2192 staging cluster\ntags \u2192 production cluster\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#2-secrets-management","title":"2. Secrets Management","text":"<ul> <li>Use Sealed Secrets or SOPS</li> <li>External secrets operators</li> <li>Never commit plain secrets</li> </ul> <pre><code># Sealed Secret\napiVersion: bitnami.com/v1alpha1\nkind: SealedSecret\nmetadata:\n  name: mysecret\nspec:\n  encryptedData:\n    password: AgBy8hCi...\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#3-image-automation","title":"3. Image Automation","text":"<pre><code>apiVersion: image.toolkit.fluxcd.io/v1beta1\nkind: ImagePolicy\nmetadata:\n  name: myapp\nspec:\n  imageRepositoryRef:\n    name: myapp\n  policy:\n    semver:\n      range: '&gt;=1.0.0'\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#4-notifications","title":"4. Notifications","text":"<pre><code>apiVersion: notification.toolkit.fluxcd.io/v1beta1\nkind: Alert\nmetadata:\n  name: slack-alert\nspec:\n  providerRef:\n    name: slack\n  eventSeverity: error\n  eventSources:\n  - kind: Kustomization\n    name: '*'\n</code></pre>"},{"location":"cgoa/01-gitops-principles/#gitops-vs-traditional-cicd","title":"GitOps vs Traditional CI/CD","text":"Aspect Traditional CI/CD GitOps Deployment Push-based Pull-based Source of Truth CI/CD pipeline Git repository Drift Detection Manual Automatic Rollback Re-run pipeline Git revert Audit CI/CD logs Git history <p>\u2190 Back to CGOA Overview</p>"},{"location":"cgoa/sample-questions/","title":"CGOA Sample Practice Questions","text":""},{"location":"cgoa/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>OpenGitOps</li> <li>Flux Documentation</li> <li>Argo CD Documentation</li> </ul>"},{"location":"cgoa/sample-questions/#gitops-terminology-20","title":"GitOps Terminology (20%)","text":""},{"location":"cgoa/sample-questions/#question-1","title":"Question 1","text":"<p>What are the four principles of GitOps according to OpenGitOps?</p> Show Solution  1. **Declarative** - A system managed by GitOps must have its desired state expressed declaratively 2. **Versioned and Immutable** - Desired state is stored in a way that enforces immutability, versioning, and retains a complete version history 3. **Pulled Automatically** - Software agents automatically pull the desired state declarations from the source 4. **Continuously Reconciled** - Software agents continuously observe actual system state and attempt to apply the desired state"},{"location":"cgoa/sample-questions/#question-2","title":"Question 2","text":"<p>What is \"drift\" in GitOps terminology?</p> Show Solution  **Drift** refers to when the actual state of a system diverges from the desired state defined in Git. This can happen when: - Manual changes are made directly to the cluster - External processes modify resources - Failed reconciliation attempts  GitOps tools detect drift and can automatically reconcile to restore the desired state."},{"location":"cgoa/sample-questions/#question-3","title":"Question 3","text":"<p>What is the difference between \"push\" and \"pull\" based GitOps?</p> Show Solution  **Push-based:** - CI/CD pipeline pushes changes to the cluster - Pipeline needs cluster credentials - Less secure (credentials in CI)  **Pull-based (GitOps preferred):** - Agent in cluster pulls changes from Git - No external access to cluster needed - More secure (agent has cluster access) - Continuous reconciliation"},{"location":"cgoa/sample-questions/#gitops-principles-30","title":"GitOps Principles (30%)","text":""},{"location":"cgoa/sample-questions/#question-4","title":"Question 4","text":"<p>Why is declarative configuration important in GitOps?</p> Show Solution  Declarative configuration is important because: - **Predictability** - You describe WHAT you want, not HOW to get there - **Idempotency** - Applying the same config multiple times yields the same result - **Version control** - Easy to track changes over time - **Rollback** - Simple to revert to previous states - **Auditability** - Clear record of desired state at any point"},{"location":"cgoa/sample-questions/#question-5","title":"Question 5","text":"<p>How does GitOps handle secrets management?</p> Show Solution  Common approaches: 1. **Sealed Secrets** - Encrypt secrets that can only be decrypted in cluster 2. **SOPS** - Mozilla's Secrets OPerationS for encrypting files 3. **External Secrets Operator** - Sync secrets from external vaults 4. **Vault** - HashiCorp Vault integration 5. **Cloud KMS** - AWS KMS, GCP KMS, Azure Key Vault  Best practice: Never store plain-text secrets in Git."},{"location":"cgoa/sample-questions/#question-6","title":"Question 6","text":"<p>What is continuous reconciliation?</p> Show Solution  **Continuous reconciliation** is the process where GitOps agents: 1. Continuously monitor the actual state of the system 2. Compare it with the desired state in Git 3. Automatically apply changes to match desired state 4. Report any drift or failures  This ensures the system always converges to the desired state, even after manual changes or failures."},{"location":"cgoa/sample-questions/#related-practices-16","title":"Related Practices (16%)","text":""},{"location":"cgoa/sample-questions/#question-7","title":"Question 7","text":"<p>How does GitOps relate to Infrastructure as Code (IaC)?</p> Show Solution  **Relationship:** - IaC defines infrastructure declaratively (Terraform, Pulumi, CloudFormation) - GitOps applies IaC principles to application deployment - Both use version control as source of truth - GitOps adds continuous reconciliation  **Key difference:** - IaC typically uses push-based deployment - GitOps uses pull-based with continuous reconciliation"},{"location":"cgoa/sample-questions/#question-8","title":"Question 8","text":"<p>What is the relationship between GitOps and CI/CD?</p> Show Solution  **CI (Continuous Integration):** - Build and test code - Create artifacts (images, packages) - Update Git with new versions  **CD with GitOps:** - Git is the source of truth for deployments - GitOps agent pulls and deploys changes - Separation of concerns: CI builds, GitOps deploys  **Benefits:** - Clear audit trail - Easy rollbacks - Consistent deployments"},{"location":"cgoa/sample-questions/#gitops-patterns-20","title":"GitOps Patterns (20%)","text":""},{"location":"cgoa/sample-questions/#question-9","title":"Question 9","text":"<p>What are common Git repository structures for GitOps?</p> Show Solution  **Monorepo:** <pre><code>repo/\n\u251c\u2500\u2500 apps/\n\u2502   \u251c\u2500\u2500 app1/\n\u2502   \u2514\u2500\u2500 app2/\n\u251c\u2500\u2500 infrastructure/\n\u2514\u2500\u2500 clusters/\n    \u251c\u2500\u2500 dev/\n    \u251c\u2500\u2500 staging/\n    \u2514\u2500\u2500 prod/\n</code></pre>  **Polyrepo:** - Separate repos for apps, infrastructure, and cluster config - More isolation but harder to manage  **Environment branches:** - main \u2192 production - staging \u2192 staging - develop \u2192 development"},{"location":"cgoa/sample-questions/#question-10","title":"Question 10","text":"<p>How do you handle environment promotion in GitOps?</p> Show Solution  **Common patterns:**  1. **Directory-based:** <pre><code>environments/\n\u251c\u2500\u2500 dev/\n\u251c\u2500\u2500 staging/\n\u2514\u2500\u2500 prod/\n</code></pre>  2. **Branch-based:** - Merge from dev \u2192 staging \u2192 prod branches  3. **Tag-based:** - Tag releases for promotion  4. **PR-based promotion:** - Create PR to promote changes between environments"},{"location":"cgoa/sample-questions/#question-11","title":"Question 11","text":"<p>What is the \"App of Apps\" pattern?</p> Show Solution  The **App of Apps** pattern uses a parent Application that manages child Applications:  <pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: apps\nspec:\n  source:\n    path: apps/\n  # This directory contains Application manifests\n</code></pre>  Benefits: - Centralized management - Hierarchical organization - Easier bootstrapping - Consistent configuration"},{"location":"cgoa/sample-questions/#tooling-14","title":"Tooling (14%)","text":""},{"location":"cgoa/sample-questions/#question-12","title":"Question 12","text":"<p>Compare Flux CD and Argo CD.</p> Show Solution  | Feature | Flux CD | Argo CD | |---------|---------|---------| | Architecture | Toolkit of controllers | Monolithic with UI | | UI | Separate (Weave GitOps) | Built-in | | Multi-tenancy | Native | Via Projects | | Helm support | HelmRelease CRD | Native | | Kustomize | Native | Native | | Image automation | Built-in | Separate (Argo Image Updater) |  Both implement GitOps principles effectively."},{"location":"cgoa/sample-questions/#question-13","title":"Question 13","text":"<p>Bootstrap Flux CD in a cluster.</p> Show Solution <pre><code># Install Flux CLI\ncurl -s https://fluxcd.io/install.sh | sudo bash\n\n# Bootstrap with GitHub\nflux bootstrap github \\\n  --owner=my-org \\\n  --repository=fleet-infra \\\n  --branch=main \\\n  --path=clusters/my-cluster \\\n  --personal\n\n# Check status\nflux check\n</code></pre>"},{"location":"cgoa/sample-questions/#question-14","title":"Question 14","text":"<p>What is a Flux Kustomization?</p> Show Solution <pre><code>apiVersion: kustomize.toolkit.fluxcd.io/v1\nkind: Kustomization\nmetadata:\n  name: my-app\n  namespace: flux-system\nspec:\n  interval: 10m\n  path: ./apps/my-app\n  prune: true\n  sourceRef:\n    kind: GitRepository\n    name: flux-system\n  healthChecks:\n  - apiVersion: apps/v1\n    kind: Deployment\n    name: my-app\n    namespace: default\n</code></pre>  It defines what to deploy, from where, and how often to reconcile."},{"location":"cgoa/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know the four GitOps principles - These are fundamental</li> <li>Understand push vs pull - Why pull is preferred</li> <li>Know secret management options - Sealed Secrets, SOPS, External Secrets</li> <li>Understand repository patterns - Monorepo vs polyrepo</li> <li>Compare Flux and Argo CD - Key differences and similarities</li> </ol> <p>\u2190 Back to CGOA Overview</p>"},{"location":"cheatsheets/etcd-cheatsheet/","title":"etcd Cheat Sheet","text":"<p>Essential etcd commands for CKA exam.</p>"},{"location":"cheatsheets/etcd-cheatsheet/#environment-setup","title":"Environment Setup","text":"<pre><code># Set etcd API version\nexport ETCDCTL_API=3\n\n# Common certificate paths\nexport ETCD_CACERT=/etc/kubernetes/pki/etcd/ca.crt\nexport ETCD_CERT=/etc/kubernetes/pki/etcd/server.crt\nexport ETCD_KEY=/etc/kubernetes/pki/etcd/server.key\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#health-check","title":"Health Check","text":"<pre><code># Check endpoint health\netcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n\n# Check endpoint status\netcdctl endpoint status \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY \\\n  --write-out=table\n\n# Member list\netcdctl member list \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY \\\n  --write-out=table\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#backup","title":"Backup","text":"<pre><code># Create snapshot\netcdctl snapshot save /backup/etcd-snapshot.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n\n# Verify snapshot\netcdctl snapshot status /backup/etcd-snapshot.db \\\n  --write-out=table\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#restore","title":"Restore","text":"<pre><code># Stop kube-apiserver (move manifest)\nsudo mv /etc/kubernetes/manifests/kube-apiserver.yaml /tmp/\n\n# Restore snapshot\netcdctl snapshot restore /backup/etcd-snapshot.db \\\n  --data-dir=/var/lib/etcd-restored\n\n# Update etcd manifest to use new data-dir\nsudo sed -i 's|/var/lib/etcd|/var/lib/etcd-restored|g' \\\n  /etc/kubernetes/manifests/etcd.yaml\n\n# Also update hostPath volume\n# Edit /etc/kubernetes/manifests/etcd.yaml:\n# - hostPath:\n#     path: /var/lib/etcd-restored\n\n# Restore kube-apiserver\nsudo mv /tmp/kube-apiserver.yaml /etc/kubernetes/manifests/\n\n# Wait for etcd to restart\nwatch crictl ps | grep etcd\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#key-operations","title":"Key Operations","text":"<pre><code># Get all keys\netcdctl get / --prefix --keys-only \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n\n# Get specific key\netcdctl get /registry/secrets/default/mysecret \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n\n# Count keys\netcdctl get / --prefix --keys-only \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY | wc -l\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#cluster-operations","title":"Cluster Operations","text":"<pre><code># Add member\netcdctl member add new-member \\\n  --peer-urls=https://new-member:2380 \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n\n# Remove member\netcdctl member remove &lt;member-id&gt; \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=$ETCD_CACERT \\\n  --cert=$ETCD_CERT \\\n  --key=$ETCD_KEY\n</code></pre>"},{"location":"cheatsheets/etcd-cheatsheet/#quick-backup-script","title":"Quick Backup Script","text":"<pre><code>#!/bin/bash\nBACKUP_DIR=/backup\nTIMESTAMP=$(date +%Y%m%d_%H%M%S)\n\netcdctl snapshot save ${BACKUP_DIR}/etcd-${TIMESTAMP}.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Keep only last 5 backups\nls -t ${BACKUP_DIR}/etcd-*.db | tail -n +6 | xargs rm -f\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"cheatsheets/helm-cheatsheet/","title":"Helm Cheat Sheet","text":"<p>Comprehensive Helm command reference for CKAD exam.</p>"},{"location":"cheatsheets/helm-cheatsheet/#repository-management","title":"Repository Management","text":"<pre><code># Add repository\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo add stable https://charts.helm.sh/stable\n\n# Update repositories\nhelm repo update\n\n# List repositories\nhelm repo list\n\n# Remove repository\nhelm repo remove bitnami\n\n# Search repository\nhelm search repo nginx\nhelm search repo bitnami/nginx --versions\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#chart-operations","title":"Chart Operations","text":"<pre><code># Search hub\nhelm search hub wordpress\n\n# Show chart info\nhelm show chart bitnami/nginx\nhelm show values bitnami/nginx\nhelm show readme bitnami/nginx\nhelm show all bitnami/nginx\n\n# Download chart\nhelm pull bitnami/nginx\nhelm pull bitnami/nginx --untar\nhelm pull bitnami/nginx --version 13.2.0\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#installation","title":"Installation","text":"<pre><code># Install chart\nhelm install myrelease bitnami/nginx\n\n# Install with custom values\nhelm install myrelease bitnami/nginx -f values.yaml\nhelm install myrelease bitnami/nginx --set replicaCount=3\nhelm install myrelease bitnami/nginx --set service.type=NodePort\n\n# Install in namespace\nhelm install myrelease bitnami/nginx -n mynamespace\nhelm install myrelease bitnami/nginx -n mynamespace --create-namespace\n\n# Install with specific version\nhelm install myrelease bitnami/nginx --version 13.2.0\n\n# Dry run\nhelm install myrelease bitnami/nginx --dry-run\n\n# Generate name\nhelm install bitnami/nginx --generate-name\n\n# Wait for ready\nhelm install myrelease bitnami/nginx --wait --timeout 5m\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#upgrade-rollback","title":"Upgrade &amp; Rollback","text":"<pre><code># Upgrade release\nhelm upgrade myrelease bitnami/nginx\nhelm upgrade myrelease bitnami/nginx -f values.yaml\nhelm upgrade myrelease bitnami/nginx --set replicaCount=5\n\n# Install or upgrade\nhelm upgrade --install myrelease bitnami/nginx\n\n# Rollback\nhelm rollback myrelease\nhelm rollback myrelease 1\nhelm rollback myrelease 2\n\n# History\nhelm history myrelease\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#release-management","title":"Release Management","text":"<pre><code># List releases\nhelm list\nhelm list -A\nhelm list -n mynamespace\nhelm list --all\n\n# Get release info\nhelm get all myrelease\nhelm get values myrelease\nhelm get manifest myrelease\nhelm get notes myrelease\nhelm get hooks myrelease\n\n# Release status\nhelm status myrelease\n\n# Uninstall\nhelm uninstall myrelease\nhelm uninstall myrelease -n mynamespace\nhelm uninstall myrelease --keep-history\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#chart-development","title":"Chart Development","text":"<pre><code># Create new chart\nhelm create mychart\n\n# Lint chart\nhelm lint mychart\n\n# Template rendering\nhelm template myrelease mychart\nhelm template myrelease mychart -f values.yaml\nhelm template myrelease mychart --debug\n\n# Package chart\nhelm package mychart\nhelm package mychart --version 1.0.0\n\n# Dependency management\nhelm dependency update mychart\nhelm dependency build mychart\nhelm dependency list mychart\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#chart-structure","title":"Chart Structure","text":"<pre><code>mychart/\n\u251c\u2500\u2500 Chart.yaml          # Chart metadata\n\u251c\u2500\u2500 values.yaml         # Default values\n\u251c\u2500\u2500 charts/             # Dependencies\n\u251c\u2500\u2500 templates/          # Template files\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u251c\u2500\u2500 ingress.yaml\n\u2502   \u251c\u2500\u2500 _helpers.tpl    # Template helpers\n\u2502   \u251c\u2500\u2500 NOTES.txt       # Post-install notes\n\u2502   \u2514\u2500\u2500 tests/\n\u2514\u2500\u2500 .helmignore         # Files to ignore\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#template-functions","title":"Template Functions","text":"<pre><code># Values reference\n{{ .Values.replicaCount }}\n{{ .Release.Name }}\n{{ .Release.Namespace }}\n{{ .Chart.Name }}\n{{ .Chart.Version }}\n\n# Default values\n{{ .Values.image.tag | default \"latest\" }}\n\n# Quote strings\n{{ .Values.name | quote }}\n\n# Conditionals\n{{- if .Values.ingress.enabled }}\n...\n{{- end }}\n\n# Loops\n{{- range .Values.hosts }}\n- {{ . }}\n{{- end }}\n\n# Include template\n{{- include \"mychart.fullname\" . }}\n</code></pre>"},{"location":"cheatsheets/helm-cheatsheet/#common-values-override","title":"Common Values Override","text":"<pre><code># values.yaml\nreplicaCount: 3\n\nimage:\n  repository: nginx\n  tag: \"1.25\"\n  pullPolicy: IfNotPresent\n\nservice:\n  type: ClusterIP\n  port: 80\n\ningress:\n  enabled: true\n  hosts:\n    - host: myapp.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n\nresources:\n  limits:\n    cpu: 200m\n    memory: 256Mi\n  requests:\n    cpu: 100m\n    memory: 128Mi\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"cheatsheets/kubectl-cheatsheet/","title":"kubectl Cheat Sheet","text":"<p>Comprehensive kubectl command reference for Kubernetes exams.</p>"},{"location":"cheatsheets/kubectl-cheatsheet/#essential-aliases","title":"Essential Aliases","text":"<pre><code># Add to ~/.bashrc or ~/.zshrc\nalias k=kubectl\nalias kgp='kubectl get pods'\nalias kgs='kubectl get svc'\nalias kgd='kubectl get deploy'\nalias kgn='kubectl get nodes'\nalias kga='kubectl get all'\nalias kd='kubectl describe'\nalias ke='kubectl edit'\nalias kl='kubectl logs'\nalias kx='kubectl exec -it'\nalias kaf='kubectl apply -f'\nalias kdel='kubectl delete'\n\n# Shortcuts\nexport do='--dry-run=client -o yaml'\nexport now='--force --grace-period=0'\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#context-namespace","title":"Context &amp; Namespace","text":"<pre><code># View current context\nkubectl config current-context\n\n# List all contexts\nkubectl config get-contexts\n\n# Switch context\nkubectl config use-context &lt;context-name&gt;\n\n# Set default namespace\nkubectl config set-context --current --namespace=&lt;namespace&gt;\n\n# View config\nkubectl config view\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#pod-operations","title":"Pod Operations","text":"<pre><code># Create pod\nkubectl run nginx --image=nginx\nkubectl run nginx --image=nginx --port=80\nkubectl run nginx --image=nginx --labels=\"app=web,env=prod\"\n\n# Generate YAML\nkubectl run nginx --image=nginx $do &gt; pod.yaml\n\n# Get pods\nkubectl get pods\nkubectl get pods -o wide\nkubectl get pods -A\nkubectl get pods --show-labels\nkubectl get pods -l app=nginx\nkubectl get pods --sort-by='.metadata.creationTimestamp'\n\n# Describe pod\nkubectl describe pod nginx\n\n# Delete pod\nkubectl delete pod nginx\nkubectl delete pod nginx $now\n\n# Execute in pod\nkubectl exec nginx -- ls /\nkubectl exec -it nginx -- /bin/bash\nkubectl exec nginx -c sidecar -- cat /log\n\n# Logs\nkubectl logs nginx\nkubectl logs nginx -f\nkubectl logs nginx --previous\nkubectl logs nginx -c sidecar\nkubectl logs -l app=nginx --all-containers\n\n# Copy files\nkubectl cp nginx:/etc/nginx/nginx.conf ./nginx.conf\nkubectl cp ./file.txt nginx:/tmp/file.txt\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#deployment-operations","title":"Deployment Operations","text":"<pre><code># Create deployment\nkubectl create deployment nginx --image=nginx\nkubectl create deployment nginx --image=nginx --replicas=3\n\n# Generate YAML\nkubectl create deployment nginx --image=nginx $do &gt; deploy.yaml\n\n# Scale\nkubectl scale deployment nginx --replicas=5\n\n# Update image\nkubectl set image deployment/nginx nginx=nginx:1.20\n\n# Rollout\nkubectl rollout status deployment/nginx\nkubectl rollout history deployment/nginx\nkubectl rollout undo deployment/nginx\nkubectl rollout undo deployment/nginx --to-revision=2\nkubectl rollout pause deployment/nginx\nkubectl rollout resume deployment/nginx\n\n# Set resources\nkubectl set resources deployment nginx --limits=cpu=200m,memory=512Mi\nkubectl set resources deployment nginx --requests=cpu=100m,memory=256Mi\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#service-operations","title":"Service Operations","text":"<pre><code># Expose deployment\nkubectl expose deployment nginx --port=80 --type=ClusterIP\nkubectl expose deployment nginx --port=80 --type=NodePort\nkubectl expose deployment nginx --port=80 --type=LoadBalancer\nkubectl expose deployment nginx --port=80 --target-port=8080\n\n# Generate YAML\nkubectl expose deployment nginx --port=80 $do &gt; svc.yaml\n\n# Get services\nkubectl get svc\nkubectl get svc -o wide\nkubectl get endpoints nginx\n\n# Create service manually\nkubectl create service clusterip nginx --tcp=80:80\nkubectl create service nodeport nginx --tcp=80:80\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#configmap-secret","title":"ConfigMap &amp; Secret","text":"<pre><code># Create ConfigMap\nkubectl create configmap myconfig --from-literal=key1=value1\nkubectl create configmap myconfig --from-file=config.txt\nkubectl create configmap myconfig --from-file=mykey=config.txt\nkubectl create configmap myconfig --from-env-file=env.txt\n\n# Create Secret\nkubectl create secret generic mysecret --from-literal=password=secret\nkubectl create secret generic mysecret --from-file=ssh-key=~/.ssh/id_rsa\nkubectl create secret docker-registry regcred \\\n  --docker-server=https://index.docker.io/v1/ \\\n  --docker-username=user \\\n  --docker-password=pass\n\n# View\nkubectl get configmap myconfig -o yaml\nkubectl get secret mysecret -o yaml\nkubectl get secret mysecret -o jsonpath='{.data.password}' | base64 -d\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#namespace-resourcequota","title":"Namespace &amp; ResourceQuota","text":"<pre><code># Create namespace\nkubectl create namespace dev\n\n# Create ResourceQuota\nkubectl create quota dev-quota --hard=pods=10,cpu=4,memory=8Gi -n dev\n\n# Create LimitRange\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: LimitRange\nmetadata:\n  name: default-limits\nspec:\n  limits:\n  - default:\n      memory: 256Mi\n      cpu: 200m\n    defaultRequest:\n      memory: 128Mi\n      cpu: 100m\n    type: Container\nEOF\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#rbac","title":"RBAC","text":"<pre><code># Create ServiceAccount\nkubectl create serviceaccount mysa\n\n# Create Role\nkubectl create role pod-reader --verb=get,list,watch --resource=pods\n\n# Create ClusterRole\nkubectl create clusterrole pod-reader --verb=get,list,watch --resource=pods\n\n# Create RoleBinding\nkubectl create rolebinding read-pods --role=pod-reader --serviceaccount=default:mysa\n\n# Create ClusterRoleBinding\nkubectl create clusterrolebinding read-pods --clusterrole=pod-reader --serviceaccount=default:mysa\n\n# Check permissions\nkubectl auth can-i get pods\nkubectl auth can-i get pods --as=system:serviceaccount:default:mysa\nkubectl auth can-i --list\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#jobs-cronjobs","title":"Jobs &amp; CronJobs","text":"<pre><code># Create Job\nkubectl create job myjob --image=busybox -- echo \"Hello\"\n\n# Create CronJob\nkubectl create cronjob mybackup --image=busybox --schedule=\"0 2 * * *\" -- echo \"Backup\"\n\n# Get jobs\nkubectl get jobs\nkubectl get cronjobs\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#node-operations","title":"Node Operations","text":"<pre><code># Get nodes\nkubectl get nodes\nkubectl get nodes -o wide\nkubectl describe node worker1\n\n# Labels\nkubectl label node worker1 disktype=ssd\nkubectl label node worker1 disktype-\n\n# Taints\nkubectl taint nodes worker1 dedicated=special:NoSchedule\nkubectl taint nodes worker1 dedicated-\n\n# Drain &amp; Cordon\nkubectl cordon worker1\nkubectl uncordon worker1\nkubectl drain worker1 --ignore-daemonsets --delete-emptydir-data\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#output-formatting","title":"Output Formatting","text":"<pre><code># Output formats\nkubectl get pods -o wide\nkubectl get pods -o yaml\nkubectl get pods -o json\nkubectl get pods -o name\nkubectl get pods -o custom-columns=NAME:.metadata.name,STATUS:.status.phase\n\n# JSONPath\nkubectl get pods -o jsonpath='{.items[*].metadata.name}'\nkubectl get nodes -o jsonpath='{.items[*].status.addresses[0].address}'\nkubectl get pods -o jsonpath='{range .items[*]}{.metadata.name}{\"\\t\"}{.status.phase}{\"\\n\"}{end}'\n\n# Sort\nkubectl get pods --sort-by='.metadata.creationTimestamp'\nkubectl get pods --sort-by='.status.containerStatuses[0].restartCount'\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#debugging","title":"Debugging","text":"<pre><code># Events\nkubectl get events\nkubectl get events --sort-by='.lastTimestamp'\nkubectl get events -w\n\n# Resource usage\nkubectl top nodes\nkubectl top pods\nkubectl top pods --containers\n\n# Debug pod\nkubectl run debug --image=busybox --rm -it --restart=Never -- sh\nkubectl run debug --image=nicolaka/netshoot --rm -it --restart=Never -- bash\n\n# Port forward\nkubectl port-forward pod/nginx 8080:80\nkubectl port-forward svc/nginx 8080:80\n\n# Proxy\nkubectl proxy --port=8001\n</code></pre>"},{"location":"cheatsheets/kubectl-cheatsheet/#quick-yaml-generation","title":"Quick YAML Generation","text":"<pre><code># Pod\nkubectl run nginx --image=nginx $do &gt; pod.yaml\n\n# Deployment\nkubectl create deployment nginx --image=nginx $do &gt; deploy.yaml\n\n# Service\nkubectl expose deployment nginx --port=80 $do &gt; svc.yaml\n\n# Job\nkubectl create job myjob --image=busybox $do -- echo hello &gt; job.yaml\n\n# ConfigMap\nkubectl create configmap myconfig --from-literal=key=value $do &gt; cm.yaml\n\n# Secret\nkubectl create secret generic mysecret --from-literal=pass=secret $do &gt; secret.yaml\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"cheatsheets/promql-cheatsheet/","title":"PromQL Cheat Sheet","text":"<p>Essential PromQL commands for PCA exam.</p>"},{"location":"cheatsheets/promql-cheatsheet/#selectors","title":"Selectors","text":"<pre><code># Instant vector\nup\nhttp_requests_total\n\n# Label matching\nup{job=\"prometheus\"}\nup{job=\"prometheus\", instance=\"localhost:9090\"}\n\n# Regex matching\nup{job=~\"prom.*\"}\nup{job=~\"api|web\"}\n\n# Negative matching\nup{job!=\"prometheus\"}\nup{job!~\"test.*\"}\n\n# Range vector\nhttp_requests_total[5m]\nhttp_requests_total{job=\"api\"}[1h]\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#operators","title":"Operators","text":"<pre><code># Arithmetic\nhttp_requests_total + 10\nhttp_requests_total * 2\nhttp_requests_total / http_requests_total\n\n# Comparison (filter)\nhttp_requests_total &gt; 100\nhttp_requests_total &gt;= 100\nhttp_requests_total == 100\n\n# Comparison (bool)\nhttp_requests_total &gt; bool 100\n\n# Logical\nup == 1 and on(job) http_requests_total &gt; 0\nup == 1 or http_requests_total &gt; 0\nup == 1 unless on(job) http_requests_total &gt; 0\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#aggregation","title":"Aggregation","text":"<pre><code># Sum\nsum(http_requests_total)\nsum by (job) (http_requests_total)\nsum without (instance) (http_requests_total)\n\n# Average\navg(http_requests_total)\navg by (job) (http_requests_total)\n\n# Count\ncount(up)\ncount by (job) (up)\n\n# Min/Max\nmin(http_requests_total)\nmax by (job) (http_requests_total)\n\n# Top/Bottom K\ntopk(5, http_requests_total)\nbottomk(3, http_requests_total)\n\n# Quantile\nquantile(0.95, http_requests_total)\n\n# Standard deviation\nstddev(http_requests_total)\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#functions","title":"Functions","text":"<pre><code># Rate (per-second average)\nrate(http_requests_total[5m])\n\n# Irate (instant rate)\nirate(http_requests_total[5m])\n\n# Increase (total increase)\nincrease(http_requests_total[1h])\n\n# Delta (difference)\ndelta(temperature[1h])\n\n# Histogram quantile\nhistogram_quantile(0.99, rate(http_request_duration_bucket[5m]))\nhistogram_quantile(0.95, sum by (le) (rate(http_request_duration_bucket[5m])))\n\n# Absent (alert when missing)\nabsent(up{job=\"api\"})\n\n# Changes\nchanges(process_start_time_seconds[1h])\n\n# Resets\nresets(http_requests_total[1h])\n\n# Time functions\ntime()\ntimestamp(up)\nday_of_week()\nhour()\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#common-patterns","title":"Common Patterns","text":"<pre><code># Error rate\nsum(rate(http_requests_total{status=~\"5..\"}[5m])) \n/ \nsum(rate(http_requests_total[5m]))\n\n# CPU utilization\n100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)\n\n# Memory utilization\n100 * (1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)\n\n# Disk utilization\n100 - (node_filesystem_avail_bytes / node_filesystem_size_bytes * 100)\n\n# Request latency P99\nhistogram_quantile(0.99, sum by (le) (rate(http_request_duration_seconds_bucket[5m])))\n\n# Saturation (queue depth)\navg_over_time(node_load1[5m]) / count(node_cpu_seconds_total{mode=\"idle\"})\n\n# Compare to past\nrate(http_requests_total[5m]) / rate(http_requests_total[5m] offset 1d)\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#subqueries","title":"Subqueries","text":"<pre><code># Max rate over last hour, sampled every 5m\nmax_over_time(rate(http_requests_total[5m])[1h:5m])\n\n# Average of rate over time\navg_over_time(rate(http_requests_total[5m])[1h:])\n</code></pre>"},{"location":"cheatsheets/promql-cheatsheet/#label-functions","title":"Label Functions","text":"<pre><code># Label replace\nlabel_replace(up, \"host\", \"$1\", \"instance\", \"(.*):.*\")\n\n# Label join\nlabel_join(up, \"full_name\", \"-\", \"job\", \"instance\")\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"cka/","title":"CKA - Certified Kubernetes Administrator","text":"<p>The Certified Kubernetes Administrator (CKA) exam certifies that candidates have the skills, knowledge, and competency to perform the responsibilities of Kubernetes administrators.</p>"},{"location":"cka/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Performance-based (hands-on) Number of Questions 15-20 Duration 2 hours Passing Score 66% Certification Validity 3 years Cost $395 USD Retake Policy 1 free retake Kubernetes Version 1.30"},{"location":"cka/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Cluster Architecture, Installation &amp; Configuration 25% Workloads &amp; Scheduling 15% Services &amp; Networking 20% Storage 10% Troubleshooting 30%"},{"location":"cka/#prerequisites","title":"Prerequisites","text":"<ul> <li>Strong Linux command line skills</li> <li>Understanding of Kubernetes architecture</li> <li>Experience with containerization (Docker)</li> <li>Basic networking knowledge</li> </ul>"},{"location":"cka/#study-resources","title":"Study Resources","text":""},{"location":"cka/#official-resources","title":"Official Resources","text":"<ul> <li>CKA Exam Curriculum</li> <li>Kubernetes Documentation</li> <li>Kubernetes Tasks</li> </ul>"},{"location":"cka/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Kubernetes Fundamentals (LFS258)</li> <li>CKA with Practice Tests - Udemy</li> </ul>"},{"location":"cka/#practice-resources","title":"Practice Resources","text":"<ul> <li>Killercoda CKA Scenarios \u2b50 Highly Recommended</li> <li>killer.sh CKA Simulator - Included with exam registration</li> <li>Kubernetes Playground</li> </ul>"},{"location":"cka/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>01 - Cluster Architecture, Installation &amp; Configuration</li> <li>02 - Workloads &amp; Scheduling</li> <li>03 - Services &amp; Networking</li> <li>04 - Storage</li> <li>05 - Troubleshooting</li> <li>Sample Practice Questions</li> </ul>"},{"location":"cka/#exam-environment","title":"Exam Environment","text":"<p>The CKA exam provides:</p> <ul> <li>Access to multiple Kubernetes clusters</li> <li><code>kubectl</code> with auto-completion enabled</li> <li>Access to Kubernetes documentation (kubernetes.io)</li> <li>A Linux terminal environment</li> <li>Root access via <code>sudo</code></li> </ul>"},{"location":"cka/#allowed-resources-during-exam","title":"Allowed Resources During Exam","text":"<ul> <li>kubernetes.io/docs</li> <li>kubernetes.io/blog</li> <li>helm.sh/docs</li> </ul>"},{"location":"cka/#exam-tips","title":"Exam Tips","text":"<ol> <li>Master cluster administration - Know how to bootstrap clusters with kubeadm</li> <li>Practice troubleshooting - 30% of the exam focuses on this</li> <li>Know etcd backup/restore - Critical for cluster recovery</li> <li>Understand RBAC - Role, ClusterRole, RoleBinding, ClusterRoleBinding</li> <li>Practice certificate management - TLS certificates for cluster components</li> <li>Use aliases - Set up <code>alias k=kubectl</code> and enable auto-completion</li> <li>Bookmark important docs - Prepare bookmarks for quick access</li> <li>Practice on Killercoda - Free hands-on scenarios</li> </ol>"},{"location":"cka/#useful-kubectl-commands","title":"Useful kubectl Commands","text":"<pre><code># Set alias\nalias k=kubectl\n\n# Enable auto-completion\nsource &lt;(kubectl completion bash)\ncomplete -o default -F __start_kubectl k\n\n# Cluster info\nkubectl cluster-info\nkubectl get nodes -o wide\nkubectl get componentstatuses\n\n# Context management\nkubectl config get-contexts\nkubectl config use-context &lt;context-name&gt;\nkubectl config set-context --current --namespace=&lt;namespace&gt;\n\n# Resource management\nkubectl api-resources\nkubectl explain pod.spec.containers\n\n# Quick operations\nkubectl run nginx --image=nginx --dry-run=client -o yaml\nkubectl create deployment nginx --image=nginx --dry-run=client -o yaml\nkubectl expose deployment nginx --port=80 --type=NodePort\n\n# Troubleshooting\nkubectl describe node &lt;node-name&gt;\nkubectl logs &lt;pod-name&gt; -c &lt;container-name&gt;\nkubectl exec -it &lt;pod-name&gt; -- /bin/sh\nkubectl top nodes\nkubectl top pods\n</code></pre>"},{"location":"cka/#cluster-administration-commands","title":"Cluster Administration Commands","text":"<pre><code># Kubeadm commands\nkubeadm init --pod-network-cidr=10.244.0.0/16\nkubeadm join &lt;master-ip&gt;:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash &lt;hash&gt;\nkubeadm token create --print-join-command\n\n# Certificate management\nkubeadm certs check-expiration\nkubeadm certs renew all\n\n# etcd backup\nETCDCTL_API=3 etcdctl snapshot save /backup/etcd-snapshot.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# etcd restore\nETCDCTL_API=3 etcdctl snapshot restore /backup/etcd-snapshot.db \\\n  --data-dir=/var/lib/etcd-restore\n\n# Node maintenance\nkubectl drain &lt;node-name&gt; --ignore-daemonsets --delete-emptydir-data\nkubectl cordon &lt;node-name&gt;\nkubectl uncordon &lt;node-name&gt;\n\n# Upgrade cluster\nkubeadm upgrade plan\nkubeadm upgrade apply v1.30.0\n</code></pre>"},{"location":"cka/#registration","title":"Registration","text":"<p>Register for CKA Exam</p>"},{"location":"cka/01-cluster-architecture/","title":"Cluster Architecture, Installation &amp; Configuration (25%)","text":"<p>This domain covers Kubernetes cluster architecture, installation, and configuration.</p>"},{"location":"cka/01-cluster-architecture/#kubernetes-architecture","title":"Kubernetes Architecture","text":""},{"location":"cka/01-cluster-architecture/#control-plane-components","title":"Control Plane Components","text":"Component Description kube-apiserver Frontend for the Kubernetes control plane etcd Consistent and highly-available key-value store kube-scheduler Watches for newly created Pods and assigns nodes kube-controller-manager Runs controller processes cloud-controller-manager Embeds cloud-specific control logic"},{"location":"cka/01-cluster-architecture/#node-components","title":"Node Components","text":"Component Description kubelet Agent that runs on each node kube-proxy Network proxy that runs on each node Container Runtime Software responsible for running containers"},{"location":"cka/01-cluster-architecture/#architecture-diagram","title":"Architecture Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Control Plane                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502 API Server  \u2502 \u2502   etcd      \u2502 \u2502 Controller Manager      \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502  Scheduler  \u2502 \u2502 Cloud Controller Manager (optional)     \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502               \u2502               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Worker Node   \u2502 \u2502   Worker Node   \u2502 \u2502   Worker Node   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  kubelet  \u2502  \u2502 \u2502  \u2502  kubelet  \u2502  \u2502 \u2502  \u2502  kubelet  \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502 \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502 \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502kube-proxy \u2502  \u2502 \u2502  \u2502kube-proxy \u2502  \u2502 \u2502  \u2502kube-proxy \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502 \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502 \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502 Container \u2502  \u2502 \u2502  \u2502 Container \u2502  \u2502 \u2502  \u2502 Container \u2502  \u2502\n\u2502  \u2502  Runtime  \u2502  \u2502 \u2502  \u2502  Runtime  \u2502  \u2502 \u2502  \u2502  Runtime  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"cka/01-cluster-architecture/#cluster-installation-with-kubeadm","title":"Cluster Installation with kubeadm","text":""},{"location":"cka/01-cluster-architecture/#prerequisites","title":"Prerequisites","text":"<pre><code># Disable swap\nsudo swapoff -a\nsudo sed -i '/ swap / s/^\\(.*\\)$/#\\1/g' /etc/fstab\n\n# Load kernel modules\ncat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf\noverlay\nbr_netfilter\nEOF\n\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n# Set sysctl parameters\ncat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.ipv4.ip_forward                 = 1\nEOF\n\nsudo sysctl --system\n</code></pre>"},{"location":"cka/01-cluster-architecture/#install-container-runtime-containerd","title":"Install Container Runtime (containerd)","text":"<pre><code># Install containerd\nsudo apt-get update\nsudo apt-get install -y containerd\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/g' /etc/containerd/config.toml\n\nsudo systemctl restart containerd\nsudo systemctl enable containerd\n</code></pre>"},{"location":"cka/01-cluster-architecture/#install-kubeadm-kubelet-kubectl","title":"Install kubeadm, kubelet, kubectl","text":"<pre><code># Add Kubernetes apt repository\nsudo apt-get update\nsudo apt-get install -y apt-transport-https ca-certificates curl\n\ncurl -fsSL https://pkgs.k8s.io/core:/stable:/v1.30/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n\necho 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.30/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n\n# Install packages\nsudo apt-get update\nsudo apt-get install -y kubelet kubeadm kubectl\nsudo apt-mark hold kubelet kubeadm kubectl\n</code></pre>"},{"location":"cka/01-cluster-architecture/#initialize-control-plane","title":"Initialize Control Plane","text":"<pre><code># Initialize cluster\nsudo kubeadm init --pod-network-cidr=10.244.0.0/16\n\n# Configure kubectl for regular user\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\n\n# Install CNI (Flannel example)\nkubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n</code></pre>"},{"location":"cka/01-cluster-architecture/#join-worker-nodes","title":"Join Worker Nodes","text":"<pre><code># On control plane, get join command\nkubeadm token create --print-join-command\n\n# On worker node\nsudo kubeadm join &lt;control-plane-ip&gt;:6443 --token &lt;token&gt; \\\n  --discovery-token-ca-cert-hash sha256:&lt;hash&gt;\n</code></pre>"},{"location":"cka/01-cluster-architecture/#cluster-upgrade","title":"Cluster Upgrade","text":""},{"location":"cka/01-cluster-architecture/#upgrade-control-plane","title":"Upgrade Control Plane","text":"<pre><code># Check available versions\nsudo apt-cache madison kubeadm\n\n# Upgrade kubeadm\nsudo apt-mark unhold kubeadm\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubeadm=1.30.0-1.1\nsudo apt-mark hold kubeadm\n\n# Plan upgrade\nsudo kubeadm upgrade plan\n\n# Apply upgrade\nsudo kubeadm upgrade apply v1.30.0\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubelet=1.30.0-1.1 kubectl=1.30.0-1.1\nsudo apt-mark hold kubelet kubectl\n\n# Restart kubelet\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n</code></pre>"},{"location":"cka/01-cluster-architecture/#upgrade-worker-nodes","title":"Upgrade Worker Nodes","text":"<pre><code># Drain node (from control plane)\nkubectl drain &lt;node-name&gt; --ignore-daemonsets --delete-emptydir-data\n\n# On worker node - upgrade kubeadm\nsudo apt-mark unhold kubeadm\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubeadm=1.30.0-1.1\nsudo apt-mark hold kubeadm\n\n# Upgrade node config\nsudo kubeadm upgrade node\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubelet=1.30.0-1.1 kubectl=1.30.0-1.1\nsudo apt-mark hold kubelet kubectl\n\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n\n# Uncordon node (from control plane)\nkubectl uncordon &lt;node-name&gt;\n</code></pre>"},{"location":"cka/01-cluster-architecture/#etcd-backup-and-restore","title":"etcd Backup and Restore","text":""},{"location":"cka/01-cluster-architecture/#backup-etcd","title":"Backup etcd","text":"<pre><code># Using etcdctl\nETCDCTL_API=3 etcdctl snapshot save /backup/etcd-snapshot.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Verify backup\nETCDCTL_API=3 etcdctl snapshot status /backup/etcd-snapshot.db --write-out=table\n</code></pre>"},{"location":"cka/01-cluster-architecture/#restore-etcd","title":"Restore etcd","text":"<pre><code># Stop kube-apiserver (if running as static pod, move manifest)\nsudo mv /etc/kubernetes/manifests/kube-apiserver.yaml /tmp/\n\n# Restore snapshot\nETCDCTL_API=3 etcdctl snapshot restore /backup/etcd-snapshot.db \\\n  --data-dir=/var/lib/etcd-restore\n\n# Update etcd manifest to use new data directory\n# Edit /etc/kubernetes/manifests/etcd.yaml\n# Change: --data-dir=/var/lib/etcd-restore\n\n# Restore kube-apiserver\nsudo mv /tmp/kube-apiserver.yaml /etc/kubernetes/manifests/\n</code></pre>"},{"location":"cka/01-cluster-architecture/#rbac-role-based-access-control","title":"RBAC (Role-Based Access Control)","text":""},{"location":"cka/01-cluster-architecture/#role-and-rolebinding-namespace-scoped","title":"Role and RoleBinding (Namespace-scoped)","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: pod-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: read-pods\n  namespace: default\nsubjects:\n- kind: User\n  name: jane\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"cka/01-cluster-architecture/#clusterrole-and-clusterrolebinding-cluster-scoped","title":"ClusterRole and ClusterRoleBinding (Cluster-scoped)","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: secret-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"secrets\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: read-secrets-global\nsubjects:\n- kind: Group\n  name: managers\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: ClusterRole\n  name: secret-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"cka/01-cluster-architecture/#rbac-commands","title":"RBAC Commands","text":"<pre><code># Create role\nkubectl create role pod-reader --verb=get,list,watch --resource=pods\n\n# Create rolebinding\nkubectl create rolebinding read-pods --role=pod-reader --user=jane\n\n# Create clusterrole\nkubectl create clusterrole node-reader --verb=get,list,watch --resource=nodes\n\n# Create clusterrolebinding\nkubectl create clusterrolebinding read-nodes --clusterrole=node-reader --user=jane\n\n# Check permissions\nkubectl auth can-i create pods --as jane\nkubectl auth can-i list nodes --as jane\nkubectl auth can-i --list --as jane\n</code></pre>"},{"location":"cka/01-cluster-architecture/#certificates","title":"Certificates","text":""},{"location":"cka/01-cluster-architecture/#view-certificate-details","title":"View Certificate Details","text":"<pre><code># View certificate\nopenssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout\n\n# Check certificate expiration\nkubeadm certs check-expiration\n\n# Renew certificates\nkubeadm certs renew all\n</code></pre>"},{"location":"cka/01-cluster-architecture/#certificate-locations","title":"Certificate Locations","text":"Certificate Path CA <code>/etc/kubernetes/pki/ca.crt</code> API Server <code>/etc/kubernetes/pki/apiserver.crt</code> API Server Key <code>/etc/kubernetes/pki/apiserver.key</code> etcd CA <code>/etc/kubernetes/pki/etcd/ca.crt</code> etcd Server <code>/etc/kubernetes/pki/etcd/server.crt</code>"},{"location":"cka/01-cluster-architecture/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Control Plane - API Server, etcd, Scheduler, Controller Manager</li> <li>kubeadm - Tool to bootstrap clusters</li> <li>etcd - Cluster state storage, backup/restore critical</li> <li>RBAC - Role, ClusterRole, RoleBinding, ClusterRoleBinding</li> <li>Certificates - TLS for secure communication</li> </ol>"},{"location":"cka/01-cluster-architecture/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you initialize a Kubernetes cluster with kubeadm?</li> <li>What is the command to backup etcd?</li> <li>How do you upgrade a cluster from 1.29 to 1.30?</li> <li>What is the difference between Role and ClusterRole?</li> <li>How do you check if a user can perform an action?</li> </ol> <p>Back to CKA Overview | Next: Workloads &amp; Scheduling \u2192</p>"},{"location":"cka/02-workloads-scheduling/","title":"Workloads &amp; Scheduling (15%)","text":"<p>This domain covers managing workloads and understanding Kubernetes scheduling.</p>"},{"location":"cka/02-workloads-scheduling/#deployments","title":"Deployments","text":""},{"location":"cka/02-workloads-scheduling/#creating-deployments","title":"Creating Deployments","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 1\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.21\n        ports:\n        - containerPort: 80\n        resources:\n          requests:\n            memory: \"64Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#deployment-commands","title":"Deployment Commands","text":"<pre><code># Create deployment\nkubectl create deployment nginx --image=nginx:1.21 --replicas=3\n\n# Scale deployment\nkubectl scale deployment nginx --replicas=5\n\n# Update image\nkubectl set image deployment/nginx nginx=nginx:1.22\n\n# Rollout commands\nkubectl rollout status deployment/nginx\nkubectl rollout history deployment/nginx\nkubectl rollout undo deployment/nginx\nkubectl rollout undo deployment/nginx --to-revision=2\nkubectl rollout pause deployment/nginx\nkubectl rollout resume deployment/nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#daemonsets","title":"DaemonSets","text":"<p>Ensures all (or some) nodes run a copy of a Pod.</p> <pre><code>apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: fluentd\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      name: fluentd\n  template:\n    metadata:\n      labels:\n        name: fluentd\n    spec:\n      tolerations:\n      - key: node-role.kubernetes.io/control-plane\n        operator: Exists\n        effect: NoSchedule\n      containers:\n      - name: fluentd\n        image: fluentd:v1.14\n        volumeMounts:\n        - name: varlog\n          mountPath: /var/log\n      volumes:\n      - name: varlog\n        hostPath:\n          path: /var/log\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#statefulsets","title":"StatefulSets","text":"<p>For stateful applications requiring stable network identities and persistent storage.</p> <pre><code>apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: mysql\nspec:\n  serviceName: mysql\n  replicas: 3\n  selector:\n    matchLabels:\n      app: mysql\n  template:\n    metadata:\n      labels:\n        app: mysql\n    spec:\n      containers:\n      - name: mysql\n        image: mysql:8.0\n        ports:\n        - containerPort: 3306\n        volumeMounts:\n        - name: data\n          mountPath: /var/lib/mysql\n        env:\n        - name: MYSQL_ROOT_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: mysql-secret\n              key: password\n  volumeClaimTemplates:\n  - metadata:\n      name: data\n    spec:\n      accessModes: [\"ReadWriteOnce\"]\n      resources:\n        requests:\n          storage: 10Gi\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#scheduling","title":"Scheduling","text":""},{"location":"cka/02-workloads-scheduling/#node-selectors","title":"Node Selectors","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  nodeSelector:\n    disktype: ssd\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#node-affinity","title":"Node Affinity","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  affinity:\n    nodeAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        nodeSelectorTerms:\n        - matchExpressions:\n          - key: topology.kubernetes.io/zone\n            operator: In\n            values:\n            - us-east-1a\n            - us-east-1b\n      preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 1\n        preference:\n          matchExpressions:\n          - key: disktype\n            operator: In\n            values:\n            - ssd\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#pod-affinity-and-anti-affinity","title":"Pod Affinity and Anti-Affinity","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: web-server\nspec:\n  affinity:\n    podAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n      - labelSelector:\n          matchExpressions:\n          - key: app\n            operator: In\n            values:\n            - cache\n        topologyKey: kubernetes.io/hostname\n    podAntiAffinity:\n      preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 100\n        podAffinityTerm:\n          labelSelector:\n            matchExpressions:\n            - key: app\n              operator: In\n              values:\n              - web-server\n          topologyKey: kubernetes.io/hostname\n  containers:\n  - name: web\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#taints-and-tolerations","title":"Taints and Tolerations","text":"<pre><code># Add taint to node\nkubectl taint nodes node1 key=value:NoSchedule\nkubectl taint nodes node1 key=value:NoExecute\nkubectl taint nodes node1 key=value:PreferNoSchedule\n\n# Remove taint\nkubectl taint nodes node1 key=value:NoSchedule-\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  tolerations:\n  - key: \"key\"\n    operator: \"Equal\"\n    value: \"value\"\n    effect: \"NoSchedule\"\n  - key: \"key\"\n    operator: \"Exists\"\n    effect: \"NoExecute\"\n    tolerationSeconds: 3600\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#taint-effects","title":"Taint Effects","text":"Effect Description <code>NoSchedule</code> New pods won't be scheduled <code>PreferNoSchedule</code> Scheduler tries to avoid <code>NoExecute</code> Evicts existing pods"},{"location":"cka/02-workloads-scheduling/#resource-management","title":"Resource Management","text":""},{"location":"cka/02-workloads-scheduling/#resource-requests-and-limits","title":"Resource Requests and Limits","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: resource-demo\nspec:\n  containers:\n  - name: app\n    image: nginx\n    resources:\n      requests:\n        memory: \"64Mi\"\n        cpu: \"250m\"\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#limitrange","title":"LimitRange","text":"<pre><code>apiVersion: v1\nkind: LimitRange\nmetadata:\n  name: resource-limits\n  namespace: default\nspec:\n  limits:\n  - type: Container\n    default:\n      cpu: \"500m\"\n      memory: \"256Mi\"\n    defaultRequest:\n      cpu: \"100m\"\n      memory: \"128Mi\"\n    max:\n      cpu: \"2\"\n      memory: \"1Gi\"\n    min:\n      cpu: \"50m\"\n      memory: \"64Mi\"\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#resourcequota","title":"ResourceQuota","text":"<pre><code>apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: compute-quota\n  namespace: default\nspec:\n  hard:\n    requests.cpu: \"4\"\n    requests.memory: \"8Gi\"\n    limits.cpu: \"8\"\n    limits.memory: \"16Gi\"\n    pods: \"10\"\n    configmaps: \"10\"\n    secrets: \"10\"\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#static-pods","title":"Static Pods","text":"<p>Static pods are managed directly by kubelet on a specific node.</p> <pre><code># Default static pod path\n/etc/kubernetes/manifests/\n\n# Check kubelet config for static pod path\ncat /var/lib/kubelet/config.yaml | grep staticPodPath\n\n# Create static pod\ncat &lt;&lt;EOF &gt; /etc/kubernetes/manifests/static-nginx.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: static-nginx\nspec:\n  containers:\n  - name: nginx\n    image: nginx\nEOF\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#multiple-schedulers","title":"Multiple Schedulers","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: custom-scheduler-pod\nspec:\n  schedulerName: my-custom-scheduler\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#manual-scheduling","title":"Manual Scheduling","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: manual-pod\nspec:\n  nodeName: node01  # Bypass scheduler\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#labels-and-selectors","title":"Labels and Selectors","text":"<pre><code># Add label\nkubectl label nodes node1 disktype=ssd\nkubectl label pods nginx env=prod\n\n# Remove label\nkubectl label nodes node1 disktype-\n\n# Show labels\nkubectl get nodes --show-labels\nkubectl get pods -l env=prod\nkubectl get pods -l 'env in (prod,dev)'\n</code></pre>"},{"location":"cka/02-workloads-scheduling/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Deployments - Declarative updates for Pods</li> <li>DaemonSets - One pod per node</li> <li>StatefulSets - Stable network identity and storage</li> <li>Node Affinity - Schedule based on node labels</li> <li>Taints/Tolerations - Repel pods from nodes</li> <li>Static Pods - Managed by kubelet directly</li> </ol>"},{"location":"cka/02-workloads-scheduling/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you create a DaemonSet that runs on all nodes including control plane?</li> <li>What is the difference between nodeSelector and nodeAffinity?</li> <li>How do you taint a node to prevent scheduling?</li> <li>Where are static pod manifests stored?</li> <li>How do you schedule a pod to a specific node?</li> </ol> <p>\u2190 Previous: Cluster Architecture | Back to CKA Overview | Next: Services &amp; Networking \u2192</p>"},{"location":"cka/03-services-networking/","title":"Services &amp; Networking (20%)","text":"<p>This domain covers Kubernetes networking concepts, Services, DNS, and network policies.</p>"},{"location":"cka/03-services-networking/#services","title":"Services","text":""},{"location":"cka/03-services-networking/#service-types","title":"Service Types","text":"Type Description <code>ClusterIP</code> Internal cluster IP (default) <code>NodePort</code> Exposes on each node's IP at a static port (30000-32767) <code>LoadBalancer</code> External load balancer (cloud provider) <code>ExternalName</code> Maps to external DNS name"},{"location":"cka/03-services-networking/#clusterip-service","title":"ClusterIP Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: ClusterIP\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n    protocol: TCP\n</code></pre>"},{"location":"cka/03-services-networking/#nodeport-service","title":"NodePort Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-nodeport\nspec:\n  type: NodePort\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n    nodePort: 30080\n</code></pre>"},{"location":"cka/03-services-networking/#loadbalancer-service","title":"LoadBalancer Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-loadbalancer\nspec:\n  type: LoadBalancer\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"cka/03-services-networking/#headless-service","title":"Headless Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: headless-service\nspec:\n  clusterIP: None\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"cka/03-services-networking/#service-commands","title":"Service Commands","text":"<pre><code># Create service\nkubectl expose deployment nginx --port=80 --target-port=8080 --type=ClusterIP\n\n# Create NodePort service\nkubectl expose deployment nginx --port=80 --type=NodePort\n\n# Get endpoints\nkubectl get endpoints my-service\n</code></pre>"},{"location":"cka/03-services-networking/#dns-in-kubernetes","title":"DNS in Kubernetes","text":""},{"location":"cka/03-services-networking/#service-dns","title":"Service DNS","text":"<pre><code>&lt;service-name&gt;.&lt;namespace&gt;.svc.cluster.local\n\nExamples:\n- my-service.default.svc.cluster.local\n- my-service.default.svc\n- my-service.default\n- my-service (within same namespace)\n</code></pre>"},{"location":"cka/03-services-networking/#pod-dns","title":"Pod DNS","text":"<pre><code>&lt;pod-ip-dashed&gt;.&lt;namespace&gt;.pod.cluster.local\n\nExample:\n- 10-244-0-5.default.pod.cluster.local\n</code></pre>"},{"location":"cka/03-services-networking/#coredns","title":"CoreDNS","text":"<pre><code># Check CoreDNS pods\nkubectl get pods -n kube-system -l k8s-app=kube-dns\n\n# Check CoreDNS ConfigMap\nkubectl get configmap coredns -n kube-system -o yaml\n\n# Test DNS resolution\nkubectl run test --image=busybox:1.36 --rm -it -- nslookup kubernetes\n</code></pre>"},{"location":"cka/03-services-networking/#ingress","title":"Ingress","text":""},{"location":"cka/03-services-networking/#ingress-resource","title":"Ingress Resource","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: my-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: myapp-service\n            port:\n              number: 80\n</code></pre>"},{"location":"cka/03-services-networking/#path-based-routing","title":"Path-based Routing","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: path-ingress\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: api-service\n            port:\n              number: 80\n      - path: /web\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\n</code></pre>"},{"location":"cka/03-services-networking/#tls-ingress","title":"TLS Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: tls-ingress\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - myapp.example.com\n    secretName: tls-secret\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: myapp-service\n            port:\n              number: 80\n</code></pre>"},{"location":"cka/03-services-networking/#ingress-commands","title":"Ingress Commands","text":"<pre><code># Create ingress\nkubectl create ingress my-ingress \\\n  --rule=\"myapp.example.com/=myapp-service:80\" \\\n  --class=nginx\n\n# With TLS\nkubectl create ingress my-ingress \\\n  --rule=\"myapp.example.com/=myapp-service:80,tls=tls-secret\" \\\n  --class=nginx\n</code></pre>"},{"location":"cka/03-services-networking/#network-policies","title":"Network Policies","text":""},{"location":"cka/03-services-networking/#default-deny-all-ingress","title":"Default Deny All Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all-ingress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"cka/03-services-networking/#default-deny-all-egress","title":"Default Deny All Egress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n</code></pre>"},{"location":"cka/03-services-networking/#allow-specific-ingress","title":"Allow Specific Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    - namespaceSelector:\n        matchLabels:\n          name: production\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"cka/03-services-networking/#allow-egress-to-specific-pods-and-dns","title":"Allow Egress to Specific Pods and DNS","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-egress\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - podSelector:\n        matchLabels:\n          app: database\n    ports:\n    - protocol: TCP\n      port: 5432\n  - to:  # Allow DNS\n    ports:\n    - protocol: UDP\n      port: 53\n</code></pre>"},{"location":"cka/03-services-networking/#ip-block","title":"IP Block","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-external\nspec:\n  podSelector:\n    matchLabels:\n      app: web\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - ipBlock:\n        cidr: 10.0.0.0/8\n        except:\n        - 10.0.1.0/24\n</code></pre>"},{"location":"cka/03-services-networking/#cni-container-network-interface","title":"CNI (Container Network Interface)","text":""},{"location":"cka/03-services-networking/#common-cni-plugins","title":"Common CNI Plugins","text":"Plugin Description Flannel Simple overlay network Calico Network policy support, BGP Weave Mesh network Cilium eBPF-based networking"},{"location":"cka/03-services-networking/#cni-configuration","title":"CNI Configuration","text":"<pre><code># CNI config location\n/etc/cni/net.d/\n\n# CNI binaries\n/opt/cni/bin/\n\n# Check CNI plugin\nls /etc/cni/net.d/\ncat /etc/cni/net.d/10-flannel.conflist\n</code></pre>"},{"location":"cka/03-services-networking/#cluster-networking","title":"Cluster Networking","text":""},{"location":"cka/03-services-networking/#pod-networking","title":"Pod Networking","text":"<pre><code># View pod IPs\nkubectl get pods -o wide\n\n# Check pod network\nkubectl exec -it nginx -- ip addr\nkubectl exec -it nginx -- ip route\n</code></pre>"},{"location":"cka/03-services-networking/#service-networking","title":"Service Networking","text":"<pre><code># Check service CIDR\nkubectl cluster-info dump | grep -m 1 service-cluster-ip-range\n\n# Check kube-proxy mode\nkubectl logs -n kube-system -l k8s-app=kube-proxy | grep \"Using\"\n</code></pre>"},{"location":"cka/03-services-networking/#port-forwarding","title":"Port Forwarding","text":"<pre><code># Forward pod port\nkubectl port-forward pod/nginx 8080:80\n\n# Forward service port\nkubectl port-forward svc/nginx 8080:80\n\n# Forward to all interfaces\nkubectl port-forward --address 0.0.0.0 pod/nginx 8080:80\n</code></pre>"},{"location":"cka/03-services-networking/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>ClusterIP - Default, internal only</li> <li>NodePort - External access via node IP:port (30000-32767)</li> <li>LoadBalancer - Cloud provider load balancer</li> <li>Ingress - HTTP/HTTPS routing, requires controller</li> <li>Network Policies - Default allow, explicit deny</li> <li>CoreDNS - Cluster DNS service</li> </ol>"},{"location":"cka/03-services-networking/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the default Service type in Kubernetes?</li> <li>How do you create a Service that exposes a deployment externally?</li> <li>What is the DNS name format for a Service?</li> <li>How do you create a NetworkPolicy that denies all ingress traffic?</li> <li>What is the difference between Ingress and LoadBalancer Service?</li> </ol> <p>\u2190 Previous: Workloads &amp; Scheduling | Back to CKA Overview | Next: Storage \u2192</p>"},{"location":"cka/04-storage/","title":"Storage (10%)","text":"<p>This domain covers Kubernetes storage concepts including volumes, persistent volumes, and storage classes.</p>"},{"location":"cka/04-storage/#volumes","title":"Volumes","text":""},{"location":"cka/04-storage/#emptydir","title":"emptyDir","text":"<p>Temporary storage that exists for the Pod's lifetime.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-emptydir\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: cache\n      mountPath: /cache\n  volumes:\n  - name: cache\n    emptyDir: {}\n</code></pre>"},{"location":"cka/04-storage/#memory-backed-emptydir","title":"Memory-backed emptyDir","text":"<pre><code>volumes:\n- name: memory-cache\n  emptyDir:\n    medium: Memory\n    sizeLimit: 100Mi\n</code></pre>"},{"location":"cka/04-storage/#hostpath","title":"hostPath","text":"<p>Mount a file or directory from the host node.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-hostpath\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: data\n      mountPath: /data\n  volumes:\n  - name: data\n    hostPath:\n      path: /data\n      type: DirectoryOrCreate\n</code></pre>"},{"location":"cka/04-storage/#hostpath-types","title":"hostPath Types","text":"Type Description <code>\"\"</code> No checks (default) <code>DirectoryOrCreate</code> Create directory if not exists <code>Directory</code> Directory must exist <code>FileOrCreate</code> Create file if not exists <code>File</code> File must exist <code>Socket</code> Unix socket must exist"},{"location":"cka/04-storage/#persistent-volumes-pv","title":"Persistent Volumes (PV)","text":""},{"location":"cka/04-storage/#persistentvolume","title":"PersistentVolume","text":"<pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-volume\nspec:\n  capacity:\n    storage: 10Gi\n  accessModes:\n  - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Retain\n  storageClassName: manual\n  hostPath:\n    path: /mnt/data\n</code></pre>"},{"location":"cka/04-storage/#access-modes","title":"Access Modes","text":"Mode Abbreviation Description <code>ReadWriteOnce</code> RWO Single node read-write <code>ReadOnlyMany</code> ROX Multiple nodes read-only <code>ReadWriteMany</code> RWX Multiple nodes read-write <code>ReadWriteOncePod</code> RWOP Single pod read-write"},{"location":"cka/04-storage/#reclaim-policies","title":"Reclaim Policies","text":"Policy Description <code>Retain</code> Manual reclamation <code>Delete</code> Delete volume when PVC is deleted <code>Recycle</code> Basic scrub (deprecated)"},{"location":"cka/04-storage/#persistentvolumeclaim-pvc","title":"PersistentVolumeClaim (PVC)","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: pvc-claim\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 5Gi\n  storageClassName: manual\n</code></pre>"},{"location":"cka/04-storage/#using-pvc-in-pod","title":"Using PVC in Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-pvc\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: data\n      mountPath: /data\n  volumes:\n  - name: data\n    persistentVolumeClaim:\n      claimName: pvc-claim\n</code></pre>"},{"location":"cka/04-storage/#storage-classes","title":"Storage Classes","text":""},{"location":"cka/04-storage/#storageclass","title":"StorageClass","text":"<pre><code>apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: fast\nprovisioner: kubernetes.io/aws-ebs\nparameters:\n  type: gp3\n  iopsPerGB: \"10\"\nreclaimPolicy: Delete\nallowVolumeExpansion: true\nvolumeBindingMode: WaitForFirstConsumer\n</code></pre>"},{"location":"cka/04-storage/#volume-binding-modes","title":"Volume Binding Modes","text":"Mode Description <code>Immediate</code> Bind PV immediately when PVC is created <code>WaitForFirstConsumer</code> Delay binding until Pod is scheduled"},{"location":"cka/04-storage/#dynamic-provisioning","title":"Dynamic Provisioning","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: dynamic-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n  storageClassName: fast  # Uses StorageClass for dynamic provisioning\n</code></pre>"},{"location":"cka/04-storage/#configmap-as-volume","title":"ConfigMap as Volume","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-configmap\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: config\n      mountPath: /etc/config\n  volumes:\n  - name: config\n    configMap:\n      name: my-config\n      items:\n      - key: config.json\n        path: app-config.json\n</code></pre>"},{"location":"cka/04-storage/#secret-as-volume","title":"Secret as Volume","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-secret\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: secret\n      mountPath: /etc/secrets\n      readOnly: true\n  volumes:\n  - name: secret\n    secret:\n      secretName: my-secret\n      defaultMode: 0400\n</code></pre>"},{"location":"cka/04-storage/#projected-volumes","title":"Projected Volumes","text":"<p>Combine multiple volume sources into a single directory.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-projected\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: all-in-one\n      mountPath: /projected-volume\n  volumes:\n  - name: all-in-one\n    projected:\n      sources:\n      - secret:\n          name: my-secret\n      - configMap:\n          name: my-config\n      - downwardAPI:\n          items:\n          - path: labels\n            fieldRef:\n              fieldPath: metadata.labels\n</code></pre>"},{"location":"cka/04-storage/#volume-expansion","title":"Volume Expansion","text":"<pre><code># StorageClass must have allowVolumeExpansion: true\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: expandable-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 20Gi  # Increase from original size\n  storageClassName: fast\n</code></pre>"},{"location":"cka/04-storage/#storage-commands","title":"Storage Commands","text":"<pre><code># List PersistentVolumes\nkubectl get pv\n\n# List PersistentVolumeClaims\nkubectl get pvc\n\n# List StorageClasses\nkubectl get sc\n\n# Describe PV\nkubectl describe pv pv-volume\n\n# Delete PVC\nkubectl delete pvc pvc-claim\n\n# Patch PVC to expand\nkubectl patch pvc pvc-claim -p '{\"spec\":{\"resources\":{\"requests\":{\"storage\":\"20Gi\"}}}}'\n</code></pre>"},{"location":"cka/04-storage/#volume-snapshots","title":"Volume Snapshots","text":""},{"location":"cka/04-storage/#volumesnapshotclass","title":"VolumeSnapshotClass","text":"<pre><code>apiVersion: snapshot.storage.k8s.io/v1\nkind: VolumeSnapshotClass\nmetadata:\n  name: csi-snapclass\ndriver: ebs.csi.aws.com\ndeletionPolicy: Delete\n</code></pre>"},{"location":"cka/04-storage/#volumesnapshot","title":"VolumeSnapshot","text":"<pre><code>apiVersion: snapshot.storage.k8s.io/v1\nkind: VolumeSnapshot\nmetadata:\n  name: my-snapshot\nspec:\n  volumeSnapshotClassName: csi-snapclass\n  source:\n    persistentVolumeClaimName: my-pvc\n</code></pre>"},{"location":"cka/04-storage/#restore-from-snapshot","title":"Restore from Snapshot","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: restored-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n  dataSource:\n    name: my-snapshot\n    kind: VolumeSnapshot\n    apiGroup: snapshot.storage.k8s.io\n</code></pre>"},{"location":"cka/04-storage/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>PV - Cluster-level storage resource</li> <li>PVC - Request for storage by a user</li> <li>StorageClass - Dynamic provisioning template</li> <li>Access Modes - RWO, ROX, RWX, RWOP</li> <li>Reclaim Policies - Retain, Delete, Recycle</li> </ol>"},{"location":"cka/04-storage/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the difference between PV and PVC?</li> <li>How do you create a PVC that uses dynamic provisioning?</li> <li>What access mode allows multiple nodes to read and write?</li> <li>How do you expand a PVC?</li> <li>What is the purpose of volumeBindingMode: WaitForFirstConsumer?</li> </ol> <p>\u2190 Previous: Services &amp; Networking | Back to CKA Overview | Next: Troubleshooting \u2192</p>"},{"location":"cka/05-troubleshooting/","title":"Troubleshooting (30%)","text":"<p>This domain covers troubleshooting Kubernetes clusters, applications, and networking issues. This is the largest domain in the CKA exam.</p>"},{"location":"cka/05-troubleshooting/#cluster-troubleshooting","title":"Cluster Troubleshooting","text":""},{"location":"cka/05-troubleshooting/#check-cluster-health","title":"Check Cluster Health","text":"<pre><code># Cluster info\nkubectl cluster-info\nkubectl cluster-info dump\n\n# Component status (deprecated but useful)\nkubectl get componentstatuses\n\n# Check nodes\nkubectl get nodes\nkubectl describe node &lt;node-name&gt;\n\n# Check system pods\nkubectl get pods -n kube-system\n</code></pre>"},{"location":"cka/05-troubleshooting/#control-plane-components","title":"Control Plane Components","text":"<pre><code># Check control plane pods (if using kubeadm)\nkubectl get pods -n kube-system\n\n# Check static pod manifests\nls /etc/kubernetes/manifests/\ncat /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Check component logs\nkubectl logs -n kube-system kube-apiserver-&lt;node&gt;\nkubectl logs -n kube-system kube-controller-manager-&lt;node&gt;\nkubectl logs -n kube-system kube-scheduler-&lt;node&gt;\nkubectl logs -n kube-system etcd-&lt;node&gt;\n\n# If running as systemd services\nsudo journalctl -u kubelet\nsudo journalctl -u kube-apiserver\n</code></pre>"},{"location":"cka/05-troubleshooting/#kubelet-troubleshooting","title":"kubelet Troubleshooting","text":"<pre><code># Check kubelet status\nsudo systemctl status kubelet\nsudo systemctl restart kubelet\n\n# Check kubelet logs\nsudo journalctl -u kubelet -f\nsudo journalctl -u kubelet --since \"10 minutes ago\"\n\n# Check kubelet config\ncat /var/lib/kubelet/config.yaml\ncat /etc/kubernetes/kubelet.conf\n</code></pre>"},{"location":"cka/05-troubleshooting/#etcd-troubleshooting","title":"etcd Troubleshooting","text":"<pre><code># Check etcd health\nETCDCTL_API=3 etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Check etcd members\nETCDCTL_API=3 etcdctl member list \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n</code></pre>"},{"location":"cka/05-troubleshooting/#node-troubleshooting","title":"Node Troubleshooting","text":""},{"location":"cka/05-troubleshooting/#node-status","title":"Node Status","text":"<pre><code># Get node details\nkubectl get nodes -o wide\nkubectl describe node &lt;node-name&gt;\n\n# Check node conditions\nkubectl get nodes -o jsonpath='{.items[*].status.conditions}'\n</code></pre>"},{"location":"cka/05-troubleshooting/#node-conditions","title":"Node Conditions","text":"Condition Description <code>Ready</code> Node is healthy and ready <code>MemoryPressure</code> Node memory is low <code>DiskPressure</code> Node disk space is low <code>PIDPressure</code> Too many processes <code>NetworkUnavailable</code> Network not configured"},{"location":"cka/05-troubleshooting/#node-maintenance","title":"Node Maintenance","text":"<pre><code># Cordon node (prevent scheduling)\nkubectl cordon &lt;node-name&gt;\n\n# Drain node (evict pods)\nkubectl drain &lt;node-name&gt; --ignore-daemonsets --delete-emptydir-data\n\n# Uncordon node\nkubectl uncordon &lt;node-name&gt;\n</code></pre>"},{"location":"cka/05-troubleshooting/#application-troubleshooting","title":"Application Troubleshooting","text":""},{"location":"cka/05-troubleshooting/#pod-debugging","title":"Pod Debugging","text":"<pre><code># Get pod status\nkubectl get pods\nkubectl get pods -o wide\nkubectl get pods --all-namespaces\n\n# Describe pod (events, conditions)\nkubectl describe pod &lt;pod-name&gt;\n\n# Get pod YAML\nkubectl get pod &lt;pod-name&gt; -o yaml\n\n# Check pod logs\nkubectl logs &lt;pod-name&gt;\nkubectl logs &lt;pod-name&gt; -c &lt;container-name&gt;\nkubectl logs &lt;pod-name&gt; --previous\nkubectl logs &lt;pod-name&gt; -f\nkubectl logs &lt;pod-name&gt; --tail=100\n\n# Execute command in pod\nkubectl exec -it &lt;pod-name&gt; -- /bin/sh\nkubectl exec &lt;pod-name&gt; -- cat /etc/config/app.conf\n</code></pre>"},{"location":"cka/05-troubleshooting/#common-pod-issues","title":"Common Pod Issues","text":"Status Cause Solution Pending No node available, resource constraints Check events, node resources ImagePullBackOff Image not found, auth issues Check image name, pull secrets CrashLoopBackOff Container crashes repeatedly Check logs, probe config CreateContainerConfigError ConfigMap/Secret missing Check references OOMKilled Out of memory Increase memory limits Evicted Node resource pressure Check node conditions"},{"location":"cka/05-troubleshooting/#debug-with-ephemeral-containers","title":"Debug with Ephemeral Containers","text":"<pre><code># Add debug container to running pod\nkubectl debug &lt;pod-name&gt; -it --image=busybox --target=&lt;container-name&gt;\n\n# Debug node\nkubectl debug node/&lt;node-name&gt; -it --image=ubuntu\n</code></pre>"},{"location":"cka/05-troubleshooting/#pod-resource-issues","title":"Pod Resource Issues","text":"<pre><code># Check resource usage\nkubectl top pods\nkubectl top pods --containers\nkubectl top nodes\n\n# Check resource requests/limits\nkubectl describe pod &lt;pod-name&gt; | grep -A 5 \"Requests\\|Limits\"\n</code></pre>"},{"location":"cka/05-troubleshooting/#service-troubleshooting","title":"Service Troubleshooting","text":""},{"location":"cka/05-troubleshooting/#service-debugging","title":"Service Debugging","text":"<pre><code># Check service\nkubectl get svc\nkubectl describe svc &lt;service-name&gt;\n\n# Check endpoints\nkubectl get endpoints &lt;service-name&gt;\n\n# Test service from within cluster\nkubectl run test --image=busybox:1.36 --rm -it -- wget -qO- http://&lt;service-name&gt;\n\n# Check service DNS\nkubectl run test --image=busybox:1.36 --rm -it -- nslookup &lt;service-name&gt;\n</code></pre>"},{"location":"cka/05-troubleshooting/#common-service-issues","title":"Common Service Issues","text":"Issue Cause Solution No endpoints Selector mismatch Check pod labels match service selector Connection refused Wrong port Check targetPort matches container port DNS not resolving CoreDNS issues Check CoreDNS pods"},{"location":"cka/05-troubleshooting/#networking-troubleshooting","title":"Networking Troubleshooting","text":""},{"location":"cka/05-troubleshooting/#dns-debugging","title":"DNS Debugging","text":"<pre><code># Check CoreDNS\nkubectl get pods -n kube-system -l k8s-app=kube-dns\nkubectl logs -n kube-system -l k8s-app=kube-dns\n\n# Test DNS resolution\nkubectl run test --image=busybox:1.36 --rm -it -- nslookup kubernetes\nkubectl run test --image=busybox:1.36 --rm -it -- nslookup &lt;service&gt;.&lt;namespace&gt;.svc.cluster.local\n\n# Check resolv.conf in pod\nkubectl exec &lt;pod-name&gt; -- cat /etc/resolv.conf\n</code></pre>"},{"location":"cka/05-troubleshooting/#network-policy-debugging","title":"Network Policy Debugging","text":"<pre><code># List network policies\nkubectl get networkpolicies\nkubectl describe networkpolicy &lt;policy-name&gt;\n\n# Test connectivity\nkubectl exec &lt;pod-name&gt; -- nc -zv &lt;target-ip&gt; &lt;port&gt;\nkubectl exec &lt;pod-name&gt; -- wget -qO- --timeout=2 http://&lt;service&gt;\n</code></pre>"},{"location":"cka/05-troubleshooting/#cni-troubleshooting","title":"CNI Troubleshooting","text":"<pre><code># Check CNI config\nls /etc/cni/net.d/\ncat /etc/cni/net.d/*.conf\n\n# Check CNI binaries\nls /opt/cni/bin/\n\n# Check pod networking\nkubectl exec &lt;pod-name&gt; -- ip addr\nkubectl exec &lt;pod-name&gt; -- ip route\n</code></pre>"},{"location":"cka/05-troubleshooting/#certificate-troubleshooting","title":"Certificate Troubleshooting","text":"<pre><code># Check certificate expiration\nkubeadm certs check-expiration\n\n# View certificate details\nopenssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout\n\n# Check certificate dates\nopenssl x509 -in /etc/kubernetes/pki/apiserver.crt -noout -dates\n\n# Renew certificates\nkubeadm certs renew all\n</code></pre>"},{"location":"cka/05-troubleshooting/#logging","title":"Logging","text":""},{"location":"cka/05-troubleshooting/#container-logs","title":"Container Logs","text":"<pre><code># View logs\nkubectl logs &lt;pod-name&gt;\nkubectl logs &lt;pod-name&gt; -c &lt;container&gt;\nkubectl logs &lt;pod-name&gt; --all-containers\n\n# Follow logs\nkubectl logs -f &lt;pod-name&gt;\n\n# Previous container logs\nkubectl logs &lt;pod-name&gt; --previous\n\n# Logs since time\nkubectl logs &lt;pod-name&gt; --since=1h\nkubectl logs &lt;pod-name&gt; --since-time=2024-01-01T00:00:00Z\n\n# Logs with timestamps\nkubectl logs &lt;pod-name&gt; --timestamps\n</code></pre>"},{"location":"cka/05-troubleshooting/#system-logs","title":"System Logs","text":"<pre><code># kubelet logs\nsudo journalctl -u kubelet\n\n# Container runtime logs\nsudo journalctl -u containerd\nsudo journalctl -u docker\n\n# System messages\nsudo tail -f /var/log/syslog\nsudo tail -f /var/log/messages\n</code></pre>"},{"location":"cka/05-troubleshooting/#events","title":"Events","text":"<pre><code># Get events\nkubectl get events\nkubectl get events --sort-by='.lastTimestamp'\nkubectl get events -n &lt;namespace&gt;\n\n# Watch events\nkubectl get events -w\n\n# Filter events\nkubectl get events --field-selector type=Warning\nkubectl get events --field-selector involvedObject.name=&lt;pod-name&gt;\n</code></pre>"},{"location":"cka/05-troubleshooting/#troubleshooting-checklist","title":"Troubleshooting Checklist","text":""},{"location":"cka/05-troubleshooting/#pod-not-starting","title":"Pod Not Starting","text":"<ol> <li>Check pod status: <code>kubectl get pod &lt;pod&gt;</code></li> <li>Check events: <code>kubectl describe pod &lt;pod&gt;</code></li> <li>Check logs: <code>kubectl logs &lt;pod&gt;</code></li> <li>Check node resources: <code>kubectl describe node &lt;node&gt;</code></li> <li>Check image: <code>kubectl get pod &lt;pod&gt; -o yaml | grep image</code></li> </ol>"},{"location":"cka/05-troubleshooting/#service-not-working","title":"Service Not Working","text":"<ol> <li>Check service: <code>kubectl get svc &lt;service&gt;</code></li> <li>Check endpoints: <code>kubectl get endpoints &lt;service&gt;</code></li> <li>Check pod labels match selector</li> <li>Test from within cluster</li> <li>Check network policies</li> </ol>"},{"location":"cka/05-troubleshooting/#node-not-ready","title":"Node Not Ready","text":"<ol> <li>Check node status: <code>kubectl describe node &lt;node&gt;</code></li> <li>Check kubelet: <code>systemctl status kubelet</code></li> <li>Check kubelet logs: <code>journalctl -u kubelet</code></li> <li>Check container runtime</li> <li>Check disk/memory pressure</li> </ol>"},{"location":"cka/05-troubleshooting/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>kubectl describe - First step for troubleshooting</li> <li>kubectl logs - Check container output</li> <li>kubectl exec - Debug inside container</li> <li>Events - Show what happened</li> <li>journalctl - System service logs</li> </ol>"},{"location":"cka/05-troubleshooting/#practice-questions","title":"Practice Questions","text":"<ol> <li>A pod is in CrashLoopBackOff status. How do you troubleshoot?</li> <li>How do you check why a node is NotReady?</li> <li>A service has no endpoints. What could be wrong?</li> <li>How do you view kubelet logs?</li> <li>How do you test DNS resolution from within a pod?</li> </ol> <p>\u2190 Previous: Storage | Back to CKA Overview | Next: Sample Practice Questions \u2192</p>"},{"location":"cka/sample-questions/","title":"CKA Sample Practice Questions","text":"<p>Disclaimer: These are sample practice questions created for study purposes only. They are NOT actual exam questions and are designed to help you test your understanding of CKA concepts. Real exam questions may differ in format and content.</p>"},{"location":"cka/sample-questions/#practice-resources","title":"Practice Resources","text":"<p>Before attempting these questions, we highly recommend practicing on:</p> <ul> <li>Killercoda CKA Scenarios \u2b50 Free hands-on practice environments</li> <li>killer.sh CKA Simulator - Included with exam registration</li> </ul>"},{"location":"cka/sample-questions/#instructions","title":"Instructions","text":"<ul> <li>The CKA exam is performance-based (hands-on), not multiple choice</li> <li>Practice these scenarios in a real Kubernetes cluster</li> <li>Time yourself - aim for efficiency</li> <li>Use imperative commands when possible to save time</li> </ul>"},{"location":"cka/sample-questions/#section-1-cluster-architecture-installation-configuration-25","title":"Section 1: Cluster Architecture, Installation &amp; Configuration (25%)","text":""},{"location":"cka/sample-questions/#question-11-cluster-upgrade","title":"Question 1.1 - Cluster Upgrade","text":"<p>Upgrade the control plane node from Kubernetes 1.29.0 to 1.30.0.</p> Show Solution <pre><code># Upgrade kubeadm\nsudo apt-mark unhold kubeadm\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubeadm=1.30.0-1.1\nsudo apt-mark hold kubeadm\n\n# Plan and apply upgrade\nsudo kubeadm upgrade plan\nsudo kubeadm upgrade apply v1.30.0\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt-get update &amp;&amp; sudo apt-get install -y kubelet=1.30.0-1.1 kubectl=1.30.0-1.1\nsudo apt-mark hold kubelet kubectl\n\n# Restart kubelet\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n</code></pre>"},{"location":"cka/sample-questions/#question-12-etcd-backup","title":"Question 1.2 - etcd Backup","text":"<p>Create a backup of etcd to <code>/backup/etcd-snapshot.db</code>.</p> Show Solution <pre><code>ETCDCTL_API=3 etcdctl snapshot save /backup/etcd-snapshot.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Verify backup\nETCDCTL_API=3 etcdctl snapshot status /backup/etcd-snapshot.db --write-out=table\n</code></pre>"},{"location":"cka/sample-questions/#question-13-rbac","title":"Question 1.3 - RBAC","text":"<p>Create a Role named <code>pod-reader</code> in the <code>development</code> namespace that allows <code>get</code>, <code>list</code>, and <code>watch</code> on pods. Then create a RoleBinding to bind this role to user <code>jane</code>.</p> Show Solution <pre><code># Create namespace if not exists\nkubectl create namespace development\n\n# Create role\nkubectl create role pod-reader \\\n  --verb=get,list,watch \\\n  --resource=pods \\\n  -n development\n\n# Create rolebinding\nkubectl create rolebinding read-pods \\\n  --role=pod-reader \\\n  --user=jane \\\n  -n development\n\n# Verify\nkubectl auth can-i list pods -n development --as jane\n</code></pre>"},{"location":"cka/sample-questions/#question-14-join-worker-node","title":"Question 1.4 - Join Worker Node","text":"<p>A new worker node needs to join the cluster. Generate the join command.</p> Show Solution <pre><code># On control plane\nkubeadm token create --print-join-command\n\n# Output will be something like:\n# kubeadm join &lt;control-plane-ip&gt;:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash sha256:&lt;hash&gt;\n\n# Run the output command on the worker node with sudo\n</code></pre>"},{"location":"cka/sample-questions/#section-2-workloads-scheduling-15","title":"Section 2: Workloads &amp; Scheduling (15%)","text":""},{"location":"cka/sample-questions/#question-21-node-affinity","title":"Question 2.1 - Node Affinity","text":"<p>Create a deployment named <code>web-app</code> with 3 replicas using image <code>nginx:1.21</code>. The pods should only be scheduled on nodes with label <code>disk=ssd</code>.</p> Show Solution <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web-app\n  template:\n    metadata:\n      labels:\n        app: web-app\n    spec:\n      affinity:\n        nodeAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n            nodeSelectorTerms:\n            - matchExpressions:\n              - key: disk\n                operator: In\n                values:\n                - ssd\n      containers:\n      - name: nginx\n        image: nginx:1.21\n</code></pre> <pre><code># Or label a node first\nkubectl label nodes &lt;node-name&gt; disk=ssd\n</code></pre>"},{"location":"cka/sample-questions/#question-22-taints-and-tolerations","title":"Question 2.2 - Taints and Tolerations","text":"<p>Taint node <code>node01</code> with <code>key=value:NoSchedule</code>. Then create a pod named <code>tolerant-pod</code> that can be scheduled on this node.</p> Show Solution <pre><code># Taint the node\nkubectl taint nodes node01 key=value:NoSchedule\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: tolerant-pod\nspec:\n  tolerations:\n  - key: \"key\"\n    operator: \"Equal\"\n    value: \"value\"\n    effect: \"NoSchedule\"\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cka/sample-questions/#question-23-daemonset","title":"Question 2.3 - DaemonSet","text":"<p>Create a DaemonSet named <code>log-collector</code> using image <code>fluentd:v1.14</code> that runs on all nodes including control plane nodes.</p> Show Solution <pre><code>apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: log-collector\nspec:\n  selector:\n    matchLabels:\n      name: log-collector\n  template:\n    metadata:\n      labels:\n        name: log-collector\n    spec:\n      tolerations:\n      - key: node-role.kubernetes.io/control-plane\n        operator: Exists\n        effect: NoSchedule\n      - key: node-role.kubernetes.io/master\n        operator: Exists\n        effect: NoSchedule\n      containers:\n      - name: fluentd\n        image: fluentd:v1.14\n</code></pre>"},{"location":"cka/sample-questions/#question-24-static-pod","title":"Question 2.4 - Static Pod","text":"<p>Create a static pod named <code>static-nginx</code> using image <code>nginx</code> on node <code>node01</code>.</p> Show Solution <pre><code># SSH to node01\nssh node01\n\n# Find static pod path\ncat /var/lib/kubelet/config.yaml | grep staticPodPath\n# Usually: /etc/kubernetes/manifests\n\n# Create static pod manifest\ncat &lt;&lt;EOF &gt; /etc/kubernetes/manifests/static-nginx.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: static-nginx\nspec:\n  containers:\n  - name: nginx\n    image: nginx\nEOF\n</code></pre>"},{"location":"cka/sample-questions/#section-3-services-networking-20","title":"Section 3: Services &amp; Networking (20%)","text":""},{"location":"cka/sample-questions/#question-31-create-service","title":"Question 3.1 - Create Service","text":"<p>Create a deployment named <code>web</code> with image <code>nginx:1.21</code> and 3 replicas. Expose it using a NodePort service on port 30080.</p> Show Solution <pre><code># Create deployment\nkubectl create deployment web --image=nginx:1.21 --replicas=3\n\n# Expose as NodePort\nkubectl expose deployment web --port=80 --type=NodePort --name=web-service\n\n# Or with specific nodePort:\nkubectl create service nodeport web-service --tcp=80:80 --node-port=30080\n# Then patch selector if needed\n</code></pre>"},{"location":"cka/sample-questions/#question-32-network-policy","title":"Question 3.2 - Network Policy","text":"<p>Create a NetworkPolicy named <code>deny-all</code> in namespace <code>secure</code> that denies all ingress traffic to pods in that namespace.</p> Show Solution <pre><code>kubectl create namespace secure\n</code></pre> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all\n  namespace: secure\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"cka/sample-questions/#question-33-ingress","title":"Question 3.3 - Ingress","text":"<p>Create an Ingress named <code>app-ingress</code> that routes: - <code>app.example.com/api</code> to service <code>api-svc</code> port 80 - <code>app.example.com/web</code> to service <code>web-svc</code> port 80</p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: app-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: app.example.com\n    http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: api-svc\n            port:\n              number: 80\n      - path: /web\n        pathType: Prefix\n        backend:\n          service:\n            name: web-svc\n            port:\n              number: 80\n</code></pre>"},{"location":"cka/sample-questions/#question-34-coredns","title":"Question 3.4 - CoreDNS","text":"<p>A pod cannot resolve service DNS names. Troubleshoot and fix the issue.</p> Show Solution <pre><code># Check CoreDNS pods\nkubectl get pods -n kube-system -l k8s-app=kube-dns\n\n# Check CoreDNS logs\nkubectl logs -n kube-system -l k8s-app=kube-dns\n\n# Check CoreDNS service\nkubectl get svc -n kube-system kube-dns\n\n# Check CoreDNS ConfigMap\nkubectl get configmap coredns -n kube-system -o yaml\n\n# Test DNS from a pod\nkubectl run test --image=busybox:1.36 --rm -it -- nslookup kubernetes\n\n# If CoreDNS pods are not running, check events\nkubectl describe pods -n kube-system -l k8s-app=kube-dns\n\n# Restart CoreDNS if needed\nkubectl rollout restart deployment coredns -n kube-system\n</code></pre>"},{"location":"cka/sample-questions/#section-4-storage-10","title":"Section 4: Storage (10%)","text":""},{"location":"cka/sample-questions/#question-41-persistentvolume-and-pvc","title":"Question 4.1 - PersistentVolume and PVC","text":"<p>Create a PersistentVolume named <code>pv-data</code> with 1Gi storage using hostPath <code>/data</code>. Then create a PVC named <code>pvc-data</code> that requests 500Mi.</p> Show Solution <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-data\nspec:\n  capacity:\n    storage: 1Gi\n  accessModes:\n  - ReadWriteOnce\n  hostPath:\n    path: /data\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: pvc-data\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 500Mi\n</code></pre>"},{"location":"cka/sample-questions/#question-42-pod-with-pvc","title":"Question 4.2 - Pod with PVC","text":"<p>Create a pod named <code>data-pod</code> using image <code>nginx</code> that mounts the PVC <code>pvc-data</code> at <code>/usr/share/nginx/html</code>.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: data-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    volumeMounts:\n    - name: data\n      mountPath: /usr/share/nginx/html\n  volumes:\n  - name: data\n    persistentVolumeClaim:\n      claimName: pvc-data\n</code></pre>"},{"location":"cka/sample-questions/#section-5-troubleshooting-30","title":"Section 5: Troubleshooting (30%)","text":""},{"location":"cka/sample-questions/#question-51-pod-troubleshooting","title":"Question 5.1 - Pod Troubleshooting","text":"<p>A pod named <code>broken-pod</code> in namespace <code>default</code> is not running. Identify and fix the issue.</p> Show Solution <pre><code># Check pod status\nkubectl get pod broken-pod\n\n# Check events and details\nkubectl describe pod broken-pod\n\n# Common issues to look for:\n# - ImagePullBackOff: Check image name, pull secrets\n# - CrashLoopBackOff: Check logs\n# - Pending: Check node resources, taints, affinity\n\n# Check logs\nkubectl logs broken-pod\nkubectl logs broken-pod --previous\n\n# If image issue, fix the image\nkubectl set image pod/broken-pod &lt;container&gt;=&lt;correct-image&gt;\n\n# Or edit the pod\nkubectl edit pod broken-pod\n</code></pre>"},{"location":"cka/sample-questions/#question-52-node-troubleshooting","title":"Question 5.2 - Node Troubleshooting","text":"<p>Node <code>node01</code> is in NotReady state. Troubleshoot and fix.</p> Show Solution <pre><code># Check node status\nkubectl describe node node01\n\n# SSH to the node\nssh node01\n\n# Check kubelet status\nsudo systemctl status kubelet\n\n# Check kubelet logs\nsudo journalctl -u kubelet -f\n\n# Common fixes:\n# Start kubelet if stopped\nsudo systemctl start kubelet\nsudo systemctl enable kubelet\n\n# Check container runtime\nsudo systemctl status containerd\nsudo systemctl start containerd\n\n# Check disk space\ndf -h\n\n# Check memory\nfree -m\n</code></pre>"},{"location":"cka/sample-questions/#question-53-service-troubleshooting","title":"Question 5.3 - Service Troubleshooting","text":"<p>A service named <code>web-svc</code> is not routing traffic to pods. Troubleshoot.</p> Show Solution <pre><code># Check service\nkubectl get svc web-svc\nkubectl describe svc web-svc\n\n# Check endpoints\nkubectl get endpoints web-svc\n\n# If no endpoints, check:\n# 1. Pod labels match service selector\nkubectl get pods --show-labels\nkubectl get svc web-svc -o yaml | grep selector -A 5\n\n# 2. Pods are running\nkubectl get pods -l &lt;selector&gt;\n\n# 3. Pod ports match targetPort\nkubectl get pods -o yaml | grep containerPort\n\n# Fix selector if needed\nkubectl patch svc web-svc -p '{\"spec\":{\"selector\":{\"app\":\"correct-label\"}}}'\n</code></pre>"},{"location":"cka/sample-questions/#question-54-control-plane-troubleshooting","title":"Question 5.4 - Control Plane Troubleshooting","text":"<p>The API server is not responding. Troubleshoot.</p> Show Solution <pre><code># Check if API server pod is running\nsudo crictl ps | grep kube-apiserver\n\n# Check static pod manifest\nsudo cat /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Check API server logs\nsudo crictl logs &lt;container-id&gt;\n\n# Or check kubelet logs for static pod issues\nsudo journalctl -u kubelet | grep apiserver\n\n# Common issues:\n# - Certificate expired: kubeadm certs renew all\n# - Wrong configuration in manifest\n# - etcd not accessible\n\n# Check etcd\nsudo crictl ps | grep etcd\nETCDCTL_API=3 etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n</code></pre>"},{"location":"cka/sample-questions/#question-55-application-logs","title":"Question 5.5 - Application Logs","text":"<p>View the logs of pod <code>app-pod</code> container <code>sidecar</code> from the last hour.</p> Show Solution <pre><code>kubectl logs app-pod -c sidecar --since=1h\n</code></pre>"},{"location":"cka/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Use aliases: <code>alias k=kubectl</code></li> <li>Enable auto-completion: <code>source &lt;(kubectl completion bash)</code></li> <li>Use <code>--dry-run=client -o yaml</code> to generate YAML templates</li> <li>Bookmark important docs before the exam</li> <li>Practice on Killercoda for free hands-on scenarios</li> <li>Focus on troubleshooting - it's 30% of the exam</li> <li>Know etcd backup/restore commands</li> <li>Practice cluster upgrades with kubeadm</li> </ol>"},{"location":"cka/sample-questions/#additional-practice","title":"Additional Practice","text":"<ul> <li>Killercoda CKA Scenarios - Free interactive scenarios</li> <li>killer.sh - Exam simulator (included with registration)</li> <li>Kubernetes Documentation - Allowed during exam</li> </ul> <p>\u2190 Back to CKA Overview</p>"},{"location":"ckad/","title":"CKAD - Certified Kubernetes Application Developer","text":"<p>The Certified Kubernetes Application Developer (CKAD) exam certifies that candidates can design, build, and deploy cloud native applications for Kubernetes.</p>"},{"location":"ckad/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Performance-based (hands-on) Number of Questions 15-20 Duration 2 hours Passing Score 66% Certification Validity 3 years Cost $395 USD Retake Policy 1 free retake Kubernetes Version 1.30"},{"location":"ckad/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Application Design and Build 20% Application Deployment 20% Application Observability and Maintenance 15% Application Environment, Configuration and Security 25% Services and Networking 20%"},{"location":"ckad/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Kubernetes concepts</li> <li>Familiarity with YAML syntax</li> <li>Linux command line proficiency</li> <li>Container fundamentals (Docker)</li> </ul>"},{"location":"ckad/#study-resources","title":"Study Resources","text":""},{"location":"ckad/#official-resources","title":"Official Resources","text":"<ul> <li>CKAD Exam Curriculum</li> <li>Kubernetes Documentation</li> <li>Kubernetes Tasks</li> </ul>"},{"location":"ckad/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Kubernetes for Developers (LFD259)</li> <li>CKAD with Tests - Udemy</li> </ul>"},{"location":"ckad/#practice-resources","title":"Practice Resources","text":"<ul> <li>Killercoda CKAD Scenarios \u2b50 Highly Recommended</li> <li>Kubernetes Playground</li> <li>killer.sh CKAD Simulator</li> </ul>"},{"location":"ckad/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>01 - Application Design and Build</li> <li>02 - Application Deployment</li> <li>03 - Application Observability and Maintenance</li> <li>04 - Application Environment, Configuration and Security</li> <li>05 - Services and Networking</li> <li>Sample Practice Questions</li> </ul>"},{"location":"ckad/#exam-environment","title":"Exam Environment","text":"<p>The CKAD exam provides:</p> <ul> <li>Access to multiple Kubernetes clusters</li> <li><code>kubectl</code> with auto-completion enabled</li> <li>Access to Kubernetes documentation (kubernetes.io)</li> <li>A Linux terminal environment</li> </ul>"},{"location":"ckad/#allowed-resources-during-exam","title":"Allowed Resources During Exam","text":"<ul> <li>kubernetes.io/docs</li> <li>kubernetes.io/blog</li> <li>helm.sh/docs</li> </ul>"},{"location":"ckad/#exam-tips","title":"Exam Tips","text":"<ol> <li>Practice kubectl imperative commands - They save significant time</li> <li>Master YAML generation - Use <code>kubectl run --dry-run=client -o yaml</code></li> <li>Know vim/nano basics - You'll edit YAML files frequently</li> <li>Use aliases - Set up <code>alias k=kubectl</code> and enable auto-completion</li> <li>Bookmark important docs - Prepare bookmarks for quick access</li> <li>Time management - Don't spend too long on any single question</li> <li>Practice on Killercoda - Free hands-on scenarios at killercoda.com/ckad</li> </ol>"},{"location":"ckad/#useful-kubectl-commands","title":"Useful kubectl Commands","text":"<pre><code># Set alias\nalias k=kubectl\n\n# Enable auto-completion\nsource &lt;(kubectl completion bash)\ncomplete -o default -F __start_kubectl k\n\n# Generate YAML templates\nk run nginx --image=nginx --dry-run=client -o yaml &gt; pod.yaml\nk create deployment nginx --image=nginx --dry-run=client -o yaml &gt; deploy.yaml\nk create service clusterip nginx --tcp=80:80 --dry-run=client -o yaml &gt; svc.yaml\n\n# Quick pod creation\nk run nginx --image=nginx --port=80 --labels=app=web\n\n# Expose deployment\nk expose deployment nginx --port=80 --target-port=80 --type=ClusterIP\n\n# Scale deployment\nk scale deployment nginx --replicas=3\n\n# Set resources\nk set resources deployment nginx --limits=cpu=200m,memory=512Mi\n\n# Rollout commands\nk rollout status deployment/nginx\nk rollout history deployment/nginx\nk rollout undo deployment/nginx\n</code></pre>"},{"location":"ckad/#registration","title":"Registration","text":"<p>Register for CKAD Exam</p>"},{"location":"ckad/01-application-design-build/","title":"Application Design and Build (20%)","text":"<p>This domain covers designing and building cloud native applications for Kubernetes.</p>"},{"location":"ckad/01-application-design-build/#container-images","title":"Container Images","text":""},{"location":"ckad/01-application-design-build/#building-container-images","title":"Building Container Images","text":"<pre><code># Example Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nEXPOSE 8080\n\nUSER 1000\n\nCMD [\"python\", \"app.py\"]\n</code></pre>"},{"location":"ckad/01-application-design-build/#multi-stage-builds","title":"Multi-stage Builds","text":"<pre><code># Build stage\nFROM golang:1.21 AS builder\nWORKDIR /app\nCOPY . .\nRUN CGO_ENABLED=0 go build -o myapp\n\n# Runtime stage\nFROM alpine:3.18\nCOPY --from=builder /app/myapp /myapp\nENTRYPOINT [\"/myapp\"]\n</code></pre>"},{"location":"ckad/01-application-design-build/#image-best-practices","title":"Image Best Practices","text":"<ul> <li>Use specific image tags, not <code>latest</code></li> <li>Use minimal base images (alpine, distroless)</li> <li>Run as non-root user</li> <li>Use multi-stage builds to reduce image size</li> <li>Scan images for vulnerabilities</li> </ul>"},{"location":"ckad/01-application-design-build/#jobs-and-cronjobs","title":"Jobs and CronJobs","text":""},{"location":"ckad/01-application-design-build/#job","title":"Job","text":"<p>A Job creates one or more Pods and ensures they complete successfully.</p> <pre><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: pi-job\nspec:\n  completions: 3\n  parallelism: 2\n  backoffLimit: 4\n  activeDeadlineSeconds: 100\n  template:\n    spec:\n      containers:\n      - name: pi\n        image: perl:5.34\n        command: [\"perl\", \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"]\n      restartPolicy: Never\n</code></pre> <p>Key Fields:</p> Field Description <code>completions</code> Number of successful completions required <code>parallelism</code> Number of pods running in parallel <code>backoffLimit</code> Number of retries before marking as failed <code>activeDeadlineSeconds</code> Maximum time for the job <code>restartPolicy</code> Must be <code>Never</code> or <code>OnFailure</code>"},{"location":"ckad/01-application-design-build/#cronjob","title":"CronJob","text":"<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: backup-cronjob\nspec:\n  schedule: \"0 2 * * *\"  # Daily at 2 AM\n  concurrencyPolicy: Forbid\n  successfulJobsHistoryLimit: 3\n  failedJobsHistoryLimit: 1\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: backup\n            image: backup-tool:v1\n            command: [\"/bin/sh\", \"-c\", \"backup.sh\"]\n          restartPolicy: OnFailure\n</code></pre> <p>Cron Schedule Format:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 minute (0 - 59)\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 hour (0 - 23)\n\u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 day of month (1 - 31)\n\u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 month (1 - 12)\n\u2502 \u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 day of week (0 - 6)\n\u2502 \u2502 \u2502 \u2502 \u2502\n* * * * *\n</code></pre> <p>Concurrency Policies:</p> Policy Description <code>Allow</code> Allow concurrent jobs (default) <code>Forbid</code> Skip new job if previous is still running <code>Replace</code> Replace currently running job with new one"},{"location":"ckad/01-application-design-build/#multi-container-pods","title":"Multi-Container Pods","text":""},{"location":"ckad/01-application-design-build/#sidecar-pattern","title":"Sidecar Pattern","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-sidecar\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log/app\n  - name: log-shipper\n    image: fluentd:v1\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log/app\n  volumes:\n  - name: logs\n    emptyDir: {}\n</code></pre>"},{"location":"ckad/01-application-design-build/#init-containers","title":"Init Containers","text":"<p>Init containers run before app containers start:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-init\nspec:\n  initContainers:\n  - name: init-db\n    image: busybox:1.36\n    command: ['sh', '-c', 'until nc -z db-service 5432; do sleep 2; done']\n  - name: init-config\n    image: busybox:1.36\n    command: ['sh', '-c', 'wget -O /config/app.conf http://config-server/app.conf']\n    volumeMounts:\n    - name: config\n      mountPath: /config\n  containers:\n  - name: app\n    image: myapp:v1\n    volumeMounts:\n    - name: config\n      mountPath: /config\n  volumes:\n  - name: config\n    emptyDir: {}\n</code></pre>"},{"location":"ckad/01-application-design-build/#ambassador-pattern","title":"Ambassador Pattern","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-ambassador\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    env:\n    - name: DB_HOST\n      value: \"localhost\"\n    - name: DB_PORT\n      value: \"5432\"\n  - name: ambassador\n    image: ambassador-proxy:v1\n    ports:\n    - containerPort: 5432\n</code></pre>"},{"location":"ckad/01-application-design-build/#adapter-pattern","title":"Adapter Pattern","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-adapter\nspec:\n  containers:\n  - name: app\n    image: legacy-app:v1\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log\n  - name: adapter\n    image: log-adapter:v1\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log\n</code></pre>"},{"location":"ckad/01-application-design-build/#volumes","title":"Volumes","text":""},{"location":"ckad/01-application-design-build/#emptydir","title":"emptyDir","text":"<p>Temporary storage that exists for the Pod's lifetime:</p> <pre><code>volumes:\n- name: cache\n  emptyDir: {}\n- name: memory-cache\n  emptyDir:\n    medium: Memory\n    sizeLimit: 100Mi\n</code></pre>"},{"location":"ckad/01-application-design-build/#hostpath","title":"hostPath","text":"<p>Mount a file or directory from the host node:</p> <pre><code>volumes:\n- name: host-data\n  hostPath:\n    path: /data\n    type: DirectoryOrCreate\n</code></pre>"},{"location":"ckad/01-application-design-build/#persistentvolumeclaim","title":"PersistentVolumeClaim","text":"<pre><code>volumes:\n- name: data\n  persistentVolumeClaim:\n    claimName: my-pvc\n</code></pre>"},{"location":"ckad/01-application-design-build/#kubectl-imperative-commands","title":"Kubectl Imperative Commands","text":""},{"location":"ckad/01-application-design-build/#create-resources-quickly","title":"Create Resources Quickly","text":"<pre><code># Create a pod\nkubectl run nginx --image=nginx --port=80\n\n# Create a deployment\nkubectl create deployment nginx --image=nginx --replicas=3\n\n# Create a job\nkubectl create job pi --image=perl -- perl -Mbignum=bpi -wle 'print bpi(2000)'\n\n# Create a cronjob\nkubectl create cronjob backup --image=backup --schedule=\"0 2 * * *\" -- /bin/sh -c 'backup.sh'\n\n# Generate YAML\nkubectl run nginx --image=nginx --dry-run=client -o yaml &gt; pod.yaml\n</code></pre>"},{"location":"ckad/01-application-design-build/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Jobs - Run to completion, use <code>restartPolicy: Never</code> or <code>OnFailure</code></li> <li>CronJobs - Scheduled jobs using cron syntax</li> <li>Init containers - Run before main containers, must complete successfully</li> <li>Sidecar pattern - Helper container alongside main app</li> <li>Multi-stage builds - Reduce image size</li> </ol>"},{"location":"ckad/01-application-design-build/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you create a Job that runs 5 completions with 2 parallel pods?</li> <li>What is the difference between init containers and sidecar containers?</li> <li>How do you generate YAML for a pod without creating it?</li> <li>What cron schedule runs every Monday at 3 AM?</li> <li>What happens if a CronJob's concurrencyPolicy is set to Forbid?</li> </ol> <p>Back to CKAD Overview | Next: Application Deployment \u2192</p>"},{"location":"ckad/02-application-deployment/","title":"Application Deployment (20%)","text":"<p>This domain covers deploying applications in Kubernetes using various strategies and tools.</p>"},{"location":"ckad/02-application-deployment/#deployments","title":"Deployments","text":""},{"location":"ckad/02-application-deployment/#creating-deployments","title":"Creating Deployments","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.21\n        ports:\n        - containerPort: 80\n        resources:\n          requests:\n            memory: \"64Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n</code></pre>"},{"location":"ckad/02-application-deployment/#imperative-commands","title":"Imperative Commands","text":"<pre><code># Create deployment\nkubectl create deployment nginx --image=nginx:1.21 --replicas=3\n\n# Scale deployment\nkubectl scale deployment nginx --replicas=5\n\n# Update image\nkubectl set image deployment/nginx nginx=nginx:1.22\n\n# Edit deployment\nkubectl edit deployment nginx\n</code></pre>"},{"location":"ckad/02-application-deployment/#deployment-strategies","title":"Deployment Strategies","text":""},{"location":"ckad/02-application-deployment/#rolling-update-default","title":"Rolling Update (Default)","text":"<pre><code>spec:\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n</code></pre> Parameter Description <code>maxSurge</code> Max pods above desired count during update <code>maxUnavailable</code> Max pods unavailable during update"},{"location":"ckad/02-application-deployment/#recreate","title":"Recreate","text":"<pre><code>spec:\n  strategy:\n    type: Recreate\n</code></pre> <p>All existing pods are killed before new ones are created.</p>"},{"location":"ckad/02-application-deployment/#rollouts","title":"Rollouts","text":""},{"location":"ckad/02-application-deployment/#rollout-commands","title":"Rollout Commands","text":"<pre><code># Check rollout status\nkubectl rollout status deployment/nginx\n\n# View rollout history\nkubectl rollout history deployment/nginx\n\n# View specific revision\nkubectl rollout history deployment/nginx --revision=2\n\n# Undo rollout (rollback)\nkubectl rollout undo deployment/nginx\n\n# Rollback to specific revision\nkubectl rollout undo deployment/nginx --to-revision=2\n\n# Pause rollout\nkubectl rollout pause deployment/nginx\n\n# Resume rollout\nkubectl rollout resume deployment/nginx\n\n# Restart deployment\nkubectl rollout restart deployment/nginx\n</code></pre>"},{"location":"ckad/02-application-deployment/#recording-changes","title":"Recording Changes","text":"<pre><code># Record the command in revision history\nkubectl set image deployment/nginx nginx=nginx:1.22 --record\n</code></pre>"},{"location":"ckad/02-application-deployment/#blue-green-deployment","title":"Blue-Green Deployment","text":"<p>Manual blue-green deployment using Services:</p> <pre><code># Blue deployment (current)\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-blue\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n      version: blue\n  template:\n    metadata:\n      labels:\n        app: myapp\n        version: blue\n    spec:\n      containers:\n      - name: app\n        image: myapp:v1\n---\n# Green deployment (new)\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-green\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n      version: green\n  template:\n    metadata:\n      labels:\n        app: myapp\n        version: green\n    spec:\n      containers:\n      - name: app\n        image: myapp:v2\n---\n# Service - switch selector to change versions\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp-service\nspec:\n  selector:\n    app: myapp\n    version: blue  # Change to 'green' to switch\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"ckad/02-application-deployment/#canary-deployment","title":"Canary Deployment","text":"<pre><code># Stable deployment (90% traffic)\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-stable\nspec:\n  replicas: 9\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: app\n        image: myapp:v1\n---\n# Canary deployment (10% traffic)\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-canary\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: app\n        image: myapp:v2\n---\n# Service routes to both (based on replica ratio)\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp-service\nspec:\n  selector:\n    app: myapp  # Matches both deployments\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"ckad/02-application-deployment/#helm","title":"Helm","text":""},{"location":"ckad/02-application-deployment/#helm-basics","title":"Helm Basics","text":"<pre><code># Add repository\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n\n# Search charts\nhelm search repo nginx\nhelm search hub wordpress\n\n# Install chart\nhelm install my-nginx bitnami/nginx\n\n# Install with custom values\nhelm install my-nginx bitnami/nginx -f values.yaml\nhelm install my-nginx bitnami/nginx --set service.type=NodePort\n\n# List releases\nhelm list\nhelm list -A  # All namespaces\n\n# Upgrade release\nhelm upgrade my-nginx bitnami/nginx --set replicaCount=3\n\n# Rollback\nhelm rollback my-nginx 1\n\n# Uninstall\nhelm uninstall my-nginx\n\n# Show chart info\nhelm show values bitnami/nginx\nhelm show chart bitnami/nginx\n</code></pre>"},{"location":"ckad/02-application-deployment/#helm-chart-structure","title":"Helm Chart Structure","text":"<pre><code>mychart/\n\u251c\u2500\u2500 Chart.yaml          # Chart metadata\n\u251c\u2500\u2500 values.yaml         # Default configuration values\n\u251c\u2500\u2500 charts/             # Chart dependencies\n\u251c\u2500\u2500 templates/          # Template files\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u251c\u2500\u2500 _helpers.tpl    # Template helpers\n\u2502   \u2514\u2500\u2500 NOTES.txt       # Post-install notes\n\u2514\u2500\u2500 .helmignore         # Files to ignore\n</code></pre>"},{"location":"ckad/02-application-deployment/#chartyaml","title":"Chart.yaml","text":"<pre><code>apiVersion: v2\nname: mychart\ndescription: A Helm chart for my application\ntype: application\nversion: 0.1.0\nappVersion: \"1.0.0\"\n</code></pre>"},{"location":"ckad/02-application-deployment/#valuesyaml","title":"values.yaml","text":"<pre><code>replicaCount: 3\n\nimage:\n  repository: nginx\n  tag: \"1.21\"\n  pullPolicy: IfNotPresent\n\nservice:\n  type: ClusterIP\n  port: 80\n\nresources:\n  limits:\n    cpu: 100m\n    memory: 128Mi\n  requests:\n    cpu: 100m\n    memory: 128Mi\n</code></pre>"},{"location":"ckad/02-application-deployment/#template-example","title":"Template Example","text":"<pre><code># templates/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ .Release.Name }}-deployment\nspec:\n  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      app: {{ .Release.Name }}\n  template:\n    metadata:\n      labels:\n        app: {{ .Release.Name }}\n    spec:\n      containers:\n      - name: {{ .Chart.Name }}\n        image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\"\n        ports:\n        - containerPort: 80\n</code></pre>"},{"location":"ckad/02-application-deployment/#kustomize","title":"Kustomize","text":""},{"location":"ckad/02-application-deployment/#kustomize-structure","title":"Kustomize Structure","text":"<pre><code>\u251c\u2500\u2500 base/\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2514\u2500\u2500 overlays/\n    \u251c\u2500\u2500 dev/\n    \u2502   \u2514\u2500\u2500 kustomization.yaml\n    \u2514\u2500\u2500 prod/\n        \u2514\u2500\u2500 kustomization.yaml\n</code></pre>"},{"location":"ckad/02-application-deployment/#base-kustomizationyaml","title":"Base kustomization.yaml","text":"<pre><code># base/kustomization.yaml\napiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\n\nresources:\n  - deployment.yaml\n  - service.yaml\n</code></pre>"},{"location":"ckad/02-application-deployment/#overlay-kustomizationyaml","title":"Overlay kustomization.yaml","text":"<pre><code># overlays/prod/kustomization.yaml\napiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\n\nresources:\n  - ../../base\n\nnamePrefix: prod-\n\nreplicas:\n  - name: myapp\n    count: 5\n\nimages:\n  - name: myapp\n    newTag: v2.0.0\n\npatches:\n  - patch: |-\n      - op: replace\n        path: /spec/template/spec/containers/0/resources/limits/memory\n        value: 512Mi\n    target:\n      kind: Deployment\n      name: myapp\n</code></pre>"},{"location":"ckad/02-application-deployment/#kustomize-commands","title":"Kustomize Commands","text":"<pre><code># Preview output\nkubectl kustomize overlays/prod/\n\n# Apply\nkubectl apply -k overlays/prod/\n\n# Delete\nkubectl delete -k overlays/prod/\n</code></pre>"},{"location":"ckad/02-application-deployment/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Rolling Update - Default strategy, gradual replacement</li> <li>Recreate - Kill all, then create new</li> <li>Rollout commands - status, history, undo, pause, resume</li> <li>Helm - Package manager for Kubernetes</li> <li>Kustomize - Template-free configuration customization</li> </ol>"},{"location":"ckad/02-application-deployment/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you rollback a deployment to revision 3?</li> <li>What is the difference between maxSurge and maxUnavailable?</li> <li>How do you install a Helm chart with custom values?</li> <li>What command shows the rollout history of a deployment?</li> <li>How do you apply a Kustomize overlay?</li> </ol> <p>\u2190 Previous: Application Design and Build | Back to CKAD Overview | Next: Application Observability and Maintenance \u2192</p>"},{"location":"ckad/03-application-observability-maintenance/","title":"Application Observability and Maintenance (15%)","text":"<p>This domain covers monitoring, debugging, and maintaining applications in Kubernetes.</p>"},{"location":"ckad/03-application-observability-maintenance/#probes","title":"Probes","text":""},{"location":"ckad/03-application-observability-maintenance/#liveness-probe","title":"Liveness Probe","text":"<p>Determines if a container is running. If it fails, the container is restarted.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-liveness\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    livenessProbe:\n      httpGet:\n        path: /healthz\n        port: 8080\n      initialDelaySeconds: 15\n      periodSeconds: 10\n      timeoutSeconds: 5\n      failureThreshold: 3\n      successThreshold: 1\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#readiness-probe","title":"Readiness Probe","text":"<p>Determines if a container is ready to receive traffic.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-readiness\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    readinessProbe:\n      httpGet:\n        path: /ready\n        port: 8080\n      initialDelaySeconds: 5\n      periodSeconds: 5\n      failureThreshold: 3\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#startup-probe","title":"Startup Probe","text":"<p>Used for slow-starting containers. Disables liveness/readiness until it succeeds.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-startup\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    startupProbe:\n      httpGet:\n        path: /healthz\n        port: 8080\n      failureThreshold: 30\n      periodSeconds: 10\n    livenessProbe:\n      httpGet:\n        path: /healthz\n        port: 8080\n      periodSeconds: 10\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#probe-types","title":"Probe Types","text":"Type Description <code>httpGet</code> HTTP GET request to specified path and port <code>tcpSocket</code> TCP connection to specified port <code>exec</code> Execute command in container <code>grpc</code> gRPC health check <pre><code># TCP Socket probe\nlivenessProbe:\n  tcpSocket:\n    port: 3306\n  initialDelaySeconds: 15\n  periodSeconds: 10\n\n# Exec probe\nlivenessProbe:\n  exec:\n    command:\n    - cat\n    - /tmp/healthy\n  initialDelaySeconds: 5\n  periodSeconds: 5\n\n# gRPC probe\nlivenessProbe:\n  grpc:\n    port: 50051\n  initialDelaySeconds: 10\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#probe-parameters","title":"Probe Parameters","text":"Parameter Description Default <code>initialDelaySeconds</code> Delay before first probe 0 <code>periodSeconds</code> How often to probe 10 <code>timeoutSeconds</code> Probe timeout 1 <code>failureThreshold</code> Failures before action 3 <code>successThreshold</code> Successes to be considered healthy 1"},{"location":"ckad/03-application-observability-maintenance/#logging","title":"Logging","text":""},{"location":"ckad/03-application-observability-maintenance/#viewing-logs","title":"Viewing Logs","text":"<pre><code># View pod logs\nkubectl logs nginx\n\n# View specific container logs\nkubectl logs nginx -c sidecar\n\n# Follow logs\nkubectl logs -f nginx\n\n# View previous container logs (after restart)\nkubectl logs nginx --previous\n\n# View last N lines\nkubectl logs nginx --tail=100\n\n# View logs since time\nkubectl logs nginx --since=1h\nkubectl logs nginx --since-time=2024-01-01T00:00:00Z\n\n# View logs from all pods with label\nkubectl logs -l app=nginx\n\n# View logs from all containers in pod\nkubectl logs nginx --all-containers\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#logging-architecture","title":"Logging Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Node                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502    Pod 1    \u2502  \u2502    Pod 2    \u2502  \u2502    Pod 3    \u2502  \u2502\n\u2502  \u2502  stdout/err \u2502  \u2502  stdout/err \u2502  \u2502  stdout/err \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                \u2502          \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                          \u2502                           \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\n\u2502                    \u2502 Container \u2502                     \u2502\n\u2502                    \u2502  Runtime  \u2502                     \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\n\u2502                          \u2502                           \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\n\u2502                    \u2502 Log Files \u2502                     \u2502\n\u2502                    \u2502/var/log/  \u2502                     \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#debugging","title":"Debugging","text":""},{"location":"ckad/03-application-observability-maintenance/#debug-commands","title":"Debug Commands","text":"<pre><code># Describe pod (events, status)\nkubectl describe pod nginx\n\n# Get pod details\nkubectl get pod nginx -o yaml\nkubectl get pod nginx -o wide\n\n# Check events\nkubectl get events --sort-by='.lastTimestamp'\nkubectl get events --field-selector involvedObject.name=nginx\n\n# Execute command in container\nkubectl exec nginx -- ls /app\nkubectl exec -it nginx -- /bin/sh\n\n# Copy files to/from container\nkubectl cp nginx:/var/log/app.log ./app.log\nkubectl cp ./config.yaml nginx:/app/config.yaml\n\n# Port forward\nkubectl port-forward pod/nginx 8080:80\nkubectl port-forward svc/nginx 8080:80\n\n# Debug with ephemeral container\nkubectl debug nginx -it --image=busybox --target=nginx\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#common-issues","title":"Common Issues","text":"Issue Debug Steps ImagePullBackOff Check image name, registry access, pull secrets CrashLoopBackOff Check logs, probe configuration, resource limits Pending Check events, node resources, taints/tolerations OOMKilled Increase memory limits CreateContainerConfigError Check ConfigMaps, Secrets references"},{"location":"ckad/03-application-observability-maintenance/#pod-status-phases","title":"Pod Status Phases","text":"Phase Description <code>Pending</code> Pod accepted but not running <code>Running</code> Pod bound to node, containers running <code>Succeeded</code> All containers terminated successfully <code>Failed</code> All containers terminated, at least one failed <code>Unknown</code> Pod state cannot be determined"},{"location":"ckad/03-application-observability-maintenance/#monitoring","title":"Monitoring","text":""},{"location":"ckad/03-application-observability-maintenance/#resource-metrics","title":"Resource Metrics","text":"<pre><code># View node resource usage\nkubectl top nodes\n\n# View pod resource usage\nkubectl top pods\nkubectl top pods -A\nkubectl top pods --containers\n\n# Sort by CPU/memory\nkubectl top pods --sort-by=cpu\nkubectl top pods --sort-by=memory\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#metrics-server","title":"Metrics Server","text":"<p>Required for <code>kubectl top</code> commands:</p> <pre><code># Check if metrics server is running\nkubectl get pods -n kube-system | grep metrics-server\n\n# Install metrics server (if needed)\nkubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#application-maintenance","title":"Application Maintenance","text":""},{"location":"ckad/03-application-observability-maintenance/#updating-applications","title":"Updating Applications","text":"<pre><code># Update image\nkubectl set image deployment/nginx nginx=nginx:1.22\n\n# Update environment variable\nkubectl set env deployment/nginx ENV=production\n\n# Update resources\nkubectl set resources deployment/nginx --limits=cpu=200m,memory=512Mi\n\n# Patch resource\nkubectl patch deployment nginx -p '{\"spec\":{\"replicas\":5}}'\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#scaling","title":"Scaling","text":"<pre><code># Manual scaling\nkubectl scale deployment nginx --replicas=5\n\n# Autoscaling\nkubectl autoscale deployment nginx --min=2 --max=10 --cpu-percent=80\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#horizontalpodautoscaler","title":"HorizontalPodAutoscaler","text":"<pre><code>apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: nginx-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: nginx\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: Utilization\n        averageUtilization: 80\n  - type: Resource\n    resource:\n      name: memory\n      target:\n        type: Utilization\n        averageUtilization: 80\n</code></pre>"},{"location":"ckad/03-application-observability-maintenance/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Liveness - Is the container running? Restart if not</li> <li>Readiness - Is the container ready for traffic?</li> <li>Startup - For slow-starting containers</li> <li>kubectl logs - View container output</li> <li>kubectl describe - Detailed resource info with events</li> <li>kubectl top - Resource usage (requires metrics-server)</li> </ol>"},{"location":"ckad/03-application-observability-maintenance/#practice-questions","title":"Practice Questions","text":"<ol> <li>What happens when a liveness probe fails?</li> <li>How do you view logs from a previous container instance?</li> <li>What is the difference between readiness and liveness probes?</li> <li>How do you execute a command in a running container?</li> <li>What probe type would you use for a database container?</li> </ol> <p>\u2190 Previous: Application Deployment | Back to CKAD Overview | Next: Application Environment, Configuration and Security \u2192</p>"},{"location":"ckad/04-application-environment-config-security/","title":"Application Environment, Configuration and Security (25%)","text":"<p>This domain covers configuring applications, managing secrets, and implementing security in Kubernetes.</p>"},{"location":"ckad/04-application-environment-config-security/#configmaps","title":"ConfigMaps","text":""},{"location":"ckad/04-application-environment-config-security/#creating-configmaps","title":"Creating ConfigMaps","text":"<pre><code># From literal values\nkubectl create configmap app-config --from-literal=ENV=production --from-literal=LOG_LEVEL=info\n\n# From file\nkubectl create configmap app-config --from-file=config.properties\n\n# From directory\nkubectl create configmap app-config --from-file=config/\n\n# From env file\nkubectl create configmap app-config --from-env-file=app.env\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#configmap-yaml","title":"ConfigMap YAML","text":"<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  ENV: production\n  LOG_LEVEL: info\n  config.json: |\n    {\n      \"database\": \"mysql\",\n      \"port\": 3306\n    }\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#using-configmaps","title":"Using ConfigMaps","text":"<p>As Environment Variables:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    env:\n    - name: ENVIRONMENT\n      valueFrom:\n        configMapKeyRef:\n          name: app-config\n          key: ENV\n    envFrom:\n    - configMapRef:\n        name: app-config\n</code></pre> <p>As Volume:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    volumeMounts:\n    - name: config-volume\n      mountPath: /etc/config\n  volumes:\n  - name: config-volume\n    configMap:\n      name: app-config\n      items:\n      - key: config.json\n        path: app-config.json\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#secrets","title":"Secrets","text":""},{"location":"ckad/04-application-environment-config-security/#creating-secrets","title":"Creating Secrets","text":"<pre><code># From literal values\nkubectl create secret generic db-secret --from-literal=username=admin --from-literal=password=secret123\n\n# From file\nkubectl create secret generic tls-secret --from-file=tls.crt --from-file=tls.key\n\n# Docker registry secret\nkubectl create secret docker-registry regcred \\\n  --docker-server=https://index.docker.io/v1/ \\\n  --docker-username=user \\\n  --docker-password=pass \\\n  --docker-email=user@example.com\n\n# TLS secret\nkubectl create secret tls tls-secret --cert=tls.crt --key=tls.key\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#secret-yaml","title":"Secret YAML","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: db-secret\ntype: Opaque\ndata:\n  username: YWRtaW4=      # base64 encoded\n  password: c2VjcmV0MTIz  # base64 encoded\n---\n# Using stringData (auto-encoded)\napiVersion: v1\nkind: Secret\nmetadata:\n  name: db-secret\ntype: Opaque\nstringData:\n  username: admin\n  password: secret123\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#secret-types","title":"Secret Types","text":"Type Description <code>Opaque</code> Generic secret (default) <code>kubernetes.io/dockerconfigjson</code> Docker registry credentials <code>kubernetes.io/tls</code> TLS certificate and key <code>kubernetes.io/basic-auth</code> Basic authentication <code>kubernetes.io/ssh-auth</code> SSH authentication"},{"location":"ckad/04-application-environment-config-security/#using-secrets","title":"Using Secrets","text":"<p>As Environment Variables:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    env:\n    - name: DB_PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: password\n    envFrom:\n    - secretRef:\n        name: db-secret\n</code></pre> <p>As Volume:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    volumeMounts:\n    - name: secret-volume\n      mountPath: /etc/secrets\n      readOnly: true\n  volumes:\n  - name: secret-volume\n    secret:\n      secretName: db-secret\n      defaultMode: 0400\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#serviceaccounts","title":"ServiceAccounts","text":""},{"location":"ckad/04-application-environment-config-security/#creating-serviceaccounts","title":"Creating ServiceAccounts","text":"<pre><code>kubectl create serviceaccount my-sa\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#serviceaccount-yaml","title":"ServiceAccount YAML","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-sa\nautomountServiceAccountToken: false\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#using-serviceaccounts","title":"Using ServiceAccounts","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  serviceAccountName: my-sa\n  automountServiceAccountToken: true\n  containers:\n  - name: app\n    image: myapp:v1\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#security-context","title":"Security Context","text":""},{"location":"ckad/04-application-environment-config-security/#pod-level-security-context","title":"Pod-level Security Context","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    runAsNonRoot: true\n  containers:\n  - name: app\n    image: myapp:v1\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#container-level-security-context","title":"Container-level Security Context","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    securityContext:\n      runAsUser: 1000\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n        - ALL\n        add:\n        - NET_BIND_SERVICE\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#security-context-fields","title":"Security Context Fields","text":"Field Level Description <code>runAsUser</code> Pod/Container UID to run as <code>runAsGroup</code> Pod/Container GID to run as <code>runAsNonRoot</code> Pod/Container Must run as non-root <code>fsGroup</code> Pod Group for volumes <code>readOnlyRootFilesystem</code> Container Read-only root FS <code>allowPrivilegeEscalation</code> Container Prevent privilege escalation <code>capabilities</code> Container Linux capabilities"},{"location":"ckad/04-application-environment-config-security/#resource-requirements","title":"Resource Requirements","text":""},{"location":"ckad/04-application-environment-config-security/#requests-and-limits","title":"Requests and Limits","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app\nspec:\n  containers:\n  - name: app\n    image: myapp:v1\n    resources:\n      requests:\n        memory: \"64Mi\"\n        cpu: \"250m\"\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#cpu-units","title":"CPU Units","text":"Value Description <code>1</code> 1 CPU core <code>500m</code> 0.5 CPU core (500 millicores) <code>100m</code> 0.1 CPU core"},{"location":"ckad/04-application-environment-config-security/#memory-units","title":"Memory Units","text":"Value Description <code>128Mi</code> 128 Mebibytes <code>1Gi</code> 1 Gibibyte <code>256M</code> 256 Megabytes"},{"location":"ckad/04-application-environment-config-security/#qos-classes","title":"QoS Classes","text":"Class Condition Guaranteed requests = limits for all containers Burstable At least one request or limit set BestEffort No requests or limits set"},{"location":"ckad/04-application-environment-config-security/#limitrange","title":"LimitRange","text":"<pre><code>apiVersion: v1\nkind: LimitRange\nmetadata:\n  name: resource-limits\nspec:\n  limits:\n  - type: Container\n    default:\n      cpu: \"500m\"\n      memory: \"256Mi\"\n    defaultRequest:\n      cpu: \"100m\"\n      memory: \"128Mi\"\n    max:\n      cpu: \"2\"\n      memory: \"1Gi\"\n    min:\n      cpu: \"50m\"\n      memory: \"64Mi\"\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#resourcequota","title":"ResourceQuota","text":"<pre><code>apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: compute-quota\nspec:\n  hard:\n    requests.cpu: \"4\"\n    requests.memory: \"8Gi\"\n    limits.cpu: \"8\"\n    limits.memory: \"16Gi\"\n    pods: \"10\"\n    configmaps: \"10\"\n    secrets: \"10\"\n    persistentvolumeclaims: \"5\"\n</code></pre>"},{"location":"ckad/04-application-environment-config-security/#admission-controllers","title":"Admission Controllers","text":""},{"location":"ckad/04-application-environment-config-security/#pod-security-standards","title":"Pod Security Standards","text":"<pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: secure-ns\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n</code></pre> Level Description <code>privileged</code> Unrestricted <code>baseline</code> Minimally restrictive <code>restricted</code> Highly restrictive"},{"location":"ckad/04-application-environment-config-security/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>ConfigMaps - Non-sensitive configuration data</li> <li>Secrets - Sensitive data (base64 encoded, not encrypted)</li> <li>SecurityContext - Pod/container security settings</li> <li>Resources - requests (scheduling) vs limits (enforcement)</li> <li>ServiceAccounts - Identity for pods</li> </ol>"},{"location":"ckad/04-application-environment-config-security/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you create a ConfigMap from a file?</li> <li>What is the difference between <code>data</code> and <code>stringData</code> in Secrets?</li> <li>How do you mount a Secret as a volume with specific permissions?</li> <li>What QoS class is assigned when requests equal limits?</li> <li>How do you prevent a container from running as root?</li> </ol> <p>\u2190 Previous: Application Observability and Maintenance | Back to CKAD Overview | Next: Services and Networking \u2192</p>"},{"location":"ckad/05-services-networking/","title":"Services and Networking (20%)","text":"<p>This domain covers Kubernetes networking concepts, Services, and Ingress.</p>"},{"location":"ckad/05-services-networking/#services","title":"Services","text":""},{"location":"ckad/05-services-networking/#service-types","title":"Service Types","text":"Type Description <code>ClusterIP</code> Internal cluster IP (default) <code>NodePort</code> Exposes on each node's IP at a static port <code>LoadBalancer</code> External load balancer (cloud provider) <code>ExternalName</code> Maps to external DNS name"},{"location":"ckad/05-services-networking/#clusterip-service","title":"ClusterIP Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: ClusterIP\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n    protocol: TCP\n</code></pre>"},{"location":"ckad/05-services-networking/#nodeport-service","title":"NodePort Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: NodePort\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n    nodePort: 30080  # Optional: 30000-32767\n</code></pre>"},{"location":"ckad/05-services-networking/#loadbalancer-service","title":"LoadBalancer Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: LoadBalancer\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"ckad/05-services-networking/#externalname-service","title":"ExternalName Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: external-db\nspec:\n  type: ExternalName\n  externalName: db.example.com\n</code></pre>"},{"location":"ckad/05-services-networking/#headless-service","title":"Headless Service","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: headless-service\nspec:\n  clusterIP: None\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 8080\n</code></pre>"},{"location":"ckad/05-services-networking/#creating-services-imperatively","title":"Creating Services Imperatively","text":"<pre><code># Expose deployment\nkubectl expose deployment nginx --port=80 --target-port=8080 --type=ClusterIP\n\n# Expose pod\nkubectl expose pod nginx --port=80 --target-port=8080\n\n# Create service without selector\nkubectl create service clusterip my-svc --tcp=80:8080\n\n# Generate YAML\nkubectl expose deployment nginx --port=80 --dry-run=client -o yaml &gt; svc.yaml\n</code></pre>"},{"location":"ckad/05-services-networking/#dns-in-kubernetes","title":"DNS in Kubernetes","text":""},{"location":"ckad/05-services-networking/#service-dns","title":"Service DNS","text":"<pre><code>&lt;service-name&gt;.&lt;namespace&gt;.svc.cluster.local\n\nExamples:\n- my-service.default.svc.cluster.local\n- my-service.default.svc\n- my-service.default\n- my-service (within same namespace)\n</code></pre>"},{"location":"ckad/05-services-networking/#pod-dns","title":"Pod DNS","text":"<pre><code>&lt;pod-ip-dashed&gt;.&lt;namespace&gt;.pod.cluster.local\n\nExample:\n- 10-244-0-5.default.pod.cluster.local\n</code></pre>"},{"location":"ckad/05-services-networking/#dns-resolution-example","title":"DNS Resolution Example","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: dns-test\nspec:\n  containers:\n  - name: test\n    image: busybox:1.36\n    command: ['sleep', '3600']\n---\n# Test DNS\nkubectl exec dns-test -- nslookup my-service\nkubectl exec dns-test -- nslookup my-service.default.svc.cluster.local\n</code></pre>"},{"location":"ckad/05-services-networking/#network-policies","title":"Network Policies","text":""},{"location":"ckad/05-services-networking/#default-behavior","title":"Default Behavior","text":"<p>By default, all pods can communicate with all other pods.</p>"},{"location":"ckad/05-services-networking/#deny-all-ingress","title":"Deny All Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all-ingress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"ckad/05-services-networking/#deny-all-egress","title":"Deny All Egress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n</code></pre>"},{"location":"ckad/05-services-networking/#allow-specific-ingress","title":"Allow Specific Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    - namespaceSelector:\n        matchLabels:\n          name: production\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"ckad/05-services-networking/#allow-egress-to-specific-pods","title":"Allow Egress to Specific Pods","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-db-egress\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - podSelector:\n        matchLabels:\n          app: database\n    ports:\n    - protocol: TCP\n      port: 5432\n  - to:  # Allow DNS\n    - namespaceSelector: {}\n      podSelector:\n        matchLabels:\n          k8s-app: kube-dns\n    ports:\n    - protocol: UDP\n      port: 53\n</code></pre>"},{"location":"ckad/05-services-networking/#network-policy-selectors","title":"Network Policy Selectors","text":"Selector Description <code>podSelector</code> Select pods by labels <code>namespaceSelector</code> Select namespaces by labels <code>ipBlock</code> Select by IP CIDR <pre><code># IP Block example\ningress:\n- from:\n  - ipBlock:\n      cidr: 10.0.0.0/8\n      except:\n      - 10.0.1.0/24\n</code></pre>"},{"location":"ckad/05-services-networking/#ingress","title":"Ingress","text":""},{"location":"ckad/05-services-networking/#ingress-resource","title":"Ingress Resource","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: my-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: myapp-service\n            port:\n              number: 80\n</code></pre>"},{"location":"ckad/05-services-networking/#multiple-hosts","title":"Multiple Hosts","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: multi-host-ingress\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: app1.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: app1-service\n            port:\n              number: 80\n  - host: app2.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: app2-service\n            port:\n              number: 80\n</code></pre>"},{"location":"ckad/05-services-networking/#path-based-routing","title":"Path-based Routing","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: path-ingress\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: api-service\n            port:\n              number: 80\n      - path: /web\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\n</code></pre>"},{"location":"ckad/05-services-networking/#tls-ingress","title":"TLS Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: tls-ingress\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - myapp.example.com\n    secretName: tls-secret\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: myapp-service\n            port:\n              number: 80\n</code></pre>"},{"location":"ckad/05-services-networking/#path-types","title":"Path Types","text":"Type Description <code>Exact</code> Exact match of the URL path <code>Prefix</code> Matches based on URL path prefix <code>ImplementationSpecific</code> Depends on IngressClass"},{"location":"ckad/05-services-networking/#creating-ingress-imperatively","title":"Creating Ingress Imperatively","text":"<pre><code># Create ingress\nkubectl create ingress my-ingress \\\n  --rule=\"myapp.example.com/=myapp-service:80\" \\\n  --class=nginx\n\n# With TLS\nkubectl create ingress my-ingress \\\n  --rule=\"myapp.example.com/=myapp-service:80,tls=tls-secret\" \\\n  --class=nginx\n</code></pre>"},{"location":"ckad/05-services-networking/#port-forwarding","title":"Port Forwarding","text":"<pre><code># Forward pod port\nkubectl port-forward pod/nginx 8080:80\n\n# Forward service port\nkubectl port-forward svc/nginx 8080:80\n\n# Forward deployment port\nkubectl port-forward deployment/nginx 8080:80\n\n# Listen on all interfaces\nkubectl port-forward --address 0.0.0.0 pod/nginx 8080:80\n</code></pre>"},{"location":"ckad/05-services-networking/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>ClusterIP - Default, internal only</li> <li>NodePort - External access via node IP:port</li> <li>LoadBalancer - Cloud provider load balancer</li> <li>Network Policies - Default allow, explicit deny</li> <li>Ingress - HTTP/HTTPS routing, requires controller</li> </ol>"},{"location":"ckad/05-services-networking/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the default Service type in Kubernetes?</li> <li>How do you create a Service that exposes a deployment on port 80?</li> <li>What happens to traffic if no Network Policy exists?</li> <li>How do you route traffic based on URL path using Ingress?</li> <li>What is the DNS name format for a Service?</li> </ol> <p>\u2190 Previous: Application Environment, Configuration and Security | Back to CKAD Overview | Next: Sample Practice Questions \u2192</p>"},{"location":"ckad/sample-questions/","title":"CKAD Sample Practice Questions","text":"<p>Disclaimer: These are sample practice questions created for study purposes only. They are NOT actual exam questions and are designed to help you test your understanding of CKAD concepts. Real exam questions may differ in format and content.</p>"},{"location":"ckad/sample-questions/#practice-resources","title":"Practice Resources","text":"<p>Before attempting these questions, we highly recommend practicing on:</p> <ul> <li>Killercoda CKAD Scenarios \u2b50 Free hands-on practice environments</li> <li>killer.sh CKAD Simulator - Included with exam registration</li> </ul>"},{"location":"ckad/sample-questions/#instructions","title":"Instructions","text":"<ul> <li>The CKAD exam is performance-based (hands-on), not multiple choice</li> <li>Practice these scenarios in a real Kubernetes cluster</li> <li>Time yourself - aim for efficiency</li> <li>Use imperative commands when possible to save time</li> </ul>"},{"location":"ckad/sample-questions/#section-1-application-design-and-build-20","title":"Section 1: Application Design and Build (20%)","text":""},{"location":"ckad/sample-questions/#question-11-create-a-job","title":"Question 1.1 - Create a Job","text":"<p>Create a Job named <code>pi-calculator</code> that: - Uses the image <code>perl:5.34</code> - Runs the command <code>perl -Mbignum=bpi -wle 'print bpi(2000)'</code> - Completes 3 times successfully - Runs 2 pods in parallel - Has a backoff limit of 4</p> Show Solution <pre><code># Generate base YAML\nkubectl create job pi-calculator --image=perl:5.34 --dry-run=client -o yaml -- perl -Mbignum=bpi -wle 'print bpi(2000)' &gt; job.yaml\n\n# Edit to add completions, parallelism, backoffLimit\n</code></pre> <pre><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: pi-calculator\nspec:\n  completions: 3\n  parallelism: 2\n  backoffLimit: 4\n  template:\n    spec:\n      containers:\n      - name: pi-calculator\n        image: perl:5.34\n        command: [\"perl\", \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"]\n      restartPolicy: Never\n</code></pre> <pre><code>kubectl apply -f job.yaml\n</code></pre>"},{"location":"ckad/sample-questions/#question-12-create-a-cronjob","title":"Question 1.2 - Create a CronJob","text":"<p>Create a CronJob named <code>backup-job</code> that: - Runs every day at 2:30 AM - Uses image <code>busybox:1.36</code> - Runs command <code>echo \"Backup completed at $(date)\"</code> - Keeps 3 successful job history - Keeps 1 failed job history</p> Show Solution <pre><code>kubectl create cronjob backup-job --image=busybox:1.36 --schedule=\"30 2 * * *\" -- /bin/sh -c 'echo \"Backup completed at $(date)\"'\n\n# Or with YAML for history limits:\n</code></pre> <pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: backup-job\nspec:\n  schedule: \"30 2 * * *\"\n  successfulJobsHistoryLimit: 3\n  failedJobsHistoryLimit: 1\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: backup\n            image: busybox:1.36\n            command: [\"/bin/sh\", \"-c\", \"echo \\\"Backup completed at $(date)\\\"\"]\n          restartPolicy: OnFailure\n</code></pre>"},{"location":"ckad/sample-questions/#question-13-multi-container-pod","title":"Question 1.3 - Multi-Container Pod","text":"<p>Create a Pod named <code>app-with-sidecar</code> with: - Main container: <code>nginx:1.21</code> named <code>main-app</code> - Sidecar container: <code>busybox:1.36</code> named <code>log-agent</code> that runs <code>tail -f /var/log/nginx/access.log</code> - Both containers share a volume mounted at <code>/var/log/nginx</code></p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-sidecar\nspec:\n  containers:\n  - name: main-app\n    image: nginx:1.21\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log/nginx\n  - name: log-agent\n    image: busybox:1.36\n    command: [\"tail\", \"-f\", \"/var/log/nginx/access.log\"]\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log/nginx\n  volumes:\n  - name: logs\n    emptyDir: {}\n</code></pre>"},{"location":"ckad/sample-questions/#section-2-application-deployment-20","title":"Section 2: Application Deployment (20%)","text":""},{"location":"ckad/sample-questions/#question-21-create-and-scale-deployment","title":"Question 2.1 - Create and Scale Deployment","text":"<ol> <li>Create a Deployment named <code>web-app</code> with image <code>nginx:1.21</code> and 3 replicas</li> <li>Update the image to <code>nginx:1.22</code></li> <li>Check the rollout status</li> <li>Rollback to the previous version</li> </ol> Show Solution <pre><code># Create deployment\nkubectl create deployment web-app --image=nginx:1.21 --replicas=3\n\n# Update image\nkubectl set image deployment/web-app nginx=nginx:1.22\n\n# Check rollout status\nkubectl rollout status deployment/web-app\n\n# View history\nkubectl rollout history deployment/web-app\n\n# Rollback\nkubectl rollout undo deployment/web-app\n</code></pre>"},{"location":"ckad/sample-questions/#question-22-deployment-strategy","title":"Question 2.2 - Deployment Strategy","text":"<p>Create a Deployment named <code>rolling-app</code> with: - Image: <code>nginx:1.21</code> - 4 replicas - Rolling update strategy with maxSurge=1 and maxUnavailable=1</p> Show Solution <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: rolling-app\nspec:\n  replicas: 4\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 1\n  selector:\n    matchLabels:\n      app: rolling-app\n  template:\n    metadata:\n      labels:\n        app: rolling-app\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.21\n</code></pre>"},{"location":"ckad/sample-questions/#question-23-helm-operations","title":"Question 2.3 - Helm Operations","text":"<ol> <li>Add the bitnami repository</li> <li>Search for nginx chart</li> <li>Install nginx chart with release name <code>my-nginx</code></li> <li>List all releases</li> <li>Uninstall the release</li> </ol> Show Solution <pre><code># Add repository\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n\n# Search\nhelm search repo nginx\n\n# Install\nhelm install my-nginx bitnami/nginx\n\n# List releases\nhelm list\n\n# Uninstall\nhelm uninstall my-nginx\n</code></pre>"},{"location":"ckad/sample-questions/#section-3-application-observability-and-maintenance-15","title":"Section 3: Application Observability and Maintenance (15%)","text":""},{"location":"ckad/sample-questions/#question-31-configure-probes","title":"Question 3.1 - Configure Probes","text":"<p>Create a Pod named <code>health-check-pod</code> with: - Image: <code>nginx:1.21</code> - Liveness probe: HTTP GET on path <code>/</code> port 80, initial delay 10s, period 5s - Readiness probe: HTTP GET on path <code>/</code> port 80, initial delay 5s, period 3s</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: health-check-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.21\n    ports:\n    - containerPort: 80\n    livenessProbe:\n      httpGet:\n        path: /\n        port: 80\n      initialDelaySeconds: 10\n      periodSeconds: 5\n    readinessProbe:\n      httpGet:\n        path: /\n        port: 80\n      initialDelaySeconds: 5\n      periodSeconds: 3\n</code></pre>"},{"location":"ckad/sample-questions/#question-32-debugging","title":"Question 3.2 - Debugging","text":"<p>A Pod named <code>broken-pod</code> is not running correctly. Debug and fix it.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: broken-pod\nspec:\n  containers:\n  - name: app\n    image: nginx:latest\n    command: [\"nginx\", \"-g\", \"daemon off;\"]\n    resources:\n      limits:\n        memory: \"10Mi\"\n</code></pre> Show Solution <pre><code># Check pod status\nkubectl get pod broken-pod\n\n# Check events and details\nkubectl describe pod broken-pod\n\n# Check logs\nkubectl logs broken-pod\n\n# The issue is likely OOMKilled due to low memory limit\n# Fix by increasing memory limit:\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: broken-pod\nspec:\n  containers:\n  - name: app\n    image: nginx:latest\n    resources:\n      limits:\n        memory: \"128Mi\"\n</code></pre>"},{"location":"ckad/sample-questions/#question-33-view-logs","title":"Question 3.3 - View Logs","text":"<ol> <li>View logs of pod <code>nginx</code> in namespace <code>web</code></li> <li>View logs of the previous container instance</li> <li>Follow logs in real-time</li> <li>View last 50 lines</li> </ol> Show Solution <pre><code># View logs\nkubectl logs nginx -n web\n\n# Previous container\nkubectl logs nginx -n web --previous\n\n# Follow logs\nkubectl logs -f nginx -n web\n\n# Last 50 lines\nkubectl logs nginx -n web --tail=50\n</code></pre>"},{"location":"ckad/sample-questions/#section-4-application-environment-configuration-and-security-25","title":"Section 4: Application Environment, Configuration and Security (25%)","text":""},{"location":"ckad/sample-questions/#question-41-configmap-and-secret","title":"Question 4.1 - ConfigMap and Secret","text":"<ol> <li>Create a ConfigMap named <code>app-config</code> with:</li> <li><code>APP_ENV=production</code></li> <li> <p><code>LOG_LEVEL=info</code></p> </li> <li> <p>Create a Secret named <code>db-secret</code> with:</p> </li> <li><code>DB_USER=admin</code></li> <li> <p><code>DB_PASS=secret123</code></p> </li> <li> <p>Create a Pod that uses both as environment variables</p> </li> </ol> Show Solution <pre><code># Create ConfigMap\nkubectl create configmap app-config --from-literal=APP_ENV=production --from-literal=LOG_LEVEL=info\n\n# Create Secret\nkubectl create secret generic db-secret --from-literal=DB_USER=admin --from-literal=DB_PASS=secret123\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-pod\nspec:\n  containers:\n  - name: app\n    image: nginx:1.21\n    envFrom:\n    - configMapRef:\n        name: app-config\n    - secretRef:\n        name: db-secret\n</code></pre>"},{"location":"ckad/sample-questions/#question-42-security-context","title":"Question 4.2 - Security Context","text":"<p>Create a Pod named <code>secure-pod</code> that: - Runs as user ID 1000 - Runs as group ID 3000 - Has a read-only root filesystem - Cannot escalate privileges</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsUser: 1000\n    runAsGroup: 3000\n  containers:\n  - name: app\n    image: nginx:1.21\n    securityContext:\n      readOnlyRootFilesystem: true\n      allowPrivilegeEscalation: false\n</code></pre>"},{"location":"ckad/sample-questions/#question-43-resource-limits","title":"Question 4.3 - Resource Limits","text":"<p>Create a Pod named <code>resource-pod</code> with: - Image: <code>nginx:1.21</code> - CPU request: 100m, limit: 200m - Memory request: 64Mi, limit: 128Mi</p> Show Solution <pre><code>kubectl run resource-pod --image=nginx:1.21 --dry-run=client -o yaml &gt; pod.yaml\n# Edit to add resources\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: resource-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.21\n    resources:\n      requests:\n        cpu: \"100m\"\n        memory: \"64Mi\"\n      limits:\n        cpu: \"200m\"\n        memory: \"128Mi\"\n</code></pre>"},{"location":"ckad/sample-questions/#section-5-services-and-networking-20","title":"Section 5: Services and Networking (20%)","text":""},{"location":"ckad/sample-questions/#question-51-create-services","title":"Question 5.1 - Create Services","text":"<ol> <li>Create a Deployment named <code>web</code> with image <code>nginx:1.21</code> and 3 replicas</li> <li>Expose it as a ClusterIP Service on port 80</li> <li>Expose it as a NodePort Service on port 30080</li> </ol> Show Solution <pre><code># Create deployment\nkubectl create deployment web --image=nginx:1.21 --replicas=3\n\n# ClusterIP service\nkubectl expose deployment web --port=80 --target-port=80 --name=web-clusterip\n\n# NodePort service\nkubectl expose deployment web --port=80 --target-port=80 --type=NodePort --name=web-nodeport\n\n# Or specify nodePort:\nkubectl create service nodeport web-nodeport --tcp=80:80 --node-port=30080\n</code></pre>"},{"location":"ckad/sample-questions/#question-52-network-policy","title":"Question 5.2 - Network Policy","text":"<p>Create a NetworkPolicy named <code>api-policy</code> in namespace <code>default</code> that: - Applies to pods with label <code>app=api</code> - Allows ingress only from pods with label <code>app=frontend</code> - Allows ingress only on port 8080</p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: api-policy\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: api\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"ckad/sample-questions/#question-53-ingress","title":"Question 5.3 - Ingress","text":"<p>Create an Ingress named <code>web-ingress</code> that: - Routes <code>app.example.com/api</code> to service <code>api-service</code> port 80 - Routes <code>app.example.com/web</code> to service <code>web-service</code> port 80 - Uses ingress class <code>nginx</code></p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: web-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: app.example.com\n    http:\n      paths:\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: api-service\n            port:\n              number: 80\n      - path: /web\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\n</code></pre>"},{"location":"ckad/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Use aliases: <code>alias k=kubectl</code></li> <li>Enable auto-completion: <code>source &lt;(kubectl completion bash)</code></li> <li>Use <code>--dry-run=client -o yaml</code> to generate YAML templates</li> <li>Bookmark important docs before the exam</li> <li>Practice on Killercoda for free hands-on scenarios</li> <li>Time management: Don't spend too long on any single question</li> <li>Use imperative commands when possible to save time</li> </ol>"},{"location":"ckad/sample-questions/#additional-practice","title":"Additional Practice","text":"<ul> <li>Killercoda CKAD Scenarios - Free interactive scenarios</li> <li>killer.sh - Exam simulator (included with registration)</li> <li>Kubernetes Documentation - Allowed during exam</li> </ul> <p>\u2190 Back to CKAD Overview</p>"},{"location":"cks/","title":"CKS - Certified Kubernetes Security Specialist","text":"<p>The Certified Kubernetes Security Specialist (CKS) exam certifies that candidates have the skills, knowledge, and competency to perform a broad range of best practices for securing container-based applications and Kubernetes platforms during build, deployment, and runtime.</p>"},{"location":"cks/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Performance-based (hands-on) Number of Questions 15-20 Duration 2 hours Passing Score 67% Certification Validity 2 years Cost $395 USD Retake Policy 1 free retake Kubernetes Version 1.30 Prerequisite Must hold valid CKA certification"},{"location":"cks/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Cluster Setup 10% Cluster Hardening 15% System Hardening 15% Minimize Microservice Vulnerabilities 20% Supply Chain Security 20% Monitoring, Logging and Runtime Security 20%"},{"location":"cks/#prerequisites","title":"Prerequisites","text":"<ul> <li>Valid CKA certification (required)</li> <li>Strong Kubernetes administration skills</li> <li>Understanding of Linux security concepts</li> <li>Familiarity with container security</li> </ul>"},{"location":"cks/#study-resources","title":"Study Resources","text":""},{"location":"cks/#official-resources","title":"Official Resources","text":"<ul> <li>CKS Exam Curriculum</li> <li>Kubernetes Security Documentation</li> <li>Kubernetes Security Best Practices</li> </ul>"},{"location":"cks/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Kubernetes Security Essentials (LFS260)</li> <li>CKS with Practice Tests - Udemy</li> </ul>"},{"location":"cks/#practice-resources","title":"Practice Resources","text":"<ul> <li>Killercoda CKS Scenarios \u2b50 Highly Recommended</li> <li>killer.sh CKS Simulator - Included with exam registration</li> </ul>"},{"location":"cks/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>01 - Cluster Setup</li> <li>02 - Cluster Hardening</li> <li>03 - System Hardening</li> <li>04 - Minimize Microservice Vulnerabilities</li> <li>05 - Supply Chain Security</li> <li>06 - Monitoring, Logging and Runtime Security</li> <li>Sample Practice Questions</li> </ul>"},{"location":"cks/#exam-environment","title":"Exam Environment","text":"<p>The CKS exam provides:</p> <ul> <li>Access to multiple Kubernetes clusters</li> <li><code>kubectl</code> with auto-completion enabled</li> <li>Access to Kubernetes documentation (kubernetes.io)</li> <li>A Linux terminal environment</li> <li>Root access via <code>sudo</code></li> <li>Security tools pre-installed</li> </ul>"},{"location":"cks/#allowed-resources-during-exam","title":"Allowed Resources During Exam","text":"<ul> <li>kubernetes.io/docs</li> <li>kubernetes.io/blog</li> <li>trivy.dev/docs</li> <li>falco.org/docs</li> <li>aquasecurity.github.io/trivy</li> </ul>"},{"location":"cks/#exam-tips","title":"Exam Tips","text":"<ol> <li>Master security contexts - runAsUser, runAsNonRoot, capabilities</li> <li>Know Network Policies - Default deny, allow specific traffic</li> <li>Understand RBAC deeply - Least privilege principle</li> <li>Practice with security tools - Trivy, Falco, AppArmor, seccomp</li> <li>Know Pod Security Standards - privileged, baseline, restricted</li> <li>Practice image scanning - Trivy for vulnerability detection</li> <li>Understand audit logging - Configure and analyze audit logs</li> <li>Practice on Killercoda - Free hands-on scenarios</li> </ol>"},{"location":"cks/#security-tools-overview","title":"Security Tools Overview","text":"Tool Purpose Trivy Container image vulnerability scanning Falco Runtime security monitoring AppArmor Linux security module for access control seccomp System call filtering OPA/Gatekeeper Policy enforcement kube-bench CIS Kubernetes benchmark"},{"location":"cks/#useful-commands","title":"Useful Commands","text":"<pre><code># Set alias\nalias k=kubectl\n\n# Enable auto-completion\nsource &lt;(kubectl completion bash)\ncomplete -o default -F __start_kubectl k\n\n# Check API server audit logs\ncat /var/log/kubernetes/audit/audit.log | jq .\n\n# Scan image with Trivy\ntrivy image nginx:1.21\n\n# Check seccomp profiles\nls /var/lib/kubelet/seccomp/\n\n# View AppArmor profiles\naa-status\n\n# Check Pod Security Standards\nkubectl label namespace default pod-security.kubernetes.io/enforce=restricted\n\n# RBAC verification\nkubectl auth can-i --list --as system:serviceaccount:default:mysa\nkubectl auth can-i create pods --as jane\n\n# Network Policy testing\nkubectl exec -it test-pod -- nc -zv target-service 80\n</code></pre>"},{"location":"cks/#registration","title":"Registration","text":"<p>Register for CKS Exam</p> <p>Note: You must hold a valid CKA certification before taking the CKS exam.</p>"},{"location":"cks/01-cluster-setup/","title":"Cluster Setup (10%)","text":"<p>This domain covers securing Kubernetes cluster components and network security.</p>"},{"location":"cks/01-cluster-setup/#network-policies","title":"Network Policies","text":""},{"location":"cks/01-cluster-setup/#default-deny-all-ingress","title":"Default Deny All Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-ingress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"cks/01-cluster-setup/#default-deny-all-egress","title":"Default Deny All Egress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n</code></pre>"},{"location":"cks/01-cluster-setup/#default-deny-all-traffic","title":"Default Deny All Traffic","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"cks/01-cluster-setup/#allow-specific-ingress","title":"Allow Specific Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend-to-backend\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    - namespaceSelector:\n        matchLabels:\n          name: production\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"cks/01-cluster-setup/#allow-dns-egress","title":"Allow DNS Egress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - namespaceSelector: {}\n      podSelector:\n        matchLabels:\n          k8s-app: kube-dns\n    ports:\n    - protocol: UDP\n      port: 53\n    - protocol: TCP\n      port: 53\n</code></pre>"},{"location":"cks/01-cluster-setup/#cis-kubernetes-benchmark","title":"CIS Kubernetes Benchmark","text":""},{"location":"cks/01-cluster-setup/#kube-bench","title":"kube-bench","text":"<p>Tool to check Kubernetes against CIS benchmarks.</p> <pre><code># Run kube-bench\nkube-bench run --targets=master\nkube-bench run --targets=node\nkube-bench run --targets=etcd\n\n# Run specific checks\nkube-bench run --targets=master --check=1.1.1\n\n# Output as JSON\nkube-bench run --json\n</code></pre>"},{"location":"cks/01-cluster-setup/#common-cis-findings","title":"Common CIS Findings","text":"Check Description Fix 1.1.1 API server pod spec permissions <code>chmod 600 /etc/kubernetes/manifests/kube-apiserver.yaml</code> 1.2.1 Anonymous auth disabled <code>--anonymous-auth=false</code> 1.2.6 RBAC enabled <code>--authorization-mode=RBAC</code> 4.1.1 kubelet service file permissions <code>chmod 600 /etc/systemd/system/kubelet.service.d/10-kubeadm.conf</code>"},{"location":"cks/01-cluster-setup/#ingress-security","title":"Ingress Security","text":""},{"location":"cks/01-cluster-setup/#tls-ingress","title":"TLS Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: secure-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - secure.example.com\n    secretName: tls-secret\n  rules:\n  - host: secure.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: secure-service\n            port:\n              number: 443\n</code></pre>"},{"location":"cks/01-cluster-setup/#create-tls-secret","title":"Create TLS Secret","text":"<pre><code># Generate self-signed certificate\nopenssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout tls.key -out tls.crt -subj \"/CN=secure.example.com\"\n\n# Create secret\nkubectl create secret tls tls-secret --cert=tls.crt --key=tls.key\n</code></pre>"},{"location":"cks/01-cluster-setup/#cluster-component-security","title":"Cluster Component Security","text":""},{"location":"cks/01-cluster-setup/#secure-api-server","title":"Secure API Server","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --anonymous-auth=false\n    - --authorization-mode=Node,RBAC\n    - --enable-admission-plugins=NodeRestriction,PodSecurityPolicy\n    - --audit-log-path=/var/log/kubernetes/audit/audit.log\n    - --audit-policy-file=/etc/kubernetes/audit-policy.yaml\n    - --encryption-provider-config=/etc/kubernetes/encryption-config.yaml\n    - --tls-cert-file=/etc/kubernetes/pki/apiserver.crt\n    - --tls-private-key-file=/etc/kubernetes/pki/apiserver.key\n    - --client-ca-file=/etc/kubernetes/pki/ca.crt\n</code></pre>"},{"location":"cks/01-cluster-setup/#secure-etcd","title":"Secure etcd","text":"<pre><code># /etc/kubernetes/manifests/etcd.yaml\nspec:\n  containers:\n  - command:\n    - etcd\n    - --cert-file=/etc/kubernetes/pki/etcd/server.crt\n    - --key-file=/etc/kubernetes/pki/etcd/server.key\n    - --trusted-ca-file=/etc/kubernetes/pki/etcd/ca.crt\n    - --client-cert-auth=true\n    - --peer-cert-file=/etc/kubernetes/pki/etcd/peer.crt\n    - --peer-key-file=/etc/kubernetes/pki/etcd/peer.key\n    - --peer-trusted-ca-file=/etc/kubernetes/pki/etcd/ca.crt\n    - --peer-client-cert-auth=true\n</code></pre>"},{"location":"cks/01-cluster-setup/#secure-kubelet","title":"Secure kubelet","text":"<pre><code># /var/lib/kubelet/config.yaml\nauthentication:\n  anonymous:\n    enabled: false\n  webhook:\n    enabled: true\n  x509:\n    clientCAFile: /etc/kubernetes/pki/ca.crt\nauthorization:\n  mode: Webhook\nreadOnlyPort: 0\n</code></pre>"},{"location":"cks/01-cluster-setup/#encryption-at-rest","title":"Encryption at Rest","text":""},{"location":"cks/01-cluster-setup/#encryption-configuration","title":"Encryption Configuration","text":"<pre><code># /etc/kubernetes/encryption-config.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n  - resources:\n      - secrets\n    providers:\n      - aescbc:\n          keys:\n            - name: key1\n              secret: &lt;base64-encoded-32-byte-key&gt;\n      - identity: {}\n</code></pre>"},{"location":"cks/01-cluster-setup/#enable-encryption","title":"Enable Encryption","text":"<pre><code># Generate encryption key\nhead -c 32 /dev/urandom | base64\n\n# Add to API server\n# --encryption-provider-config=/etc/kubernetes/encryption-config.yaml\n\n# Encrypt existing secrets\nkubectl get secrets --all-namespaces -o json | kubectl replace -f -\n</code></pre>"},{"location":"cks/01-cluster-setup/#verify-encryption","title":"Verify Encryption","text":"<pre><code># Check if secrets are encrypted in etcd\nETCDCTL_API=3 etcdctl get /registry/secrets/default/my-secret \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key | hexdump -C\n</code></pre>"},{"location":"cks/01-cluster-setup/#gui-element-security","title":"GUI Element Security","text":""},{"location":"cks/01-cluster-setup/#disable-kubernetes-dashboard-if-not-needed","title":"Disable Kubernetes Dashboard (if not needed)","text":"<pre><code># Delete dashboard\nkubectl delete ns kubernetes-dashboard\n\n# Or restrict access with NetworkPolicy\n</code></pre>"},{"location":"cks/01-cluster-setup/#secure-dashboard-access","title":"Secure Dashboard Access","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: dashboard-policy\n  namespace: kubernetes-dashboard\nspec:\n  podSelector:\n    matchLabels:\n      k8s-app: kubernetes-dashboard\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - ipBlock:\n        cidr: 10.0.0.0/8\n    ports:\n    - protocol: TCP\n      port: 443\n</code></pre>"},{"location":"cks/01-cluster-setup/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Network Policies - Default deny, allow specific traffic</li> <li>CIS Benchmarks - Use kube-bench to verify compliance</li> <li>TLS everywhere - Encrypt all cluster communication</li> <li>Encryption at rest - Encrypt secrets in etcd</li> <li>Disable anonymous auth - Require authentication</li> </ol>"},{"location":"cks/01-cluster-setup/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you create a default deny all network policy?</li> <li>What tool checks Kubernetes against CIS benchmarks?</li> <li>How do you enable encryption at rest for secrets?</li> <li>What flag disables anonymous authentication on the API server?</li> <li>How do you verify secrets are encrypted in etcd?</li> </ol> <p>Back to CKS Overview | Next: Cluster Hardening \u2192</p>"},{"location":"cks/02-cluster-hardening/","title":"Cluster Hardening (15%)","text":"<p>This domain covers hardening Kubernetes cluster components and implementing access controls.</p>"},{"location":"cks/02-cluster-hardening/#rbac-role-based-access-control","title":"RBAC (Role-Based Access Control)","text":""},{"location":"cks/02-cluster-hardening/#role-namespace-scoped","title":"Role (Namespace-scoped)","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: pod-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\"]\n  verbs: [\"get\"]\n</code></pre>"},{"location":"cks/02-cluster-hardening/#clusterrole-cluster-scoped","title":"ClusterRole (Cluster-scoped)","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: secret-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"secrets\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n- apiGroups: [\"\"]\n  resources: [\"nodes\"]\n  verbs: [\"get\", \"list\"]\n</code></pre>"},{"location":"cks/02-cluster-hardening/#rolebinding","title":"RoleBinding","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: read-pods\n  namespace: default\nsubjects:\n- kind: User\n  name: jane\n  apiGroup: rbac.authorization.k8s.io\n- kind: ServiceAccount\n  name: default\n  namespace: kube-system\n- kind: Group\n  name: developers\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"cks/02-cluster-hardening/#clusterrolebinding","title":"ClusterRoleBinding","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: read-secrets-global\nsubjects:\n- kind: Group\n  name: managers\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: ClusterRole\n  name: secret-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"cks/02-cluster-hardening/#rbac-commands","title":"RBAC Commands","text":"<pre><code># Create role\nkubectl create role pod-reader --verb=get,list,watch --resource=pods -n default\n\n# Create clusterrole\nkubectl create clusterrole node-reader --verb=get,list --resource=nodes\n\n# Create rolebinding\nkubectl create rolebinding read-pods --role=pod-reader --user=jane -n default\n\n# Create clusterrolebinding\nkubectl create clusterrolebinding read-nodes --clusterrole=node-reader --group=developers\n\n# Check permissions\nkubectl auth can-i create pods --as jane\nkubectl auth can-i list nodes --as jane\nkubectl auth can-i --list --as jane\nkubectl auth can-i --list --as system:serviceaccount:default:mysa\n</code></pre>"},{"location":"cks/02-cluster-hardening/#least-privilege-principle","title":"Least Privilege Principle","text":"<pre><code># Bad: Too permissive\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"*\"]\n\n# Good: Specific permissions\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"list\"]\n- apiGroups: [\"apps\"]\n  resources: [\"deployments\"]\n  verbs: [\"get\", \"list\"]\n</code></pre>"},{"location":"cks/02-cluster-hardening/#serviceaccount-security","title":"ServiceAccount Security","text":""},{"location":"cks/02-cluster-hardening/#create-serviceaccount","title":"Create ServiceAccount","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-sa\n  namespace: default\nautomountServiceAccountToken: false\n</code></pre>"},{"location":"cks/02-cluster-hardening/#disable-token-auto-mount","title":"Disable Token Auto-mount","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  serviceAccountName: my-sa\n  automountServiceAccountToken: false\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/02-cluster-hardening/#serviceaccount-token-projection","title":"ServiceAccount Token Projection","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-projected-token\nspec:\n  serviceAccountName: my-sa\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: token\n      mountPath: /var/run/secrets/tokens\n  volumes:\n  - name: token\n    projected:\n      sources:\n      - serviceAccountToken:\n          path: token\n          expirationSeconds: 3600\n          audience: api\n</code></pre>"},{"location":"cks/02-cluster-hardening/#restrict-api-access","title":"Restrict API Access","text":""},{"location":"cks/02-cluster-hardening/#disable-anonymous-authentication","title":"Disable Anonymous Authentication","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --anonymous-auth=false\n</code></pre>"},{"location":"cks/02-cluster-hardening/#enable-rbac-authorization","title":"Enable RBAC Authorization","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --authorization-mode=Node,RBAC\n</code></pre>"},{"location":"cks/02-cluster-hardening/#restrict-kubelet-api","title":"Restrict kubelet API","text":"<pre><code># /var/lib/kubelet/config.yaml\nauthentication:\n  anonymous:\n    enabled: false\n  webhook:\n    enabled: true\nauthorization:\n  mode: Webhook\n</code></pre>"},{"location":"cks/02-cluster-hardening/#upgrade-kubernetes","title":"Upgrade Kubernetes","text":""},{"location":"cks/02-cluster-hardening/#upgrade-control-plane","title":"Upgrade Control Plane","text":"<pre><code># Check available versions\napt-cache madison kubeadm\n\n# Upgrade kubeadm\napt-mark unhold kubeadm\napt-get update &amp;&amp; apt-get install -y kubeadm=1.30.0-1.1\napt-mark hold kubeadm\n\n# Plan upgrade\nkubeadm upgrade plan\n\n# Apply upgrade\nkubeadm upgrade apply v1.30.0\n\n# Upgrade kubelet and kubectl\napt-mark unhold kubelet kubectl\napt-get update &amp;&amp; apt-get install -y kubelet=1.30.0-1.1 kubectl=1.30.0-1.1\napt-mark hold kubelet kubectl\n\nsystemctl daemon-reload\nsystemctl restart kubelet\n</code></pre>"},{"location":"cks/02-cluster-hardening/#upgrade-worker-nodes","title":"Upgrade Worker Nodes","text":"<pre><code># Drain node\nkubectl drain &lt;node-name&gt; --ignore-daemonsets --delete-emptydir-data\n\n# On worker node\napt-mark unhold kubeadm\napt-get update &amp;&amp; apt-get install -y kubeadm=1.30.0-1.1\napt-mark hold kubeadm\n\nkubeadm upgrade node\n\napt-mark unhold kubelet kubectl\napt-get update &amp;&amp; apt-get install -y kubelet=1.30.0-1.1 kubectl=1.30.0-1.1\napt-mark hold kubelet kubectl\n\nsystemctl daemon-reload\nsystemctl restart kubelet\n\n# Uncordon node\nkubectl uncordon &lt;node-name&gt;\n</code></pre>"},{"location":"cks/02-cluster-hardening/#restrict-access-to-kubernetes-api","title":"Restrict Access to Kubernetes API","text":""},{"location":"cks/02-cluster-hardening/#api-server-flags","title":"API Server Flags","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --anonymous-auth=false\n    - --authorization-mode=Node,RBAC\n    - --enable-admission-plugins=NodeRestriction\n    - --insecure-port=0\n    - --profiling=false\n    - --audit-log-path=/var/log/kubernetes/audit/audit.log\n</code></pre>"},{"location":"cks/02-cluster-hardening/#network-level-restrictions","title":"Network-level Restrictions","text":"<pre><code># Restrict API server access with NetworkPolicy\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: restrict-api-access\n  namespace: kube-system\nspec:\n  podSelector:\n    matchLabels:\n      component: kube-apiserver\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - ipBlock:\n        cidr: 10.0.0.0/8\n</code></pre>"},{"location":"cks/02-cluster-hardening/#admission-controllers","title":"Admission Controllers","text":""},{"location":"cks/02-cluster-hardening/#important-security-admission-controllers","title":"Important Security Admission Controllers","text":"Controller Description <code>NodeRestriction</code> Limits kubelet permissions <code>PodSecurity</code> Enforces Pod Security Standards <code>ImagePolicyWebhook</code> External image validation <code>ValidatingAdmissionWebhook</code> Custom validation <code>MutatingAdmissionWebhook</code> Custom mutation"},{"location":"cks/02-cluster-hardening/#enable-admission-controllers","title":"Enable Admission Controllers","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --enable-admission-plugins=NodeRestriction,PodSecurity\n</code></pre>"},{"location":"cks/02-cluster-hardening/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>RBAC - Role, ClusterRole, RoleBinding, ClusterRoleBinding</li> <li>Least Privilege - Grant minimum required permissions</li> <li>ServiceAccount - Disable auto-mount when not needed</li> <li>Anonymous Auth - Disable on API server and kubelet</li> <li>Admission Controllers - NodeRestriction, PodSecurity</li> </ol>"},{"location":"cks/02-cluster-hardening/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you check if a user can perform an action?</li> <li>What is the difference between Role and ClusterRole?</li> <li>How do you disable ServiceAccount token auto-mount?</li> <li>What admission controller restricts kubelet permissions?</li> <li>How do you upgrade a Kubernetes cluster securely?</li> </ol> <p>\u2190 Previous: Cluster Setup | Back to CKS Overview | Next: System Hardening \u2192</p>"},{"location":"cks/03-system-hardening/","title":"System Hardening (15%)","text":"<p>This domain covers hardening the underlying host systems and using kernel security features.</p>"},{"location":"cks/03-system-hardening/#apparmor","title":"AppArmor","text":""},{"location":"cks/03-system-hardening/#apparmor-basics","title":"AppArmor Basics","text":"<pre><code># Check AppArmor status\naa-status\nsystemctl status apparmor\n\n# List loaded profiles\ncat /sys/kernel/security/apparmor/profiles\n\n# Load a profile\napparmor_parser -q /etc/apparmor.d/my-profile\n\n# Reload a profile\napparmor_parser -r /etc/apparmor.d/my-profile\n</code></pre>"},{"location":"cks/03-system-hardening/#apparmor-profile-example","title":"AppArmor Profile Example","text":"<pre><code># /etc/apparmor.d/k8s-deny-write\n#include &lt;tunables/global&gt;\n\nprofile k8s-deny-write flags=(attach_disconnected) {\n  #include &lt;abstractions/base&gt;\n\n  file,\n\n  # Deny all file writes\n  deny /** w,\n}\n</code></pre>"},{"location":"cks/03-system-hardening/#use-apparmor-in-pod","title":"Use AppArmor in Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: apparmor-pod\n  annotations:\n    container.apparmor.security.beta.kubernetes.io/nginx: localhost/k8s-deny-write\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/03-system-hardening/#apparmor-profile-modes","title":"AppArmor Profile Modes","text":"Mode Description <code>enforce</code> Enforces the policy <code>complain</code> Logs violations but allows <code>unconfined</code> No restrictions"},{"location":"cks/03-system-hardening/#seccomp-secure-computing-mode","title":"seccomp (Secure Computing Mode)","text":""},{"location":"cks/03-system-hardening/#seccomp-profile-location","title":"seccomp Profile Location","text":"<pre><code># Default kubelet seccomp profile path\n/var/lib/kubelet/seccomp/\n\n# Create profile directory\nmkdir -p /var/lib/kubelet/seccomp/profiles\n</code></pre>"},{"location":"cks/03-system-hardening/#seccomp-profile-example","title":"seccomp Profile Example","text":"<pre><code>{\n  \"defaultAction\": \"SCMP_ACT_ERRNO\",\n  \"architectures\": [\n    \"SCMP_ARCH_X86_64\"\n  ],\n  \"syscalls\": [\n    {\n      \"names\": [\n        \"accept4\",\n        \"bind\",\n        \"clone\",\n        \"close\",\n        \"connect\",\n        \"epoll_create1\",\n        \"epoll_ctl\",\n        \"epoll_pwait\",\n        \"execve\",\n        \"exit_group\",\n        \"fcntl\",\n        \"fstat\",\n        \"futex\",\n        \"getdents64\",\n        \"getpid\",\n        \"getrandom\",\n        \"getsockname\",\n        \"getsockopt\",\n        \"listen\",\n        \"mmap\",\n        \"mprotect\",\n        \"nanosleep\",\n        \"newfstatat\",\n        \"openat\",\n        \"read\",\n        \"recvfrom\",\n        \"rt_sigaction\",\n        \"rt_sigprocmask\",\n        \"sendto\",\n        \"set_tid_address\",\n        \"setsockopt\",\n        \"socket\",\n        \"write\"\n      ],\n      \"action\": \"SCMP_ACT_ALLOW\"\n    }\n  ]\n}\n</code></pre>"},{"location":"cks/03-system-hardening/#use-seccomp-in-pod","title":"Use seccomp in Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: seccomp-pod\nspec:\n  securityContext:\n    seccompProfile:\n      type: Localhost\n      localhostProfile: profiles/audit.json\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/03-system-hardening/#seccomp-profile-types","title":"seccomp Profile Types","text":"Type Description <code>RuntimeDefault</code> Container runtime default profile <code>Unconfined</code> No seccomp filtering <code>Localhost</code> Custom profile from node"},{"location":"cks/03-system-hardening/#runtimedefault-seccomp","title":"RuntimeDefault seccomp","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: runtime-default-pod\nspec:\n  securityContext:\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/03-system-hardening/#minimize-host-os-footprint","title":"Minimize Host OS Footprint","text":""},{"location":"cks/03-system-hardening/#reduce-attack-surface","title":"Reduce Attack Surface","text":"<pre><code># Remove unnecessary packages\napt-get remove --purge &lt;package&gt;\n\n# Disable unnecessary services\nsystemctl disable &lt;service&gt;\nsystemctl stop &lt;service&gt;\n\n# Check listening ports\nnetstat -tlnp\nss -tlnp\n\n# Check running processes\nps aux\n</code></pre>"},{"location":"cks/03-system-hardening/#secure-ssh","title":"Secure SSH","text":"<pre><code># /etc/ssh/sshd_config\nPermitRootLogin no\nPasswordAuthentication no\nPubkeyAuthentication yes\nPermitEmptyPasswords no\nX11Forwarding no\nMaxAuthTries 3\n</code></pre>"},{"location":"cks/03-system-hardening/#file-system-security","title":"File System Security","text":"<pre><code># Set proper permissions\nchmod 600 /etc/kubernetes/admin.conf\nchmod 600 /etc/kubernetes/pki/*.key\n\n# Check file permissions\nls -la /etc/kubernetes/\nls -la /etc/kubernetes/pki/\n</code></pre>"},{"location":"cks/03-system-hardening/#limit-node-access","title":"Limit Node Access","text":""},{"location":"cks/03-system-hardening/#restrict-ssh-access","title":"Restrict SSH Access","text":"<pre><code># Allow only specific users\n# /etc/ssh/sshd_config\nAllowUsers admin\n\n# Use SSH keys only\nPasswordAuthentication no\n</code></pre>"},{"location":"cks/03-system-hardening/#use-network-policies-for-node-access","title":"Use Network Policies for Node Access","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: restrict-node-access\n  namespace: kube-system\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - ipBlock:\n        cidr: 10.0.0.0/8\n</code></pre>"},{"location":"cks/03-system-hardening/#linux-capabilities","title":"Linux Capabilities","text":""},{"location":"cks/03-system-hardening/#drop-all-capabilities","title":"Drop All Capabilities","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: drop-caps-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    securityContext:\n      capabilities:\n        drop:\n        - ALL\n</code></pre>"},{"location":"cks/03-system-hardening/#add-specific-capabilities","title":"Add Specific Capabilities","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: net-admin-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    securityContext:\n      capabilities:\n        drop:\n        - ALL\n        add:\n        - NET_BIND_SERVICE\n</code></pre>"},{"location":"cks/03-system-hardening/#common-capabilities","title":"Common Capabilities","text":"Capability Description <code>NET_BIND_SERVICE</code> Bind to ports &lt; 1024 <code>NET_ADMIN</code> Network administration <code>SYS_ADMIN</code> System administration (dangerous) <code>SYS_PTRACE</code> Trace processes <code>CHOWN</code> Change file ownership"},{"location":"cks/03-system-hardening/#kernel-hardening","title":"Kernel Hardening","text":""},{"location":"cks/03-system-hardening/#sysctl-settings","title":"sysctl Settings","text":"<pre><code># /etc/sysctl.d/99-kubernetes-cis.conf\n\n# Disable IP forwarding (if not needed)\nnet.ipv4.ip_forward = 0\n\n# Disable source routing\nnet.ipv4.conf.all.accept_source_route = 0\nnet.ipv4.conf.default.accept_source_route = 0\n\n# Enable SYN cookies\nnet.ipv4.tcp_syncookies = 1\n\n# Disable ICMP redirects\nnet.ipv4.conf.all.accept_redirects = 0\nnet.ipv4.conf.default.accept_redirects = 0\n\n# Apply settings\nsysctl --system\n</code></pre>"},{"location":"cks/03-system-hardening/#iam-roles-cloud","title":"IAM Roles (Cloud)","text":""},{"location":"cks/03-system-hardening/#aws-iam-for-nodes","title":"AWS IAM for Nodes","text":"<pre><code># Restrict node IAM role permissions\n# Only allow necessary EC2 and ECR actions\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeInstances\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n</code></pre>"},{"location":"cks/03-system-hardening/#pod-identity-irsa","title":"Pod Identity (IRSA)","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-sa\n  annotations:\n    eks.amazonaws.com/role-arn: arn:aws:iam::123456789:role/my-role\n</code></pre>"},{"location":"cks/03-system-hardening/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>AppArmor - Linux security module for access control</li> <li>seccomp - System call filtering</li> <li>Capabilities - Drop ALL, add only needed</li> <li>Minimize footprint - Remove unnecessary packages/services</li> <li>Kernel hardening - sysctl security settings</li> </ol>"},{"location":"cks/03-system-hardening/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you apply an AppArmor profile to a container?</li> <li>What is the difference between seccomp RuntimeDefault and Localhost?</li> <li>How do you drop all capabilities from a container?</li> <li>Where are seccomp profiles stored on the node?</li> <li>How do you check AppArmor status on a node?</li> </ol> <p>\u2190 Previous: Cluster Hardening | Back to CKS Overview | Next: Minimize Microservice Vulnerabilities \u2192</p>"},{"location":"cks/04-minimize-microservice-vulnerabilities/","title":"Minimize Microservice Vulnerabilities (20%)","text":"<p>This domain covers securing containerized applications and implementing Pod security.</p>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#pod-security-standards","title":"Pod Security Standards","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#pod-security-admission","title":"Pod Security Admission","text":"<pre><code># Apply to namespace\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: secure-ns\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#security-levels","title":"Security Levels","text":"Level Description <code>privileged</code> Unrestricted, allows all <code>baseline</code> Minimally restrictive, prevents known privilege escalations <code>restricted</code> Heavily restricted, follows security best practices"},{"location":"cks/04-minimize-microservice-vulnerabilities/#restricted-pod-example","title":"Restricted Pod Example","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: restricted-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n    volumeMounts:\n    - name: tmp\n      mountPath: /tmp\n    - name: cache\n      mountPath: /var/cache/nginx\n    - name: run\n      mountPath: /var/run\n  volumes:\n  - name: tmp\n    emptyDir: {}\n  - name: cache\n    emptyDir: {}\n  - name: run\n    emptyDir: {}\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#security-context","title":"Security Context","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#pod-level-security-context","title":"Pod-level Security Context","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    runAsNonRoot: true\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#container-level-security-context","title":"Container-level Security Context","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: container-secure\nspec:\n  containers:\n  - name: app\n    image: nginx\n    securityContext:\n      runAsUser: 1000\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n        - ALL\n        add:\n        - NET_BIND_SERVICE\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#security-context-fields","title":"Security Context Fields","text":"Field Level Description <code>runAsUser</code> Pod/Container UID to run as <code>runAsGroup</code> Pod/Container GID to run as <code>runAsNonRoot</code> Pod/Container Must run as non-root <code>fsGroup</code> Pod Group for volumes <code>readOnlyRootFilesystem</code> Container Read-only root FS <code>allowPrivilegeEscalation</code> Container Prevent privilege escalation <code>capabilities</code> Container Linux capabilities <code>seccompProfile</code> Pod/Container seccomp profile"},{"location":"cks/04-minimize-microservice-vulnerabilities/#opa-gatekeeper","title":"OPA Gatekeeper","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#install-gatekeeper","title":"Install Gatekeeper","text":"<pre><code>kubectl apply -f https://raw.githubusercontent.com/open-policy-agent/gatekeeper/master/deploy/gatekeeper.yaml\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#constraint-template","title":"Constraint Template","text":"<pre><code>apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8srequiredlabels\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sRequiredLabels\n      validation:\n        openAPIV3Schema:\n          type: object\n          properties:\n            labels:\n              type: array\n              items:\n                type: string\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8srequiredlabels\n\n        violation[{\"msg\": msg}] {\n          provided := {label | input.review.object.metadata.labels[label]}\n          required := {label | label := input.parameters.labels[_]}\n          missing := required - provided\n          count(missing) &gt; 0\n          msg := sprintf(\"Missing required labels: %v\", [missing])\n        }\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#constraint","title":"Constraint","text":"<pre><code>apiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sRequiredLabels\nmetadata:\n  name: require-team-label\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n  parameters:\n    labels: [\"team\"]\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#deny-privileged-containers","title":"Deny Privileged Containers","text":"<pre><code>apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8sdenyprivileged\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sDenyPrivileged\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8sdenyprivileged\n\n        violation[{\"msg\": msg}] {\n          container := input.review.object.spec.containers[_]\n          container.securityContext.privileged == true\n          msg := sprintf(\"Privileged containers are not allowed: %v\", [container.name])\n        }\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#secrets-management","title":"Secrets Management","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#create-secrets","title":"Create Secrets","text":"<pre><code># From literal\nkubectl create secret generic db-secret \\\n  --from-literal=username=admin \\\n  --from-literal=password=secret123\n\n# From file\nkubectl create secret generic tls-secret \\\n  --from-file=tls.crt \\\n  --from-file=tls.key\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#use-secrets-as-environment-variables","title":"Use Secrets as Environment Variables","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-env-pod\nspec:\n  containers:\n  - name: app\n    image: nginx\n    env:\n    - name: DB_PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: password\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#use-secrets-as-volumes","title":"Use Secrets as Volumes","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-vol-pod\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - name: secret-volume\n      mountPath: /etc/secrets\n      readOnly: true\n  volumes:\n  - name: secret-volume\n    secret:\n      secretName: db-secret\n      defaultMode: 0400\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#encrypt-secrets-at-rest","title":"Encrypt Secrets at Rest","text":"<pre><code># /etc/kubernetes/encryption-config.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n  - resources:\n      - secrets\n    providers:\n      - aescbc:\n          keys:\n            - name: key1\n              secret: &lt;base64-encoded-32-byte-key&gt;\n      - identity: {}\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#container-runtime-sandboxing","title":"Container Runtime Sandboxing","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#gvisor-runsc","title":"gVisor (runsc)","text":"<pre><code>apiVersion: node.k8s.io/v1\nkind: RuntimeClass\nmetadata:\n  name: gvisor\nhandler: runsc\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: sandboxed-pod\nspec:\n  runtimeClassName: gvisor\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#kata-containers","title":"Kata Containers","text":"<pre><code>apiVersion: node.k8s.io/v1\nkind: RuntimeClass\nmetadata:\n  name: kata\nhandler: kata-qemu\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: kata-pod\nspec:\n  runtimeClassName: kata\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#mtls-with-service-mesh","title":"mTLS with Service Mesh","text":""},{"location":"cks/04-minimize-microservice-vulnerabilities/#istio-strict-mtls","title":"Istio Strict mTLS","text":"<pre><code>apiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: istio-system\nspec:\n  mtls:\n    mode: STRICT\n</code></pre>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Pod Security Standards - privileged, baseline, restricted</li> <li>Security Context - runAsNonRoot, readOnlyRootFilesystem, capabilities</li> <li>OPA Gatekeeper - Policy enforcement</li> <li>Secrets - Encrypt at rest, mount as volumes with restrictive permissions</li> <li>Runtime Sandboxing - gVisor, Kata Containers</li> </ol>"},{"location":"cks/04-minimize-microservice-vulnerabilities/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you enforce the restricted Pod Security Standard on a namespace?</li> <li>What security context fields prevent privilege escalation?</li> <li>How do you create an OPA Gatekeeper constraint?</li> <li>What is the recommended way to mount secrets in pods?</li> <li>How do you use a sandboxed runtime for a pod?</li> </ol> <p>\u2190 Previous: System Hardening | Back to CKS Overview | Next: Supply Chain Security \u2192</p>"},{"location":"cks/05-supply-chain-security/","title":"Supply Chain Security (20%)","text":"<p>This domain covers securing the software supply chain including image security, static analysis, and image signing.</p>"},{"location":"cks/05-supply-chain-security/#image-vulnerability-scanning","title":"Image Vulnerability Scanning","text":""},{"location":"cks/05-supply-chain-security/#trivy","title":"Trivy","text":"<pre><code># Scan image\ntrivy image nginx:1.21\n\n# Scan with severity filter\ntrivy image --severity HIGH,CRITICAL nginx:1.21\n\n# Scan and fail on vulnerabilities\ntrivy image --exit-code 1 --severity CRITICAL nginx:1.21\n\n# Scan local image\ntrivy image --input image.tar\n\n# Output as JSON\ntrivy image -f json -o results.json nginx:1.21\n\n# Scan filesystem\ntrivy fs /path/to/project\n\n# Scan Kubernetes resources\ntrivy k8s --report summary cluster\n</code></pre>"},{"location":"cks/05-supply-chain-security/#trivy-output-example","title":"Trivy Output Example","text":"<pre><code>nginx:1.21 (debian 11.2)\n========================\nTotal: 125 (UNKNOWN: 0, LOW: 85, MEDIUM: 26, HIGH: 12, CRITICAL: 2)\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Library      \u2502 Vulnerability  \u2502 Severity \u2502  Installed Version\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 libssl1.1        \u2502 CVE-2022-0778  \u2502 HIGH     \u2502 1.1.1k-1+deb11u1  \u2502\n\u2502 openssl          \u2502 CVE-2022-0778  \u2502 HIGH     \u2502 1.1.1k-1+deb11u1  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"cks/05-supply-chain-security/#integrate-trivy-in-cicd","title":"Integrate Trivy in CI/CD","text":"<pre><code># GitHub Actions example\n- name: Scan image\n  uses: aquasecurity/trivy-action@master\n  with:\n    image-ref: 'myimage:${{ github.sha }}'\n    format: 'table'\n    exit-code: '1'\n    severity: 'CRITICAL,HIGH'\n</code></pre>"},{"location":"cks/05-supply-chain-security/#image-signing-and-verification","title":"Image Signing and Verification","text":""},{"location":"cks/05-supply-chain-security/#cosign","title":"Cosign","text":"<pre><code># Generate key pair\ncosign generate-key-pair\n\n# Sign image\ncosign sign --key cosign.key myregistry/myimage:v1\n\n# Verify image\ncosign verify --key cosign.pub myregistry/myimage:v1\n\n# Sign with keyless (OIDC)\ncosign sign myregistry/myimage:v1\n\n# Verify keyless signature\ncosign verify myregistry/myimage:v1\n</code></pre>"},{"location":"cks/05-supply-chain-security/#image-policy-webhook","title":"Image Policy Webhook","text":"<pre><code>apiVersion: admissionregistration.k8s.io/v1\nkind: ValidatingWebhookConfiguration\nmetadata:\n  name: image-policy-webhook\nwebhooks:\n- name: image-policy.example.com\n  rules:\n  - apiGroups: [\"\"]\n    apiVersions: [\"v1\"]\n    operations: [\"CREATE\", \"UPDATE\"]\n    resources: [\"pods\"]\n  clientConfig:\n    service:\n      name: image-policy-webhook\n      namespace: kube-system\n      path: \"/validate\"\n    caBundle: &lt;base64-encoded-ca-cert&gt;\n  admissionReviewVersions: [\"v1\"]\n  sideEffects: None\n</code></pre>"},{"location":"cks/05-supply-chain-security/#minimize-base-image-footprint","title":"Minimize Base Image Footprint","text":""},{"location":"cks/05-supply-chain-security/#use-minimal-base-images","title":"Use Minimal Base Images","text":"<pre><code># Bad: Full OS image\nFROM ubuntu:22.04\n\n# Better: Slim image\nFROM python:3.11-slim\n\n# Best: Distroless\nFROM gcr.io/distroless/python3\n\n# Best: Scratch (for static binaries)\nFROM scratch\n</code></pre>"},{"location":"cks/05-supply-chain-security/#multi-stage-builds","title":"Multi-stage Builds","text":"<pre><code># Build stage\nFROM golang:1.21 AS builder\nWORKDIR /app\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -o myapp\n\n# Runtime stage\nFROM gcr.io/distroless/static:nonroot\nCOPY --from=builder /app/myapp /myapp\nUSER nonroot:nonroot\nENTRYPOINT [\"/myapp\"]\n</code></pre>"},{"location":"cks/05-supply-chain-security/#image-best-practices","title":"Image Best Practices","text":"Practice Description Use specific tags Avoid <code>latest</code>, use version tags Use minimal base distroless, alpine, scratch Multi-stage builds Reduce final image size Run as non-root Use USER instruction No secrets in image Use runtime secrets Scan regularly Integrate scanning in CI/CD"},{"location":"cks/05-supply-chain-security/#secure-image-registries","title":"Secure Image Registries","text":""},{"location":"cks/05-supply-chain-security/#private-registry-authentication","title":"Private Registry Authentication","text":"<pre><code># Create registry secret\nkubectl create secret docker-registry regcred \\\n  --docker-server=myregistry.io \\\n  --docker-username=user \\\n  --docker-password=pass \\\n  --docker-email=user@example.com\n</code></pre>"},{"location":"cks/05-supply-chain-security/#use-imagepullsecrets","title":"Use ImagePullSecrets","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: private-image-pod\nspec:\n  containers:\n  - name: app\n    image: myregistry.io/myimage:v1\n  imagePullSecrets:\n  - name: regcred\n</code></pre>"},{"location":"cks/05-supply-chain-security/#serviceaccount-with-imagepullsecrets","title":"ServiceAccount with ImagePullSecrets","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-sa\nimagePullSecrets:\n- name: regcred\n</code></pre>"},{"location":"cks/05-supply-chain-security/#allowlist-registries","title":"Allowlist Registries","text":""},{"location":"cks/05-supply-chain-security/#opa-gatekeeper-policy","title":"OPA Gatekeeper Policy","text":"<pre><code>apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8sallowedrepos\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sAllowedRepos\n      validation:\n        openAPIV3Schema:\n          type: object\n          properties:\n            repos:\n              type: array\n              items:\n                type: string\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8sallowedrepos\n\n        violation[{\"msg\": msg}] {\n          container := input.review.object.spec.containers[_]\n          not startswith(container.image, input.parameters.repos[_])\n          msg := sprintf(\"Container image %v is not from an allowed registry\", [container.image])\n        }\n---\napiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sAllowedRepos\nmetadata:\n  name: allowed-repos\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n  parameters:\n    repos:\n      - \"gcr.io/my-project/\"\n      - \"myregistry.io/\"\n</code></pre>"},{"location":"cks/05-supply-chain-security/#static-analysis","title":"Static Analysis","text":""},{"location":"cks/05-supply-chain-security/#kubesec","title":"Kubesec","text":"<pre><code># Scan Kubernetes manifest\nkubesec scan pod.yaml\n\n# Scan with HTTP API\ncurl -sSX POST --data-binary @pod.yaml https://v2.kubesec.io/scan\n</code></pre>"},{"location":"cks/05-supply-chain-security/#kubesec-output","title":"Kubesec Output","text":"<pre><code>{\n  \"score\": 0,\n  \"scoring\": {\n    \"critical\": [\n      {\n        \"id\": \"CapSysAdmin\",\n        \"selector\": \"containers[] .securityContext .capabilities .add == SYS_ADMIN\",\n        \"reason\": \"CAP_SYS_ADMIN is the most privileged capability\"\n      }\n    ],\n    \"advise\": [\n      {\n        \"id\": \"ApparmorAny\",\n        \"selector\": \".metadata .annotations .\\\"container.apparmor.security.beta.kubernetes.io/nginx\\\"\",\n        \"reason\": \"Well defined AppArmor policies may provide greater protection\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"cks/05-supply-chain-security/#conftest-opa-for-config-files","title":"Conftest (OPA for Config Files)","text":"<pre><code># Test Kubernetes manifests\nconftest test deployment.yaml\n\n# With custom policy\nconftest test --policy ./policy deployment.yaml\n</code></pre>"},{"location":"cks/05-supply-chain-security/#example-conftest-policy","title":"Example Conftest Policy","text":"<pre><code># policy/deployment.rego\npackage main\n\ndeny[msg] {\n  input.kind == \"Deployment\"\n  not input.spec.template.spec.securityContext.runAsNonRoot\n  msg := \"Containers must run as non-root\"\n}\n\ndeny[msg] {\n  input.kind == \"Deployment\"\n  container := input.spec.template.spec.containers[_]\n  not container.resources.limits\n  msg := sprintf(\"Container %v must have resource limits\", [container.name])\n}\n</code></pre>"},{"location":"cks/05-supply-chain-security/#dockerfile-security","title":"Dockerfile Security","text":""},{"location":"cks/05-supply-chain-security/#dockerfile-best-practices","title":"Dockerfile Best Practices","text":"<pre><code># Use specific version\nFROM python:3.11-slim-bookworm\n\n# Create non-root user\nRUN groupadd -r appgroup &amp;&amp; useradd -r -g appgroup appuser\n\n# Set working directory\nWORKDIR /app\n\n# Copy only necessary files\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY --chown=appuser:appgroup . .\n\n# Switch to non-root user\nUSER appuser\n\n# Use ENTRYPOINT for main command\nENTRYPOINT [\"python\", \"app.py\"]\n</code></pre>"},{"location":"cks/05-supply-chain-security/#hadolint-dockerfile-linter","title":"Hadolint (Dockerfile Linter)","text":"<pre><code># Lint Dockerfile\nhadolint Dockerfile\n\n# Ignore specific rules\nhadolint --ignore DL3008 Dockerfile\n</code></pre>"},{"location":"cks/05-supply-chain-security/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Trivy - Image vulnerability scanning</li> <li>Cosign - Image signing and verification</li> <li>Minimal images - distroless, alpine, scratch</li> <li>Multi-stage builds - Reduce image size</li> <li>Registry allowlisting - OPA Gatekeeper policies</li> </ol>"},{"location":"cks/05-supply-chain-security/#practice-questions","title":"Practice Questions","text":"<ol> <li>How do you scan an image for HIGH and CRITICAL vulnerabilities with Trivy?</li> <li>How do you sign an image with Cosign?</li> <li>What is the benefit of using distroless base images?</li> <li>How do you create an OPA policy to allowlist registries?</li> <li>What tool lints Dockerfiles for security issues?</li> </ol> <p>\u2190 Previous: Minimize Microservice Vulnerabilities | Back to CKS Overview | Next: Monitoring, Logging and Runtime Security \u2192</p>"},{"location":"cks/06-monitoring-logging-runtime-security/","title":"Monitoring, Logging and Runtime Security (20%)","text":"<p>This domain covers runtime security monitoring, audit logging, behavioral analysis, and threat detection in Kubernetes environments.</p>"},{"location":"cks/06-monitoring-logging-runtime-security/#overview","title":"Overview","text":"<p>Runtime security focuses on detecting and preventing threats while workloads are running. Key areas include: - Behavioral analysis and anomaly detection - Audit logging for compliance and forensics - Container immutability enforcement - System call monitoring</p>"},{"location":"cks/06-monitoring-logging-runtime-security/#falco-runtime-threat-detection","title":"Falco - Runtime Threat Detection","text":"<p>Falco is a CNCF project that provides runtime security by monitoring system calls and detecting anomalous behavior.</p>"},{"location":"cks/06-monitoring-logging-runtime-security/#install-falco","title":"Install Falco","text":"<pre><code># Using Helm\nhelm repo add falcosecurity https://falcosecurity.github.io/charts\nhelm repo update\nhelm install falco falcosecurity/falco \\\n  --namespace falco \\\n  --create-namespace \\\n  --set falcosidekick.enabled=true\n\n# Verify installation\nkubectl get pods -n falco\nkubectl logs -n falco -l app.kubernetes.io/name=falco\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#falco-architecture","title":"Falco Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Kubernetes Node                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Container  \u2502    \u2502  Container  \u2502    \u2502  Container  \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502         \u2502                  \u2502                  \u2502         \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502                            \u2502 System Calls               \u2502\n\u2502                            \u25bc                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                    Linux Kernel                      \u2502\u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\u2502\n\u2502  \u2502  \u2502     eBPF/Kernel Module (Falco Driver)       \u2502   \u2502\u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                            \u2502                            \u2502\n\u2502                            \u25bc                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                   Falco Engine                       \u2502\u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\u2502\n\u2502  \u2502  \u2502  Rules  \u2502  \u2502 Filters \u2502  \u2502  Alert Generation   \u2502 \u2502\u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#falco-rules-structure","title":"Falco Rules Structure","text":"<pre><code># Rule components\n- rule: &lt;rule_name&gt;           # Unique rule identifier\n  desc: &lt;description&gt;         # Human-readable description\n  condition: &lt;filter&gt;         # Sysdig filter expression\n  output: &lt;message&gt;           # Alert message with fields\n  priority: &lt;level&gt;           # EMERGENCY, ALERT, CRITICAL, ERROR, WARNING, NOTICE, INFO, DEBUG\n  tags: [&lt;tag1&gt;, &lt;tag2&gt;]      # Optional categorization\n  enabled: true/false         # Enable/disable rule\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#common-falco-rules","title":"Common Falco Rules","text":"<pre><code># Detect shell spawning in containers\n- rule: Terminal shell in container\n  desc: A shell was used as the entrypoint/exec point into a container\n  condition: &gt;\n    spawned_process and container\n    and shell_procs\n    and proc.tty != 0\n    and container_entrypoint\n  output: &gt;\n    Shell spawned in container\n    (user=%user.name user_loginuid=%user.loginuid %container.info\n    shell=%proc.name parent=%proc.pname cmdline=%proc.cmdline\n    terminal=%proc.tty container_id=%container.id image=%container.image.repository)\n  priority: WARNING\n  tags: [container, shell, mitre_execution]\n\n# Detect writes to sensitive directories\n- rule: Write below etc\n  desc: An attempt to write to /etc directory\n  condition: &gt;\n    write and container\n    and fd.directory = /etc\n  output: &gt;\n    File written to /etc in container\n    (user=%user.name command=%proc.cmdline\n    file=%fd.name container=%container.name image=%container.image.repository)\n  priority: ERROR\n  tags: [filesystem, mitre_persistence]\n\n# Detect package management in containers\n- rule: Package management in container\n  desc: Package management tool executed in container\n  condition: &gt;\n    spawned_process and container\n    and package_mgmt_procs\n  output: &gt;\n    Package management process launched in container\n    (user=%user.name command=%proc.cmdline container=%container.name)\n  priority: ERROR\n  tags: [process, software_mgmt]\n\n# Detect sensitive file access\n- rule: Read sensitive file\n  desc: Sensitive file was read\n  condition: &gt;\n    open_read and container\n    and (fd.name startswith /etc/shadow or\n         fd.name startswith /etc/passwd or\n         fd.name startswith /etc/sudoers)\n  output: &gt;\n    Sensitive file opened for reading\n    (user=%user.name file=%fd.name container=%container.name)\n  priority: WARNING\n  tags: [filesystem, mitre_credential_access]\n\n# Detect outbound connections to unusual ports\n- rule: Unexpected outbound connection\n  desc: Outbound connection to non-standard port\n  condition: &gt;\n    outbound and container\n    and not (fd.sport in (80, 443, 53, 8080, 8443))\n  output: &gt;\n    Unexpected outbound connection\n    (command=%proc.cmdline connection=%fd.name container=%container.name)\n  priority: NOTICE\n  tags: [network, mitre_exfiltration]\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#custom-falco-rules","title":"Custom Falco Rules","text":"<pre><code># /etc/falco/rules.d/custom-rules.yaml\n- rule: Crypto mining detected\n  desc: Detect crypto mining processes\n  condition: &gt;\n    spawned_process and container\n    and (proc.name in (xmrig, minerd, cpuminer, cgminer))\n  output: &gt;\n    Crypto mining process detected\n    (user=%user.name command=%proc.cmdline container=%container.name)\n  priority: CRITICAL\n  tags: [cryptomining, mitre_resource_hijacking]\n\n- rule: Kubectl exec detected\n  desc: Detect kubectl exec into containers\n  condition: &gt;\n    spawned_process and container\n    and proc.name = \"runc\"\n    and proc.cmdline contains \"exec\"\n  output: &gt;\n    Kubectl exec detected (container=%container.name cmdline=%proc.cmdline)\n  priority: WARNING\n  tags: [exec, mitre_execution]\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#falco-commands","title":"Falco Commands","text":"<pre><code># Check Falco status\nsystemctl status falco\n\n# View Falco logs\nkubectl logs -n falco -l app.kubernetes.io/name=falco -f\n\n# Test Falco rules\nkubectl exec -it &lt;pod&gt; -- /bin/sh  # Should trigger shell alert\n\n# Reload rules\nkill -1 $(pidof falco)\n\n# Check rule syntax\nfalco -V /etc/falco/rules.d/custom-rules.yaml\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#kubernetes-audit-logging","title":"Kubernetes Audit Logging","text":"<p>Audit logging records all requests to the Kubernetes API server for security analysis and compliance.</p>"},{"location":"cks/06-monitoring-logging-runtime-security/#audit-stages","title":"Audit Stages","text":"Stage Description RequestReceived Event generated when request is received ResponseStarted Response headers sent, body not yet sent ResponseComplete Response body completed Panic Events generated when panic occurs"},{"location":"cks/06-monitoring-logging-runtime-security/#audit-levels","title":"Audit Levels","text":"Level Description None Don't log events Metadata Log request metadata only Request Log metadata and request body RequestResponse Log metadata, request, and response bodies"},{"location":"cks/06-monitoring-logging-runtime-security/#comprehensive-audit-policy","title":"Comprehensive Audit Policy","text":"<pre><code>apiVersion: audit.k8s.io/v1\nkind: Policy\nrules:\n  # Don't log read-only endpoints\n  - level: None\n    nonResourceURLs:\n      - /healthz*\n      - /version\n      - /swagger*\n      - /readyz*\n      - /livez*\n\n  # Don't log watch requests (too verbose)\n  - level: None\n    verbs: [\"watch\"]\n    resources:\n      - group: \"\"\n        resources: [\"events\"]\n\n  # Log secret access at Metadata level (don't log secret data)\n  - level: Metadata\n    resources:\n      - group: \"\"\n        resources: [\"secrets\", \"configmaps\"]\n\n  # Log pod exec/attach at RequestResponse level\n  - level: RequestResponse\n    resources:\n      - group: \"\"\n        resources: [\"pods/exec\", \"pods/attach\", \"pods/portforward\"]\n\n  # Log authentication events\n  - level: RequestResponse\n    resources:\n      - group: \"authentication.k8s.io\"\n        resources: [\"tokenreviews\"]\n\n  # Log authorization events\n  - level: RequestResponse\n    resources:\n      - group: \"authorization.k8s.io\"\n        resources: [\"subjectaccessreviews\", \"selfsubjectaccessreviews\"]\n\n  # Log RBAC changes\n  - level: RequestResponse\n    resources:\n      - group: \"rbac.authorization.k8s.io\"\n        resources: [\"roles\", \"rolebindings\", \"clusterroles\", \"clusterrolebindings\"]\n\n  # Log node and namespace changes\n  - level: RequestResponse\n    resources:\n      - group: \"\"\n        resources: [\"nodes\", \"namespaces\"]\n\n  # Log service account token creation\n  - level: RequestResponse\n    resources:\n      - group: \"\"\n        resources: [\"serviceaccounts/token\"]\n\n  # Default: log at Metadata level\n  - level: Metadata\n    omitStages:\n      - RequestReceived\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#enable-audit-logging-on-api-server","title":"Enable Audit Logging on API Server","text":"<pre><code># /etc/kubernetes/manifests/kube-apiserver.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: kube-apiserver\n  namespace: kube-system\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    # Audit configuration\n    - --audit-policy-file=/etc/kubernetes/audit/audit-policy.yaml\n    - --audit-log-path=/var/log/kubernetes/audit/audit.log\n    - --audit-log-maxage=30\n    - --audit-log-maxbackup=10\n    - --audit-log-maxsize=100\n    # Optional: webhook backend\n    # - --audit-webhook-config-file=/etc/kubernetes/audit/webhook-config.yaml\n    volumeMounts:\n    - mountPath: /etc/kubernetes/audit\n      name: audit-config\n      readOnly: true\n    - mountPath: /var/log/kubernetes/audit\n      name: audit-log\n  volumes:\n  - hostPath:\n      path: /etc/kubernetes/audit\n      type: DirectoryOrCreate\n    name: audit-config\n  - hostPath:\n      path: /var/log/kubernetes/audit\n      type: DirectoryOrCreate\n    name: audit-log\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#analyze-audit-logs","title":"Analyze Audit Logs","text":"<pre><code># View all audit events\ncat /var/log/kubernetes/audit/audit.log | jq .\n\n# Find delete operations\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.verb==\"delete\")'\n\n# Find secret access\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.resource==\"secrets\")'\n\n# Find failed requests\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.responseStatus.code &gt;= 400)'\n\n# Find requests by user\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.user.username==\"system:admin\")'\n\n# Find pod exec events\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.subresource==\"exec\")'\n\n# Find RBAC changes\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.apiGroup==\"rbac.authorization.k8s.io\")'\n\n# Count events by verb\ncat /var/log/kubernetes/audit/audit.log | jq -r '.verb' | sort | uniq -c | sort -rn\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#audit-log-entry-structure","title":"Audit Log Entry Structure","text":"<pre><code>{\n  \"kind\": \"Event\",\n  \"apiVersion\": \"audit.k8s.io/v1\",\n  \"level\": \"RequestResponse\",\n  \"auditID\": \"unique-id\",\n  \"stage\": \"ResponseComplete\",\n  \"requestURI\": \"/api/v1/namespaces/default/pods\",\n  \"verb\": \"create\",\n  \"user\": {\n    \"username\": \"admin\",\n    \"groups\": [\"system:masters\"]\n  },\n  \"sourceIPs\": [\"192.168.1.100\"],\n  \"objectRef\": {\n    \"resource\": \"pods\",\n    \"namespace\": \"default\",\n    \"name\": \"nginx\",\n    \"apiVersion\": \"v1\"\n  },\n  \"responseStatus\": {\n    \"code\": 201\n  },\n  \"requestObject\": { },\n  \"responseObject\": { },\n  \"requestReceivedTimestamp\": \"2024-01-15T10:30:00.000000Z\",\n  \"stageTimestamp\": \"2024-01-15T10:30:00.100000Z\"\n}\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#container-immutability","title":"Container Immutability","text":"<p>Immutable containers prevent runtime modifications, reducing attack surface.</p>"},{"location":"cks/06-monitoring-logging-runtime-security/#read-only-root-filesystem","title":"Read-Only Root Filesystem","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: immutable-pod\nspec:\n  containers:\n  - name: app\n    image: nginx:1.21\n    securityContext:\n      readOnlyRootFilesystem: true\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      runAsUser: 1000\n      capabilities:\n        drop:\n          - ALL\n    volumeMounts:\n    # Mount writable directories as needed\n    - name: tmp\n      mountPath: /tmp\n    - name: var-run\n      mountPath: /var/run\n    - name: var-cache-nginx\n      mountPath: /var/cache/nginx\n  volumes:\n  - name: tmp\n    emptyDir: {}\n  - name: var-run\n    emptyDir: {}\n  - name: var-cache-nginx\n    emptyDir: {}\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#enforce-immutability-with-pod-security-standards","title":"Enforce Immutability with Pod Security Standards","text":"<pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#sysdig-and-other-tools","title":"Sysdig and Other Tools","text":""},{"location":"cks/06-monitoring-logging-runtime-security/#sysdig-for-troubleshooting","title":"Sysdig for Troubleshooting","text":"<pre><code># Capture system calls\nsysdig -c topprocs_cpu\n\n# Monitor container activity\nsysdig -c topcontainers_cpu\n\n# Watch file opens in container\nsysdig -c echo_fds container.name=nginx\n\n# Monitor network connections\nsysdig -c topconns\n\n# Capture to file for analysis\nsysdig -w capture.scap\nsysdig -r capture.scap\n</code></pre>"},{"location":"cks/06-monitoring-logging-runtime-security/#key-concepts-summary","title":"Key Concepts Summary","text":"Concept Description Tool/Feature Runtime Detection Monitor running containers for threats Falco Audit Logging Record API server activity Kubernetes Audit Immutability Prevent runtime modifications readOnlyRootFilesystem Behavioral Analysis Detect anomalous behavior Falco rules System Call Monitoring Track kernel-level activity eBPF, Sysdig"},{"location":"cks/06-monitoring-logging-runtime-security/#practice-exercises","title":"Practice Exercises","text":"<ol> <li>Install Falco and trigger a shell alert</li> <li>Create a custom Falco rule to detect file writes to /tmp</li> <li>Configure audit logging to capture secret access</li> <li>Analyze audit logs to find failed authentication attempts</li> <li>Create an immutable pod with read-only filesystem</li> </ol> <p>\u2190 Previous: Supply Chain Security | Back to CKS Overview | Next: Sample Questions \u2192</p>"},{"location":"cks/sample-questions/","title":"CKS Sample Practice Questions","text":"<p>Disclaimer: These are sample practice questions created for study purposes only. They are NOT actual exam questions and are designed to help you test your understanding of CKS concepts.</p>"},{"location":"cks/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Killercoda CKS Scenarios \u2b50 Free hands-on practice</li> <li>killer.sh CKS Simulator - Included with exam registration</li> </ul>"},{"location":"cks/sample-questions/#section-1-cluster-setup-10","title":"Section 1: Cluster Setup (10%)","text":""},{"location":"cks/sample-questions/#question-11-network-policy","title":"Question 1.1 - Network Policy","text":"<p>Create a NetworkPolicy named <code>deny-all</code> in namespace <code>secure</code> that denies all ingress and egress traffic.</p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all\n  namespace: secure\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"cks/sample-questions/#question-12-cis-benchmark","title":"Question 1.2 - CIS Benchmark","text":"<p>Run kube-bench to check the master node against CIS benchmarks.</p> Show Solution <pre><code>kube-bench run --targets=master\n</code></pre>"},{"location":"cks/sample-questions/#section-2-cluster-hardening-15","title":"Section 2: Cluster Hardening (15%)","text":""},{"location":"cks/sample-questions/#question-21-rbac","title":"Question 2.1 - RBAC","text":"<p>Create a Role named <code>pod-reader</code> that allows get, list, watch on pods. Bind it to user <code>jane</code>.</p> Show Solution <pre><code>kubectl create role pod-reader --verb=get,list,watch --resource=pods\nkubectl create rolebinding read-pods --role=pod-reader --user=jane\n</code></pre>"},{"location":"cks/sample-questions/#question-22-serviceaccount","title":"Question 2.2 - ServiceAccount","text":"<p>Create a Pod that doesn't auto-mount the ServiceAccount token.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: no-token-pod\nspec:\n  automountServiceAccountToken: false\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/sample-questions/#section-3-system-hardening-15","title":"Section 3: System Hardening (15%)","text":""},{"location":"cks/sample-questions/#question-31-apparmor","title":"Question 3.1 - AppArmor","text":"<p>Create a Pod with AppArmor profile <code>k8s-deny-write</code> applied.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: apparmor-pod\n  annotations:\n    container.apparmor.security.beta.kubernetes.io/nginx: localhost/k8s-deny-write\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/sample-questions/#question-32-seccomp","title":"Question 3.2 - seccomp","text":"<p>Create a Pod using RuntimeDefault seccomp profile.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: seccomp-pod\nspec:\n  securityContext:\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"cks/sample-questions/#section-4-minimize-microservice-vulnerabilities-20","title":"Section 4: Minimize Microservice Vulnerabilities (20%)","text":""},{"location":"cks/sample-questions/#question-41-security-context","title":"Question 4.1 - Security Context","text":"<p>Create a Pod that runs as non-root with read-only filesystem and drops all capabilities.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n  containers:\n  - name: nginx\n    image: nginx\n    securityContext:\n      readOnlyRootFilesystem: true\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n        - ALL\n</code></pre>"},{"location":"cks/sample-questions/#question-42-pod-security-standards","title":"Question 4.2 - Pod Security Standards","text":"<p>Apply the restricted Pod Security Standard to namespace <code>production</code>.</p> Show Solution <pre><code>kubectl label namespace production \\\n  pod-security.kubernetes.io/enforce=restricted \\\n  pod-security.kubernetes.io/audit=restricted \\\n  pod-security.kubernetes.io/warn=restricted\n</code></pre>"},{"location":"cks/sample-questions/#section-5-supply-chain-security-20","title":"Section 5: Supply Chain Security (20%)","text":""},{"location":"cks/sample-questions/#question-51-image-scanning","title":"Question 5.1 - Image Scanning","text":"<p>Scan image <code>nginx:1.21</code> for HIGH and CRITICAL vulnerabilities using Trivy.</p> Show Solution <pre><code>trivy image --severity HIGH,CRITICAL nginx:1.21\n</code></pre>"},{"location":"cks/sample-questions/#question-52-allowed-registries","title":"Question 5.2 - Allowed Registries","text":"<p>Create an OPA Gatekeeper constraint to only allow images from <code>gcr.io/myproject/</code>.</p> Show Solution <pre><code>apiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sAllowedRepos\nmetadata:\n  name: allowed-repos\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n  parameters:\n    repos:\n      - \"gcr.io/myproject/\"\n</code></pre>"},{"location":"cks/sample-questions/#section-6-monitoring-logging-and-runtime-security-20","title":"Section 6: Monitoring, Logging and Runtime Security (20%)","text":""},{"location":"cks/sample-questions/#question-61-audit-logging","title":"Question 6.1 - Audit Logging","text":"<p>Configure API server to log all secret access at Metadata level.</p> Show Solution <pre><code>apiVersion: audit.k8s.io/v1\nkind: Policy\nrules:\n  - level: Metadata\n    resources:\n      - group: \"\"\n        resources: [\"secrets\"]\n</code></pre>  Add to kube-apiserver: <pre><code>--audit-policy-file=/etc/kubernetes/audit-policy.yaml\n--audit-log-path=/var/log/kubernetes/audit/audit.log\n</code></pre>"},{"location":"cks/sample-questions/#question-62-falco","title":"Question 6.2 - Falco","text":"<p>Write a Falco rule to detect shell spawning in containers.</p> Show Solution <pre><code>- rule: Shell in container\n  desc: Detect shell spawned in container\n  condition: spawned_process and container and shell_procs\n  output: Shell spawned (user=%user.name container=%container.name)\n  priority: WARNING\n</code></pre>"},{"location":"cks/sample-questions/#question-63-container-immutability","title":"Question 6.3 - Container Immutability","text":"<p>Create a Pod with a read-only root filesystem that can still write to /tmp.</p> Show Solution <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: immutable-pod\nspec:\n  containers:\n  - name: app\n    image: nginx\n    securityContext:\n      readOnlyRootFilesystem: true\n    volumeMounts:\n    - name: tmp\n      mountPath: /tmp\n  volumes:\n  - name: tmp\n    emptyDir: {}\n</code></pre>"},{"location":"cks/sample-questions/#question-64-analyze-audit-logs","title":"Question 6.4 - Analyze Audit Logs","text":"<p>Find all secret access events in the audit log.</p> Show Solution <pre><code>cat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.resource==\"secrets\")'\n\n# Or find specific operations on secrets\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.resource==\"secrets\" and .verb==\"get\")'\n</code></pre>"},{"location":"cks/sample-questions/#section-7-additional-practice-questions","title":"Section 7: Additional Practice Questions","text":""},{"location":"cks/sample-questions/#question-71-ingress-tls","title":"Question 7.1 - Ingress TLS","text":"<p>Create an Ingress with TLS termination using a secret named <code>tls-secret</code>.</p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: secure-ingress\nspec:\n  tls:\n  - hosts:\n    - secure.example.com\n    secretName: tls-secret\n  rules:\n  - host: secure.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: my-service\n            port:\n              number: 80\n</code></pre>"},{"location":"cks/sample-questions/#question-72-runtimeclass-with-gvisor","title":"Question 7.2 - RuntimeClass with gVisor","text":"<p>Create a RuntimeClass for gVisor and a Pod that uses it.</p> Show Solution <pre><code>apiVersion: node.k8s.io/v1\nkind: RuntimeClass\nmetadata:\n  name: gvisor\nhandler: runsc\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: sandboxed-pod\nspec:\n  runtimeClassName: gvisor\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/sample-questions/#question-73-encrypt-etcd-data","title":"Question 7.3 - Encrypt etcd Data","text":"<p>Configure encryption at rest for secrets in etcd.</p> Show Solution <pre><code># /etc/kubernetes/enc/enc.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n  - resources:\n      - secrets\n    providers:\n      - aescbc:\n          keys:\n            - name: key1\n              secret: &lt;base64-encoded-32-byte-key&gt;\n      - identity: {}\n</code></pre>  Add to kube-apiserver: <pre><code>--encryption-provider-config=/etc/kubernetes/enc/enc.yaml\n</code></pre>"},{"location":"cks/sample-questions/#question-74-verify-image-signature","title":"Question 7.4 - Verify Image Signature","text":"<p>Use cosign to verify an image signature.</p> Show Solution <pre><code># Verify image signature\ncosign verify --key cosign.pub gcr.io/myproject/myimage:v1\n\n# Generate a key pair\ncosign generate-key-pair\n\n# Sign an image\ncosign sign --key cosign.key gcr.io/myproject/myimage:v1\n</code></pre>"},{"location":"cks/sample-questions/#question-75-restrict-syscalls-with-seccomp","title":"Question 7.5 - Restrict Syscalls with Seccomp","text":"<p>Create a Pod that blocks the <code>chmod</code> syscall using a custom seccomp profile.</p> Show Solution <pre><code>// /var/lib/kubelet/seccomp/profiles/block-chmod.json\n{\n  \"defaultAction\": \"SCMP_ACT_ALLOW\",\n  \"syscalls\": [\n    {\n      \"names\": [\"chmod\", \"fchmod\", \"fchmodat\"],\n      \"action\": \"SCMP_ACT_ERRNO\"\n    }\n  ]\n}\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: seccomp-pod\nspec:\n  securityContext:\n    seccompProfile:\n      type: Localhost\n      localhostProfile: profiles/block-chmod.json\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"cks/sample-questions/#question-76-network-policy-for-database","title":"Question 7.6 - Network Policy for Database","text":"<p>Create a NetworkPolicy that only allows pods with label <code>app=backend</code> to access pods with label <code>app=database</code> on port 5432.</p> Show Solution <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: db-policy\nspec:\n  podSelector:\n    matchLabels:\n      app: database\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: backend\n    ports:\n    - protocol: TCP\n      port: 5432\n</code></pre>"},{"location":"cks/sample-questions/#question-77-admission-controller-webhook","title":"Question 7.7 - Admission Controller Webhook","text":"<p>Which admission controllers should be enabled for security?</p> Show Solution  Essential security admission controllers: - `NodeRestriction` - Limits kubelet permissions - `PodSecurity` - Enforces Pod Security Standards - `AlwaysPullImages` - Forces image pull on every pod start - `DenyServiceExternalIPs` - Prevents external IP assignment  Enable in kube-apiserver: <pre><code>--enable-admission-plugins=NodeRestriction,PodSecurity,AlwaysPullImages\n</code></pre>"},{"location":"cks/sample-questions/#question-78-investigate-compromised-pod","title":"Question 7.8 - Investigate Compromised Pod","text":"<p>A pod is suspected of being compromised. What steps would you take?</p> Show Solution <pre><code># 1. Isolate the pod with NetworkPolicy\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: isolate-pod\nspec:\n  podSelector:\n    matchLabels:\n      app: compromised\n  policyTypes:\n  - Ingress\n  - Egress\nEOF\n\n# 2. Check pod events and logs\nkubectl describe pod &lt;pod-name&gt;\nkubectl logs &lt;pod-name&gt;\n\n# 3. Check running processes\nkubectl exec &lt;pod-name&gt; -- ps aux\n\n# 4. Check network connections\nkubectl exec &lt;pod-name&gt; -- netstat -tulpn\n\n# 5. Check audit logs\ncat /var/log/kubernetes/audit/audit.log | jq 'select(.objectRef.name==\"&lt;pod-name&gt;\")'\n\n# 6. Check Falco alerts\nkubectl logs -n falco -l app.kubernetes.io/name=falco | grep &lt;pod-name&gt;\n</code></pre>"},{"location":"cks/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Practice on Killercoda - Free hands-on scenarios</li> <li>Use killer.sh - Included with exam registration</li> <li>Know Trivy for image scanning - <code>trivy image --severity HIGH,CRITICAL</code></li> <li>Master Network Policies - Default deny patterns, ingress/egress rules</li> <li>Understand RBAC deeply - Roles, ClusterRoles, bindings</li> <li>Practice with Falco rules - Rule syntax, common detections</li> <li>Know audit logging configuration - Policy levels, API server flags</li> <li>Understand Pod Security Standards - privileged, baseline, restricted</li> <li>Practice seccomp and AppArmor - Profile application</li> <li>Know encryption at rest - etcd encryption configuration</li> </ol>"},{"location":"cks/sample-questions/#quick-reference-commands","title":"Quick Reference Commands","text":"<pre><code># Image scanning\ntrivy image nginx:latest\n\n# Check CIS benchmarks\nkube-bench run --targets=master\n\n# Create secret\nkubectl create secret generic my-secret --from-literal=password=secret\n\n# Apply NetworkPolicy\nkubectl apply -f networkpolicy.yaml\n\n# Check RBAC\nkubectl auth can-i create pods --as=jane\n\n# View audit logs\ncat /var/log/kubernetes/audit/audit.log | jq .\n\n# Check Falco logs\nkubectl logs -n falco -l app.kubernetes.io/name=falco\n</code></pre> <p>\u2190 Back to CKS Overview</p>"},{"location":"cnpa/","title":"CNPA - Cloud Native Platform Associate","text":"<p>The Cloud Native Platform Associate (CNPA) exam demonstrates knowledge of platform engineering concepts and cloud native technologies.</p>"},{"location":"cnpa/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"cnpa/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Platform Engineering Fundamentals 20% Developer Experience 20% Infrastructure and Operations 25% Security and Compliance 20% Observability and Monitoring 15%"},{"location":"cnpa/#key-topics","title":"Key Topics","text":""},{"location":"cnpa/#platform-engineering","title":"Platform Engineering","text":"<ul> <li>Internal Developer Platforms (IDP)</li> <li>Self-service capabilities</li> <li>Golden paths</li> <li>Platform as a Product</li> </ul>"},{"location":"cnpa/#developer-experience","title":"Developer Experience","text":"<ul> <li>Developer portals</li> <li>Service catalogs</li> <li>Templates and scaffolding</li> <li>Documentation</li> </ul>"},{"location":"cnpa/#infrastructure","title":"Infrastructure","text":"<ul> <li>Infrastructure as Code</li> <li>GitOps</li> <li>Multi-tenancy</li> <li>Resource management</li> </ul>"},{"location":"cnpa/#study-resources","title":"Study Resources","text":"<ul> <li>Platform Engineering</li> <li>CNCF Platforms White Paper</li> <li>CNPA Curriculum</li> </ul>"},{"location":"cnpa/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"cnpa/sample-questions/","title":"CNPA Sample Practice Questions","text":""},{"location":"cnpa/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Platform Engineering</li> <li>CNCF Platforms White Paper</li> </ul>"},{"location":"cnpa/sample-questions/#platform-engineering-fundamentals-20","title":"Platform Engineering Fundamentals (20%)","text":""},{"location":"cnpa/sample-questions/#question-1","title":"Question 1","text":"<p>What is an Internal Developer Platform (IDP)?</p> Show Solution  An **Internal Developer Platform (IDP)** is a self-service layer that enables developers to: - Deploy applications without deep infrastructure knowledge - Access standardized tooling and workflows - Follow organizational best practices automatically - Reduce cognitive load on development teams  Key components: - Service catalog - Self-service portal - Automated workflows - Golden paths/templates"},{"location":"cnpa/sample-questions/#question-2","title":"Question 2","text":"<p>What are \"Golden Paths\" in platform engineering?</p> Show Solution  **Golden Paths** are opinionated, supported ways to build and deploy applications that: - Represent best practices - Are fully supported by the platform team - Reduce decision fatigue for developers - Include security and compliance by default  Example: A golden path for deploying a microservice might include: - Pre-configured CI/CD pipeline - Standard observability setup - Security scanning - Deployment to Kubernetes"},{"location":"cnpa/sample-questions/#question-3","title":"Question 3","text":"<p>What is \"Platform as a Product\"?</p> Show Solution  **Platform as a Product** means treating the internal platform like a product: - Developers are customers - Focus on user experience - Gather feedback and iterate - Measure adoption and satisfaction - Have a product roadmap  Key practices: - User research with developers - Documentation and onboarding - Support channels - Regular releases and improvements"},{"location":"cnpa/sample-questions/#developer-experience-20","title":"Developer Experience (20%)","text":""},{"location":"cnpa/sample-questions/#question-4","title":"Question 4","text":"<p>What components make up a good developer portal?</p> Show Solution  A developer portal typically includes: - **Service Catalog** - List of available services and APIs - **Documentation** - Technical docs, guides, tutorials - **Templates** - Scaffolding for new projects - **Self-Service** - Provisioning resources without tickets - **Search** - Find services, docs, and owners - **Ownership** - Who owns what service  Tools: Backstage, Port, Cortex"},{"location":"cnpa/sample-questions/#question-5","title":"Question 5","text":"<p>How do you measure developer experience?</p> Show Solution  Key metrics: - **DORA Metrics** - Deployment frequency, lead time, MTTR, change failure rate - **Developer Satisfaction** - Surveys, NPS scores - **Time to First Deploy** - How long for new developers to deploy - **Self-Service Adoption** - % of requests handled without tickets - **Cognitive Load** - Number of tools/systems developers must know"},{"location":"cnpa/sample-questions/#question-6","title":"Question 6","text":"<p>What is a Service Catalog?</p> Show Solution  A **Service Catalog** is a centralized inventory of: - All services in the organization - APIs and their documentation - Service ownership and contacts - Dependencies between services - Health and status information  Benefits: - Discoverability - Reduced duplication - Clear ownership - Dependency management"},{"location":"cnpa/sample-questions/#infrastructure-and-operations-25","title":"Infrastructure and Operations (25%)","text":""},{"location":"cnpa/sample-questions/#question-7","title":"Question 7","text":"<p>How does GitOps relate to platform engineering?</p> Show Solution  GitOps enables platform engineering by: - **Declarative Infrastructure** - Git as source of truth - **Self-Service** - Developers submit PRs for changes - **Audit Trail** - All changes tracked in Git history - **Automation** - Changes automatically applied - **Rollback** - Easy revert to previous state  Tools: Argo CD, Flux CD"},{"location":"cnpa/sample-questions/#question-8","title":"Question 8","text":"<p>What is multi-tenancy in platform context?</p> Show Solution  **Multi-tenancy** allows multiple teams to share platform resources:  Isolation levels: - **Namespace-based** - Separate namespaces per team - **Cluster-based** - Separate clusters per team - **Virtual clusters** - vCluster for isolation  Considerations: - Resource quotas - Network policies - RBAC - Cost allocation"},{"location":"cnpa/sample-questions/#question-9","title":"Question 9","text":"<p>What Infrastructure as Code tools are commonly used?</p> Show Solution  Common IaC tools: - **Terraform** - Multi-cloud infrastructure - **Pulumi** - IaC with programming languages - **Crossplane** - Kubernetes-native IaC - **AWS CDK** - AWS infrastructure - **Ansible** - Configuration management  Platform teams often provide: - Terraform modules - Crossplane compositions - Pre-approved configurations"},{"location":"cnpa/sample-questions/#security-and-compliance-20","title":"Security and Compliance (20%)","text":""},{"location":"cnpa/sample-questions/#question-10","title":"Question 10","text":"<p>How do platforms enforce security policies?</p> Show Solution  Security enforcement methods: - **Policy as Code** - OPA/Gatekeeper, Kyverno - **Admission Controllers** - Validate/mutate resources - **Supply Chain Security** - Image signing, SBOM - **Network Policies** - Default deny, microsegmentation - **RBAC** - Least privilege access  Platforms embed security in golden paths so developers get security by default."},{"location":"cnpa/sample-questions/#question-11","title":"Question 11","text":"<p>What is shift-left security?</p> Show Solution  **Shift-left security** moves security earlier in the development lifecycle:  - **Design** - Threat modeling - **Code** - SAST, secrets scanning - **Build** - Image scanning, SBOM - **Deploy** - Policy enforcement - **Runtime** - Monitoring, detection  Platform teams enable shift-left by: - Integrating security tools in CI/CD - Providing secure templates - Automating compliance checks"},{"location":"cnpa/sample-questions/#observability-and-monitoring-15","title":"Observability and Monitoring (15%)","text":""},{"location":"cnpa/sample-questions/#question-12","title":"Question 12","text":"<p>What observability capabilities should a platform provide?</p> Show Solution  Platform observability includes: - **Metrics** - Prometheus, Grafana dashboards - **Logs** - Centralized logging (Loki, ELK) - **Traces** - Distributed tracing (Jaeger, Tempo) - **Alerts** - Alertmanager, PagerDuty integration - **Dashboards** - Pre-built for common patterns  Platforms should provide: - Auto-instrumentation - Standard dashboards - Alert templates - SLO tracking"},{"location":"cnpa/sample-questions/#question-13","title":"Question 13","text":"<p>How do you implement SLOs in a platform?</p> Show Solution  SLO implementation: 1. **Define SLIs** - Latency, availability, error rate 2. **Set SLO targets** - 99.9% availability 3. **Calculate error budgets** - Allowed downtime 4. **Monitor and alert** - Track against targets 5. **Report** - Dashboards and reviews  Tools: - Prometheus + recording rules - Sloth for SLO generation - OpenSLO specification"},{"location":"cnpa/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Understand IDP concepts - Self-service, golden paths, platform as product</li> <li>Know developer experience metrics - DORA, satisfaction, adoption</li> <li>Understand GitOps - How it enables platform capabilities</li> <li>Know policy enforcement - OPA, Kyverno, admission controllers</li> <li>Understand observability - Three pillars, SLOs, error budgets</li> </ol> <p>\u2190 Back to CNPA Overview</p>"},{"location":"cnpe/","title":"CNPE - Certified Cloud Native Platform Engineer","text":"<p>The Certified Cloud Native Platform Engineer (CNPE) exam demonstrates advanced knowledge of platform engineering, including designing, building, and operating cloud native platforms.</p> <p>Note: This certification is required for Golden Kubestronaut status after March 1st, 2025.</p>"},{"location":"cnpe/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Performance-based (hands-on) Duration 2 hours Passing Score 66% Certification Validity 3 years Cost $395 USD Retake Policy 1 free retake"},{"location":"cnpe/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Platform Design 20% Platform Implementation 30% Platform Operations 25% Security and Governance 15% Developer Experience 10%"},{"location":"cnpe/#key-topics","title":"Key Topics","text":""},{"location":"cnpe/#platform-design","title":"Platform Design","text":"<ul> <li>Architecture patterns</li> <li>Multi-tenancy strategies</li> <li>API design</li> <li>Scalability considerations</li> </ul>"},{"location":"cnpe/#platform-implementation","title":"Platform Implementation","text":"<ul> <li>Kubernetes operators</li> <li>Custom controllers</li> <li>GitOps implementation</li> <li>Infrastructure as Code</li> </ul>"},{"location":"cnpe/#platform-operations","title":"Platform Operations","text":"<ul> <li>Day-2 operations</li> <li>Upgrades and migrations</li> <li>Disaster recovery</li> <li>Capacity planning</li> </ul>"},{"location":"cnpe/#study-resources","title":"Study Resources","text":"<ul> <li>Platform Engineering</li> <li>CNCF Platforms White Paper</li> <li>CNPE Curriculum</li> <li>Kubernetes Operators</li> </ul>"},{"location":"cnpe/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"cnpe/01-platform-engineering/","title":"Platform Engineering Fundamentals","text":"<p>Comprehensive guide to platform engineering for CNPE certification.</p>"},{"location":"cnpe/01-platform-engineering/#overview","title":"Overview","text":"<p>Platform Engineering focuses on building Internal Developer Platforms (IDPs) that:</p> <ul> <li>Abstract complexity - Hide infrastructure details</li> <li>Enable self-service - Developers provision resources independently</li> <li>Standardize - Consistent patterns across teams</li> <li>Automate - Reduce manual operations</li> </ul>"},{"location":"cnpe/01-platform-engineering/#key-concepts","title":"Key Concepts","text":""},{"location":"cnpe/01-platform-engineering/#internal-developer-platform-idp","title":"Internal Developer Platform (IDP)","text":"<p>An IDP provides:</p> <ul> <li>Self-service infrastructure provisioning</li> <li>Standardized deployment pipelines</li> <li>Observability and monitoring</li> <li>Security and compliance guardrails</li> </ul>"},{"location":"cnpe/01-platform-engineering/#platform-team-responsibilities","title":"Platform Team Responsibilities","text":"<ul> <li>Build and maintain platform components</li> <li>Define golden paths for common workflows</li> <li>Provide documentation and support</li> <li>Measure and improve developer experience</li> </ul>"},{"location":"cnpe/01-platform-engineering/#crossplane","title":"Crossplane","text":"<p>Crossplane extends Kubernetes to manage cloud resources:</p>"},{"location":"cnpe/01-platform-engineering/#installation","title":"Installation","text":"<pre><code># Install Crossplane\nkubectl create namespace crossplane-system\nhelm repo add crossplane-stable https://charts.crossplane.io/stable\nhelm install crossplane crossplane-stable/crossplane -n crossplane-system\n\n# Install AWS provider\nkubectl apply -f - &lt;&lt;EOF\napiVersion: pkg.crossplane.io/v1\nkind: Provider\nmetadata:\n  name: provider-aws\nspec:\n  package: xpkg.upbound.io/crossplane-contrib/provider-aws:v0.40.0\nEOF\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#composite-resources","title":"Composite Resources","text":"<pre><code>apiVersion: apiextensions.crossplane.io/v1\nkind: CompositeResourceDefinition\nmetadata:\n  name: databases.platform.example.com\nspec:\n  group: platform.example.com\n  names:\n    kind: Database\n    plural: databases\n  versions:\n  - name: v1\n    served: true\n    referenceable: true\n    schema:\n      openAPIV3Schema:\n        type: object\n        properties:\n          spec:\n            type: object\n            properties:\n              size:\n                type: string\n                enum: [small, medium, large]\n              engine:\n                type: string\n                enum: [postgres, mysql]\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#composition","title":"Composition","text":"<pre><code>apiVersion: apiextensions.crossplane.io/v1\nkind: Composition\nmetadata:\n  name: database-aws\nspec:\n  compositeTypeRef:\n    apiVersion: platform.example.com/v1\n    kind: Database\n  resources:\n  - name: rds-instance\n    base:\n      apiVersion: rds.aws.crossplane.io/v1beta1\n      kind: Instance\n      spec:\n        forProvider:\n          region: us-east-1\n          dbInstanceClass: db.t3.micro\n          engine: postgres\n          masterUsername: admin\n    patches:\n    - fromFieldPath: spec.size\n      toFieldPath: spec.forProvider.dbInstanceClass\n      transforms:\n      - type: map\n        map:\n          small: db.t3.micro\n          medium: db.t3.small\n          large: db.t3.medium\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#backstage","title":"Backstage","text":"<p>Backstage is a developer portal platform:</p>"},{"location":"cnpe/01-platform-engineering/#features","title":"Features","text":"<ul> <li>Software Catalog - Track all services and resources</li> <li>Templates - Scaffold new projects</li> <li>TechDocs - Documentation as code</li> <li>Plugins - Extensible architecture</li> </ul>"},{"location":"cnpe/01-platform-engineering/#catalog-entity","title":"Catalog Entity","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  description: My microservice\n  annotations:\n    github.com/project-slug: myorg/my-service\n    backstage.io/techdocs-ref: dir:.\nspec:\n  type: service\n  lifecycle: production\n  owner: team-platform\n  system: my-system\n  dependsOn:\n  - resource:my-database\n  providesApis:\n  - my-api\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#software-template","title":"Software Template","text":"<pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: microservice-template\n  title: Microservice Template\nspec:\n  owner: team-platform\n  type: service\n  parameters:\n  - title: Service Details\n    properties:\n      name:\n        type: string\n        title: Service Name\n      owner:\n        type: string\n        title: Owner Team\n  steps:\n  - id: fetch\n    name: Fetch Template\n    action: fetch:template\n    input:\n      url: ./skeleton\n      values:\n        name: ${{ parameters.name }}\n  - id: publish\n    name: Publish to GitHub\n    action: publish:github\n    input:\n      repoUrl: github.com?owner=myorg&amp;repo=${{ parameters.name }}\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#platform-patterns","title":"Platform Patterns","text":""},{"location":"cnpe/01-platform-engineering/#golden-paths","title":"Golden Paths","text":"<p>Pre-defined, well-supported ways to accomplish common tasks:</p> <ol> <li>Service Creation - Template with CI/CD, monitoring, logging</li> <li>Database Provisioning - Self-service with guardrails</li> <li>Environment Management - Dev, staging, production workflows</li> </ol>"},{"location":"cnpe/01-platform-engineering/#self-service-infrastructure","title":"Self-Service Infrastructure","text":"<pre><code># Developer requests database\napiVersion: platform.example.com/v1\nkind: Database\nmetadata:\n  name: my-app-db\n  namespace: my-team\nspec:\n  size: medium\n  engine: postgres\n</code></pre>"},{"location":"cnpe/01-platform-engineering/#platform-apis","title":"Platform APIs","text":"<p>Expose platform capabilities through Kubernetes CRDs:</p> <ul> <li>Databases</li> <li>Message queues</li> <li>Storage buckets</li> <li>DNS entries</li> <li>Certificates</li> </ul>"},{"location":"cnpe/01-platform-engineering/#best-practices","title":"Best Practices","text":"<ol> <li>Start small - Begin with highest-impact capabilities</li> <li>Measure adoption - Track developer satisfaction</li> <li>Document everything - Self-service requires good docs</li> <li>Iterate based on feedback - Platform is a product</li> <li>Maintain golden paths - Keep them up to date</li> </ol> <p>\u2190 Back to CNPE Overview</p>"},{"location":"cnpe/sample-questions/","title":"CNPE Sample Practice Questions","text":""},{"location":"cnpe/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Platform Engineering</li> <li>Kubernetes Operators</li> <li>Killercoda Scenarios</li> </ul>"},{"location":"cnpe/sample-questions/#platform-design-20","title":"Platform Design (20%)","text":""},{"location":"cnpe/sample-questions/#question-1","title":"Question 1","text":"<p>Design a multi-tenant platform architecture for 50 development teams.</p> Show Solution  **Architecture considerations:**  1. **Isolation Strategy:**    - Namespace per team with resource quotas    - Network policies for isolation    - RBAC per namespace  2. **Resource Management:**    <pre><code>apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: team-quota\n  namespace: team-alpha\nspec:\n  hard:\n    requests.cpu: \"10\"\n    requests.memory: 20Gi\n    limits.cpu: \"20\"\n    limits.memory: 40Gi\n    pods: \"50\"\n</code></pre>  3. **Shared Services:**    - Centralized logging (Loki)    - Metrics (Prometheus/Thanos)    - Ingress controller    - Certificate management  4. **Self-Service:**    - Namespace provisioning via GitOps    - Template-based deployments    - Developer portal (Backstage)"},{"location":"cnpe/sample-questions/#question-2","title":"Question 2","text":"<p>How do you design APIs for a platform?</p> Show Solution  **Platform API Design Principles:**  1. **Use Kubernetes-native APIs:**    <pre><code>apiVersion: platform.example.com/v1\nkind: Application\nmetadata:\n  name: my-app\nspec:\n  image: myapp:v1\n  replicas: 3\n  ingress:\n    enabled: true\n    host: myapp.example.com\n</code></pre>  2. **Abstract complexity:**    - Hide infrastructure details    - Provide sensible defaults    - Allow overrides when needed  3. **Versioning:**    - Use API versioning (v1alpha1, v1beta1, v1)    - Maintain backward compatibility    - Deprecation policy  4. **Documentation:**    - OpenAPI specs    - Examples for common use cases"},{"location":"cnpe/sample-questions/#platform-implementation-30","title":"Platform Implementation (30%)","text":""},{"location":"cnpe/sample-questions/#question-3","title":"Question 3","text":"<p>Create a Kubernetes Operator that manages a custom Application resource.</p> Show Solution <pre><code>// Controller reconcile function\nfunc (r *ApplicationReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    var app platformv1.Application\n    if err := r.Get(ctx, req.NamespacedName, &amp;app); err != nil {\n        return ctrl.Result{}, client.IgnoreNotFound(err)\n    }\n\n    // Create Deployment\n    deployment := &amp;appsv1.Deployment{\n        ObjectMeta: metav1.ObjectMeta{\n            Name:      app.Name,\n            Namespace: app.Namespace,\n        },\n        Spec: appsv1.DeploymentSpec{\n            Replicas: &amp;app.Spec.Replicas,\n            Selector: &amp;metav1.LabelSelector{\n                MatchLabels: map[string]string{\"app\": app.Name},\n            },\n            Template: corev1.PodTemplateSpec{\n                ObjectMeta: metav1.ObjectMeta{\n                    Labels: map[string]string{\"app\": app.Name},\n                },\n                Spec: corev1.PodSpec{\n                    Containers: []corev1.Container{{\n                        Name:  app.Name,\n                        Image: app.Spec.Image,\n                    }},\n                },\n            },\n        },\n    }\n\n    if err := ctrl.SetControllerReference(&amp;app, deployment, r.Scheme); err != nil {\n        return ctrl.Result{}, err\n    }\n\n    if err := r.Create(ctx, deployment); err != nil {\n        if !errors.IsAlreadyExists(err) {\n            return ctrl.Result{}, err\n        }\n    }\n\n    return ctrl.Result{}, nil\n}\n</code></pre>"},{"location":"cnpe/sample-questions/#question-4","title":"Question 4","text":"<p>Implement GitOps for platform configuration.</p> Show Solution  **Repository Structure:** <pre><code>platform-config/\n\u251c\u2500\u2500 clusters/\n\u2502   \u251c\u2500\u2500 production/\n\u2502   \u2502   \u251c\u2500\u2500 flux-system/\n\u2502   \u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2502   \u2514\u2500\u2500 staging/\n\u251c\u2500\u2500 infrastructure/\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u251c\u2500\u2500 configs/\n\u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2514\u2500\u2500 tenants/\n    \u251c\u2500\u2500 team-alpha/\n    \u2502   \u251c\u2500\u2500 namespace.yaml\n    \u2502   \u251c\u2500\u2500 rbac.yaml\n    \u2502   \u2514\u2500\u2500 quota.yaml\n    \u2514\u2500\u2500 team-beta/\n</code></pre>  **Flux Kustomization:** <pre><code>apiVersion: kustomize.toolkit.fluxcd.io/v1\nkind: Kustomization\nmetadata:\n  name: infrastructure\n  namespace: flux-system\nspec:\n  interval: 10m\n  sourceRef:\n    kind: GitRepository\n    name: platform-config\n  path: ./infrastructure\n  prune: true\n  healthChecks:\n  - apiVersion: apps/v1\n    kind: Deployment\n    name: ingress-nginx-controller\n    namespace: ingress-nginx\n</code></pre>"},{"location":"cnpe/sample-questions/#question-5","title":"Question 5","text":"<p>Create a Crossplane Composition for provisioning databases.</p> Show Solution <pre><code>apiVersion: apiextensions.crossplane.io/v1\nkind: Composition\nmetadata:\n  name: postgresql-aws\nspec:\n  compositeTypeRef:\n    apiVersion: database.platform.io/v1\n    kind: PostgreSQLInstance\n  resources:\n  - name: rds-instance\n    base:\n      apiVersion: rds.aws.crossplane.io/v1beta1\n      kind: Instance\n      spec:\n        forProvider:\n          engine: postgres\n          engineVersion: \"14\"\n          instanceClass: db.t3.medium\n          allocatedStorage: 20\n          publiclyAccessible: false\n    patches:\n    - fromFieldPath: spec.storageGB\n      toFieldPath: spec.forProvider.allocatedStorage\n    - fromFieldPath: spec.size\n      toFieldPath: spec.forProvider.instanceClass\n      transforms:\n      - type: map\n        map:\n          small: db.t3.small\n          medium: db.t3.medium\n          large: db.t3.large\n---\napiVersion: apiextensions.crossplane.io/v1\nkind: CompositeResourceDefinition\nmetadata:\n  name: postgresqlinstances.database.platform.io\nspec:\n  group: database.platform.io\n  names:\n    kind: PostgreSQLInstance\n    plural: postgresqlinstances\n  versions:\n  - name: v1\n    served: true\n    referenceable: true\n    schema:\n      openAPIV3Schema:\n        type: object\n        properties:\n          spec:\n            type: object\n            properties:\n              size:\n                type: string\n                enum: [small, medium, large]\n              storageGB:\n                type: integer\n</code></pre>"},{"location":"cnpe/sample-questions/#platform-operations-25","title":"Platform Operations (25%)","text":""},{"location":"cnpe/sample-questions/#question-6","title":"Question 6","text":"<p>Implement a cluster upgrade strategy with zero downtime.</p> Show Solution  **Blue-Green Cluster Upgrade:**  1. **Preparation:**    <pre><code># Create new cluster with updated version\neksctl create cluster -f new-cluster.yaml\n\n# Install platform components\nflux bootstrap github --context=new-cluster ...\n</code></pre>  2. **Migration:**    <pre><code># Sync workloads via GitOps\n# Update DNS weights gradually\n\n# Route 10% traffic to new cluster\naws route53 change-resource-record-sets \\\n  --hosted-zone-id $ZONE_ID \\\n  --change-batch file://weighted-10.json\n</code></pre>  3. **Validation:**    <pre><code># Monitor error rates\n# Check application health\n# Verify data consistency\n</code></pre>  4. **Cutover:**    <pre><code># Route 100% to new cluster\n# Decommission old cluster\n</code></pre>"},{"location":"cnpe/sample-questions/#question-7","title":"Question 7","text":"<p>Design a disaster recovery plan for a platform.</p> Show Solution  **DR Strategy:**  1. **Backup:**    <pre><code># Velero backup schedule\napiVersion: velero.io/v1\nkind: Schedule\nmetadata:\n  name: daily-backup\nspec:\n  schedule: \"0 2 * * *\"\n  template:\n    includedNamespaces:\n    - \"*\"\n    excludedNamespaces:\n    - kube-system\n    storageLocation: aws-backup\n    ttl: 720h\n</code></pre>  2. **Recovery Targets:**    - RPO: 1 hour (data loss tolerance)    - RTO: 4 hours (recovery time)  3. **DR Runbook:**    - Restore cluster from backup    - Verify DNS failover    - Test application functionality    - Notify stakeholders  4. **Regular Testing:**    - Monthly DR drills    - Documented procedures    - Post-mortem reviews"},{"location":"cnpe/sample-questions/#security-and-governance-15","title":"Security and Governance (15%)","text":""},{"location":"cnpe/sample-questions/#question-8","title":"Question 8","text":"<p>Implement policy-as-code for platform governance.</p> Show Solution  **Kyverno Policies:**  <pre><code># Require resource limits\napiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-limits\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-limits\n    match:\n      any:\n      - resources:\n          kinds: [Pod]\n    validate:\n      message: \"Resource limits required\"\n      pattern:\n        spec:\n          containers:\n          - resources:\n              limits:\n                memory: \"?*\"\n                cpu: \"?*\"\n\n---\n# Require approved registries\napiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: allowed-registries\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-registry\n    match:\n      any:\n      - resources:\n          kinds: [Pod]\n    validate:\n      message: \"Images must be from approved registries\"\n      pattern:\n        spec:\n          containers:\n          - image: \"gcr.io/myorg/* | docker.io/myorg/*\"\n</code></pre>"},{"location":"cnpe/sample-questions/#question-9","title":"Question 9","text":"<p>Implement RBAC for platform teams.</p> Show Solution <pre><code># Platform Admin Role\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: platform-admin\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"*\"]\n\n---\n# Team Developer Role\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: team-developer\n  namespace: team-alpha\nrules:\n- apiGroups: [\"\", \"apps\", \"batch\"]\n  resources: [\"pods\", \"deployments\", \"services\", \"configmaps\", \"secrets\", \"jobs\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"delete\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\", \"pods/exec\"]\n  verbs: [\"get\", \"create\"]\n\n---\n# Bind to team\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: team-alpha-developers\n  namespace: team-alpha\nsubjects:\n- kind: Group\n  name: team-alpha-devs\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: team-developer\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"cnpe/sample-questions/#developer-experience-10","title":"Developer Experience (10%)","text":""},{"location":"cnpe/sample-questions/#question-10","title":"Question 10","text":"<p>Design a self-service namespace provisioning system.</p> Show Solution  **GitOps-based Provisioning:**  1. **Request Template:**    <pre><code># teams/team-gamma/namespace-request.yaml\napiVersion: platform.io/v1\nkind: TeamNamespace\nmetadata:\n  name: team-gamma\nspec:\n  team: gamma\n  owners:\n  - user1@example.com\n  - user2@example.com\n  resourceQuota:\n    cpu: \"20\"\n    memory: 40Gi\n  networkPolicy: restricted\n</code></pre>  2. **Controller generates:**    - Namespace    - ResourceQuota    - NetworkPolicy    - RBAC bindings    - Default LimitRange  3. **Workflow:**    - Developer submits PR    - Automated validation    - Approval from platform team    - Merge triggers provisioning"},{"location":"cnpe/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know Kubernetes deeply - Operators, controllers, CRDs</li> <li>Practice GitOps - Flux, Argo CD configurations</li> <li>Understand IaC - Crossplane, Terraform</li> <li>Know policy tools - Kyverno, OPA/Gatekeeper</li> <li>Practice troubleshooting - Logs, events, debugging</li> </ol> <p>\u2190 Back to CNPE Overview</p>"},{"location":"flashcards/kubectl-flashcards/","title":"kubectl Command Flashcards","text":"<p>Quick reference flashcards for kubectl commands. Test yourself by hiding the answers!</p>"},{"location":"flashcards/kubectl-flashcards/#pod-operations","title":"Pod Operations","text":""},{"location":"flashcards/kubectl-flashcards/#q-create-a-pod-named-nginx-with-nginx-image","title":"Q: Create a pod named 'nginx' with nginx image","text":"Answer <pre><code>kubectl run nginx --image=nginx\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-create-a-pod-with-specific-port-exposed","title":"Q: Create a pod with specific port exposed","text":"Answer <pre><code>kubectl run nginx --image=nginx --port=80\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-pods-in-all-namespaces","title":"Q: Get pods in all namespaces","text":"Answer <pre><code>kubectl get pods -A\n# or\nkubectl get pods --all-namespaces\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-pod-yaml-output","title":"Q: Get pod YAML output","text":"Answer <pre><code>kubectl get pod nginx -o yaml\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-delete-pod-immediately-force","title":"Q: Delete pod immediately (force)","text":"Answer <pre><code>kubectl delete pod nginx --force --grace-period=0\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-execute-command-in-pod","title":"Q: Execute command in pod","text":"Answer <pre><code>kubectl exec nginx -- ls /\nkubectl exec -it nginx -- /bin/bash\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-pod-logs","title":"Q: Get pod logs","text":"Answer <pre><code>kubectl logs nginx\nkubectl logs nginx -f  # follow\nkubectl logs nginx --previous  # previous container\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#deployment-operations","title":"Deployment Operations","text":""},{"location":"flashcards/kubectl-flashcards/#q-create-deployment-with-3-replicas","title":"Q: Create deployment with 3 replicas","text":"Answer <pre><code>kubectl create deployment nginx --image=nginx --replicas=3\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-scale-deployment","title":"Q: Scale deployment","text":"Answer <pre><code>kubectl scale deployment nginx --replicas=5\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-update-deployment-image","title":"Q: Update deployment image","text":"Answer <pre><code>kubectl set image deployment/nginx nginx=nginx:1.20\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-rollback-deployment","title":"Q: Rollback deployment","text":"Answer <pre><code>kubectl rollout undo deployment/nginx\nkubectl rollout undo deployment/nginx --to-revision=2\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-check-rollout-status","title":"Q: Check rollout status","text":"Answer <pre><code>kubectl rollout status deployment/nginx\nkubectl rollout history deployment/nginx\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#service-operations","title":"Service Operations","text":""},{"location":"flashcards/kubectl-flashcards/#q-expose-deployment-as-clusterip-service","title":"Q: Expose deployment as ClusterIP service","text":"Answer <pre><code>kubectl expose deployment nginx --port=80 --type=ClusterIP\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-expose-as-nodeport","title":"Q: Expose as NodePort","text":"Answer <pre><code>kubectl expose deployment nginx --port=80 --type=NodePort\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-service-endpoints","title":"Q: Get service endpoints","text":"Answer <pre><code>kubectl get endpoints nginx\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#configmap-secret","title":"ConfigMap &amp; Secret","text":""},{"location":"flashcards/kubectl-flashcards/#q-create-configmap-from-literal","title":"Q: Create ConfigMap from literal","text":"Answer <pre><code>kubectl create configmap myconfig --from-literal=key1=value1 --from-literal=key2=value2\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-create-configmap-from-file","title":"Q: Create ConfigMap from file","text":"Answer <pre><code>kubectl create configmap myconfig --from-file=config.txt\nkubectl create configmap myconfig --from-file=mykey=config.txt\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-create-secret-from-literal","title":"Q: Create Secret from literal","text":"Answer <pre><code>kubectl create secret generic mysecret --from-literal=password=secret123\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-decode-secret-value","title":"Q: Decode secret value","text":"Answer <pre><code>kubectl get secret mysecret -o jsonpath='{.data.password}' | base64 -d\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#namespace-context","title":"Namespace &amp; Context","text":""},{"location":"flashcards/kubectl-flashcards/#q-create-namespace","title":"Q: Create namespace","text":"Answer <pre><code>kubectl create namespace dev\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-set-default-namespace-for-context","title":"Q: Set default namespace for context","text":"Answer <pre><code>kubectl config set-context --current --namespace=dev\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-current-context","title":"Q: Get current context","text":"Answer <pre><code>kubectl config current-context\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-switch-context","title":"Q: Switch context","text":"Answer <pre><code>kubectl config use-context my-cluster\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#yaml-generation","title":"YAML Generation","text":""},{"location":"flashcards/kubectl-flashcards/#q-generate-pod-yaml-without-creating","title":"Q: Generate pod YAML without creating","text":"Answer <pre><code>kubectl run nginx --image=nginx --dry-run=client -o yaml &gt; pod.yaml\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-generate-deployment-yaml","title":"Q: Generate deployment YAML","text":"Answer <pre><code>kubectl create deployment nginx --image=nginx --dry-run=client -o yaml &gt; deploy.yaml\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-generate-service-yaml","title":"Q: Generate service YAML","text":"Answer <pre><code>kubectl expose deployment nginx --port=80 --dry-run=client -o yaml &gt; svc.yaml\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#troubleshooting","title":"Troubleshooting","text":""},{"location":"flashcards/kubectl-flashcards/#q-describe-resource-for-events","title":"Q: Describe resource for events","text":"Answer <pre><code>kubectl describe pod nginx\nkubectl describe node worker-1\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-get-events-sorted-by-time","title":"Q: Get events sorted by time","text":"Answer <pre><code>kubectl get events --sort-by='.lastTimestamp'\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-check-resource-usage","title":"Q: Check resource usage","text":"Answer <pre><code>kubectl top pods\nkubectl top nodes\n</code></pre>"},{"location":"flashcards/kubectl-flashcards/#q-debug-with-temporary-pod","title":"Q: Debug with temporary pod","text":"Answer <pre><code>kubectl run debug --image=busybox --rm -it --restart=Never -- sh\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"flashcards/kubernetes-concepts-flashcards/","title":"Kubernetes Concepts Flashcards","text":"<p>Quick reference flashcards for Kubernetes architecture and concepts.</p>"},{"location":"flashcards/kubernetes-concepts-flashcards/#architecture-components","title":"Architecture Components","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-the-control-plane-components","title":"Q: What are the control plane components?","text":"Answer  - **kube-apiserver** - API frontend, handles REST operations - **etcd** - Key-value store for cluster data - **kube-scheduler** - Assigns pods to nodes - **kube-controller-manager** - Runs controller processes - **cloud-controller-manager** - Cloud-specific controllers"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-the-node-components","title":"Q: What are the node components?","text":"Answer  - **kubelet** - Agent that runs on each node, manages pods - **kube-proxy** - Network proxy, maintains network rules - **Container runtime** - Runs containers (containerd, CRI-O)"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-etcd","title":"Q: What is etcd?","text":"Answer  Distributed key-value store that stores all cluster data including: - Cluster state - Configuration - Secrets - Service discovery information"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-does-the-kube-scheduler-do","title":"Q: What does the kube-scheduler do?","text":"Answer  Watches for newly created pods with no assigned node and selects a node based on: - Resource requirements - Hardware/software constraints - Affinity/anti-affinity rules - Taints and tolerations - Data locality"},{"location":"flashcards/kubernetes-concepts-flashcards/#workload-resources","title":"Workload Resources","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-pod","title":"Q: What is a Pod?","text":"Answer  Smallest deployable unit in Kubernetes. Contains: - One or more containers - Shared storage (volumes) - Shared network (IP address) - Specification for how to run containers"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-replicaset","title":"Q: What is a ReplicaSet?","text":"Answer  Ensures a specified number of pod replicas are running at any time. - Maintains desired replica count - Creates/deletes pods as needed - Usually managed by Deployments"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-deployment","title":"Q: What is a Deployment?","text":"Answer  Provides declarative updates for Pods and ReplicaSets: - Rolling updates - Rollbacks - Scaling - Pause/resume updates"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-statefulset","title":"Q: What is a StatefulSet?","text":"Answer  Manages stateful applications with: - Stable, unique network identifiers - Stable, persistent storage - Ordered, graceful deployment and scaling - Ordered, automated rolling updates"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-daemonset","title":"Q: What is a DaemonSet?","text":"Answer  Ensures all (or some) nodes run a copy of a pod: - Node monitoring agents - Log collectors - Storage daemons - Automatically adds pods to new nodes"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-job","title":"Q: What is a Job?","text":"Answer  Creates pods that run to completion: - Batch processing - One-time tasks - Tracks successful completions - Can run multiple pods in parallel"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-cronjob","title":"Q: What is a CronJob?","text":"Answer  Creates Jobs on a schedule (cron format): - Scheduled backups - Report generation - Periodic cleanup tasks"},{"location":"flashcards/kubernetes-concepts-flashcards/#services-networking","title":"Services &amp; Networking","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-the-service-types","title":"Q: What are the Service types?","text":"Answer  - **ClusterIP** - Internal cluster IP (default) - **NodePort** - Exposes on each node's IP at static port - **LoadBalancer** - Cloud provider load balancer - **ExternalName** - Maps to external DNS name"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-an-ingress","title":"Q: What is an Ingress?","text":"Answer  Manages external access to services: - HTTP/HTTPS routing - Load balancing - SSL/TLS termination - Name-based virtual hosting"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-networkpolicy","title":"Q: What is a NetworkPolicy?","text":"Answer  Controls traffic flow between pods: - Ingress rules (incoming traffic) - Egress rules (outgoing traffic) - Pod selectors - Namespace selectors"},{"location":"flashcards/kubernetes-concepts-flashcards/#storage","title":"Storage","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-persistentvolume-pv","title":"Q: What is a PersistentVolume (PV)?","text":"Answer  Cluster-wide storage resource: - Provisioned by admin or dynamically - Independent of pod lifecycle - Has capacity, access modes, reclaim policy"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-persistentvolumeclaim-pvc","title":"Q: What is a PersistentVolumeClaim (PVC)?","text":"Answer  Request for storage by a user: - Requests specific size and access mode - Binds to matching PV - Used by pods to mount storage"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-the-access-modes-for-pv","title":"Q: What are the access modes for PV?","text":"Answer  - **ReadWriteOnce (RWO)** - Single node read-write - **ReadOnlyMany (ROX)** - Multiple nodes read-only - **ReadWriteMany (RWX)** - Multiple nodes read-write - **ReadWriteOncePod (RWOP)** - Single pod read-write"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-storageclass","title":"Q: What is a StorageClass?","text":"Answer  Describes storage \"classes\" for dynamic provisioning: - Provisioner (e.g., kubernetes.io/aws-ebs) - Parameters (type, zone, etc.) - Reclaim policy - Volume binding mode"},{"location":"flashcards/kubernetes-concepts-flashcards/#configuration","title":"Configuration","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-configmap","title":"Q: What is a ConfigMap?","text":"Answer  Stores non-confidential configuration data: - Key-value pairs - Configuration files - Can be used as environment variables or volumes - Not encrypted"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-secret","title":"Q: What is a Secret?","text":"Answer  Stores sensitive data: - Passwords, tokens, keys - Base64 encoded (not encrypted by default) - Can be encrypted at rest - Used as env vars or volumes"},{"location":"flashcards/kubernetes-concepts-flashcards/#security","title":"Security","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-rbac","title":"Q: What is RBAC?","text":"Answer  Role-Based Access Control: - **Role** - Namespace-scoped permissions - **ClusterRole** - Cluster-scoped permissions - **RoleBinding** - Binds Role to users/groups - **ClusterRoleBinding** - Binds ClusterRole to users/groups"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-a-serviceaccount","title":"Q: What is a ServiceAccount?","text":"Answer  Identity for processes running in pods: - Provides authentication to API server - Can be assigned RBAC permissions - Token mounted in pods"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-pod-security-standards","title":"Q: What are Pod Security Standards?","text":"Answer  - **Privileged** - Unrestricted policy - **Baseline** - Minimally restrictive, prevents known escalations - **Restricted** - Heavily restricted, security best practices"},{"location":"flashcards/kubernetes-concepts-flashcards/#scheduling","title":"Scheduling","text":""},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-are-taints-and-tolerations","title":"Q: What are Taints and Tolerations?","text":"Answer  **Taints** - Applied to nodes, repel pods **Tolerations** - Applied to pods, allow scheduling on tainted nodes  Effects: - NoSchedule - Don't schedule - PreferNoSchedule - Try not to schedule - NoExecute - Evict existing pods"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-node-affinity","title":"Q: What is Node Affinity?","text":"Answer  Constrains pods to nodes with specific labels: - **requiredDuringSchedulingIgnoredDuringExecution** - Hard requirement - **preferredDuringSchedulingIgnoredDuringExecution** - Soft preference"},{"location":"flashcards/kubernetes-concepts-flashcards/#q-what-is-pod-affinityanti-affinity","title":"Q: What is Pod Affinity/Anti-Affinity?","text":"Answer  **Affinity** - Schedule pods together (same node/zone) **Anti-Affinity** - Schedule pods apart (different nodes/zones)  Use cases: - Co-locate related pods - Spread for high availability   <p>\u2190 Back to Home</p>"},{"location":"flashcards/promql-flashcards/","title":"PromQL Flashcards","text":"<p>Quick reference flashcards for Prometheus Query Language (PCA exam).</p>"},{"location":"flashcards/promql-flashcards/#basic-queries","title":"Basic Queries","text":""},{"location":"flashcards/promql-flashcards/#q-what-is-an-instant-vector","title":"Q: What is an instant vector?","text":"Answer  A set of time series with a single sample value at a given timestamp.  <pre><code>up\nhttp_requests_total{job=\"api\"}\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-what-is-a-range-vector","title":"Q: What is a range vector?","text":"Answer  A set of time series with a range of samples over time.  <pre><code>http_requests_total[5m]\nhttp_requests_total{job=\"api\"}[1h]\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-how-to-filter-by-label","title":"Q: How to filter by label?","text":"Answer <pre><code># Exact match\nup{job=\"prometheus\"}\n\n# Regex match\nup{job=~\"prom.*\"}\n\n# Not equal\nup{job!=\"prometheus\"}\n\n# Regex not match\nup{job!~\"test.*\"}\n</code></pre>"},{"location":"flashcards/promql-flashcards/#functions","title":"Functions","text":""},{"location":"flashcards/promql-flashcards/#q-what-is-rate","title":"Q: What is rate()?","text":"Answer  Per-second average rate of increase over time range.  <pre><code>rate(http_requests_total[5m])\n</code></pre>  Best for: Alerting, slow-moving counters"},{"location":"flashcards/promql-flashcards/#q-what-is-irate","title":"Q: What is irate()?","text":"Answer  Instant rate using last two data points.  <pre><code>irate(http_requests_total[5m])\n</code></pre>  Best for: Volatile, fast-moving counters, graphs"},{"location":"flashcards/promql-flashcards/#q-what-is-increase","title":"Q: What is increase()?","text":"Answer  Total increase over time range.  <pre><code>increase(http_requests_total[1h])\n</code></pre>  Returns: Absolute increase, not per-second"},{"location":"flashcards/promql-flashcards/#q-what-is-histogram_quantile","title":"Q: What is histogram_quantile()?","text":"Answer  Calculates quantile from histogram buckets.  <pre><code># 99th percentile\nhistogram_quantile(0.99, rate(http_request_duration_seconds_bucket[5m]))\n\n# 50th percentile (median)\nhistogram_quantile(0.50, rate(http_request_duration_seconds_bucket[5m]))\n</code></pre>"},{"location":"flashcards/promql-flashcards/#aggregation","title":"Aggregation","text":""},{"location":"flashcards/promql-flashcards/#q-how-to-sum-by-label","title":"Q: How to sum by label?","text":"Answer <pre><code>sum by (job) (rate(http_requests_total[5m]))\n\n# or\nsum(rate(http_requests_total[5m])) by (job)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-how-to-sum-without-label","title":"Q: How to sum without label?","text":"Answer <pre><code>sum without (instance) (rate(http_requests_total[5m]))\n</code></pre>  Aggregates across all instances"},{"location":"flashcards/promql-flashcards/#q-what-aggregation-operators-exist","title":"Q: What aggregation operators exist?","text":"Answer  - `sum` - Sum values - `avg` - Average - `min` / `max` - Minimum/Maximum - `count` - Count elements - `stddev` / `stdvar` - Standard deviation/variance - `topk` / `bottomk` - Top/Bottom K elements - `quantile` - Calculate quantile"},{"location":"flashcards/promql-flashcards/#operators","title":"Operators","text":""},{"location":"flashcards/promql-flashcards/#q-how-to-calculate-percentage","title":"Q: How to calculate percentage?","text":"Answer <pre><code># Error rate percentage\n100 * (\n  sum(rate(http_requests_total{status=~\"5..\"}[5m]))\n  /\n  sum(rate(http_requests_total[5m]))\n)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-how-to-compare-to-past","title":"Q: How to compare to past?","text":"Answer  Use `offset`:  <pre><code># Current vs 1 hour ago\nrate(http_requests_total[5m]) - rate(http_requests_total[5m] offset 1h)\n\n# Current vs 1 day ago\nrate(http_requests_total[5m]) / rate(http_requests_total[5m] offset 1d)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-what-comparison-operators-exist","title":"Q: What comparison operators exist?","text":"Answer  - `==` - Equal - `!=` - Not equal - `&gt;` / `&lt;` - Greater/Less than - `&gt;=` / `&lt;=` - Greater/Less than or equal  <pre><code># Filter where value &gt; 100\nhttp_requests_total &gt; 100\n\n# Return 1 or 0 (bool modifier)\nhttp_requests_total &gt; bool 100\n</code></pre>"},{"location":"flashcards/promql-flashcards/#common-patterns","title":"Common Patterns","text":""},{"location":"flashcards/promql-flashcards/#q-cpu-utilization-query","title":"Q: CPU utilization query?","text":"Answer <pre><code>100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-memory-utilization-query","title":"Q: Memory utilization query?","text":"Answer <pre><code>100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes))\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-disk-usage-query","title":"Q: Disk usage query?","text":"Answer <pre><code>100 - (node_filesystem_avail_bytes / node_filesystem_size_bytes * 100)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-request-latency-p99","title":"Q: Request latency P99?","text":"Answer <pre><code>histogram_quantile(0.99, \n  sum by (le) (rate(http_request_duration_seconds_bucket[5m]))\n)\n</code></pre>"},{"location":"flashcards/promql-flashcards/#recording-rules","title":"Recording Rules","text":""},{"location":"flashcards/promql-flashcards/#q-what-is-a-recording-rule","title":"Q: What is a recording rule?","text":"Answer  Pre-computed query stored as new time series: - Improves query performance - Simplifies complex queries - Naming convention: `level:metric:operations`  <pre><code>groups:\n- name: example\n  rules:\n  - record: job:http_requests:rate5m\n    expr: sum by (job) (rate(http_requests_total[5m]))\n</code></pre>"},{"location":"flashcards/promql-flashcards/#alerting-rules","title":"Alerting Rules","text":""},{"location":"flashcards/promql-flashcards/#q-what-is-an-alerting-rule","title":"Q: What is an alerting rule?","text":"Answer <pre><code>groups:\n- name: alerts\n  rules:\n  - alert: HighErrorRate\n    expr: rate(http_requests_total{status=\"500\"}[5m]) &gt; 0.1\n    for: 5m\n    labels:\n      severity: critical\n    annotations:\n      summary: \"High error rate detected\"\n</code></pre>"},{"location":"flashcards/promql-flashcards/#q-what-does-for-do-in-alerting","title":"Q: What does 'for' do in alerting?","text":"Answer  Duration the condition must be true before firing: - Prevents flapping alerts - Alert goes from PENDING to FIRING after duration   <p>\u2190 Back to Home</p>"},{"location":"flashcards/security-flashcards/","title":"Security Concepts Flashcards","text":"<p>Quick reference flashcards for Kubernetes security concepts (KCSA/CKS).</p>"},{"location":"flashcards/security-flashcards/#rbac","title":"RBAC","text":""},{"location":"flashcards/security-flashcards/#q-what-are-the-four-rbac-resources","title":"Q: What are the four RBAC resources?","text":"Answer  - **Role** - Namespace-scoped permissions - **ClusterRole** - Cluster-scoped permissions - **RoleBinding** - Binds Role to subjects in namespace - **ClusterRoleBinding** - Binds ClusterRole cluster-wide"},{"location":"flashcards/security-flashcards/#q-what-are-rbac-subjects","title":"Q: What are RBAC subjects?","text":"Answer  - **User** - Human user (external) - **Group** - Set of users - **ServiceAccount** - Pod identity"},{"location":"flashcards/security-flashcards/#q-what-verbs-are-available-in-rbac","title":"Q: What verbs are available in RBAC?","text":"Answer  - get, list, watch (read) - create, update, patch, delete (write) - deletecollection - use (for PodSecurityPolicies) - bind, escalate (for Roles)"},{"location":"flashcards/security-flashcards/#network-security","title":"Network Security","text":""},{"location":"flashcards/security-flashcards/#q-what-does-a-default-deny-networkpolicy-look-like","title":"Q: What does a default-deny NetworkPolicy look like?","text":"Answer <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"flashcards/security-flashcards/#q-what-are-the-networkpolicy-selectors","title":"Q: What are the NetworkPolicy selectors?","text":"Answer  - **podSelector** - Select pods by labels - **namespaceSelector** - Select namespaces by labels - **ipBlock** - Select IP CIDR ranges"},{"location":"flashcards/security-flashcards/#pod-security","title":"Pod Security","text":""},{"location":"flashcards/security-flashcards/#q-what-are-the-pod-security-standards","title":"Q: What are the Pod Security Standards?","text":"Answer  - **Privileged** - Unrestricted, no restrictions - **Baseline** - Minimally restrictive, prevents known escalations - **Restricted** - Heavily restricted, best practices"},{"location":"flashcards/security-flashcards/#q-what-security-context-fields-prevent-privilege-escalation","title":"Q: What security context fields prevent privilege escalation?","text":"Answer <pre><code>securityContext:\n  runAsNonRoot: true\n  runAsUser: 1000\n  allowPrivilegeEscalation: false\n  readOnlyRootFilesystem: true\n  capabilities:\n    drop:\n    - ALL\n</code></pre>"},{"location":"flashcards/security-flashcards/#q-what-is-a-privileged-container","title":"Q: What is a privileged container?","text":"Answer  A container with full access to host: - All capabilities - Access to all devices - Can modify host kernel - **Should be avoided in production**"},{"location":"flashcards/security-flashcards/#secrets-management","title":"Secrets Management","text":""},{"location":"flashcards/security-flashcards/#q-how-are-kubernetes-secrets-encoded","title":"Q: How are Kubernetes secrets encoded?","text":"Answer  Base64 encoded (NOT encrypted by default)  <pre><code># Encode\necho -n 'password' | base64\n\n# Decode\necho 'cGFzc3dvcmQ=' | base64 -d\n</code></pre>"},{"location":"flashcards/security-flashcards/#q-how-to-encrypt-secrets-at-rest","title":"Q: How to encrypt secrets at rest?","text":"Answer  Configure EncryptionConfiguration:  <pre><code>apiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n- resources:\n  - secrets\n  providers:\n  - aescbc:\n      keys:\n      - name: key1\n        secret: &lt;base64-key&gt;\n  - identity: {}\n</code></pre>"},{"location":"flashcards/security-flashcards/#image-security","title":"Image Security","text":""},{"location":"flashcards/security-flashcards/#q-what-is-image-scanning","title":"Q: What is image scanning?","text":"Answer  Analyzing container images for: - Known vulnerabilities (CVEs) - Misconfigurations - Malware - Compliance issues  Tools: Trivy, Clair, Anchore"},{"location":"flashcards/security-flashcards/#q-what-is-image-signing","title":"Q: What is image signing?","text":"Answer  Cryptographically signing images to verify: - Image authenticity - Image integrity - Publisher identity  Tools: Cosign, Notary"},{"location":"flashcards/security-flashcards/#runtime-security","title":"Runtime Security","text":""},{"location":"flashcards/security-flashcards/#q-what-is-falco","title":"Q: What is Falco?","text":"Answer  Cloud-native runtime security tool: - Detects abnormal behavior - Uses kernel-level system calls - Rule-based detection - Real-time alerts"},{"location":"flashcards/security-flashcards/#q-what-is-apparmor","title":"Q: What is AppArmor?","text":"Answer  Linux security module that: - Restricts program capabilities - Controls file access - Controls network access - Uses profiles (enforce/complain mode)"},{"location":"flashcards/security-flashcards/#q-what-is-seccomp","title":"Q: What is Seccomp?","text":"Answer  Secure Computing Mode: - Filters system calls - Reduces attack surface - Profiles define allowed syscalls - RuntimeDefault profile recommended"},{"location":"flashcards/security-flashcards/#supply-chain-security","title":"Supply Chain Security","text":""},{"location":"flashcards/security-flashcards/#q-what-is-sbom","title":"Q: What is SBOM?","text":"Answer  Software Bill of Materials: - List of all components in software - Dependencies and versions - Licenses - Helps track vulnerabilities"},{"location":"flashcards/security-flashcards/#q-what-are-the-4cs-of-cloud-native-security","title":"Q: What are the 4Cs of Cloud Native Security?","text":"Answer  - **Cloud** - Infrastructure security - **Cluster** - Kubernetes security - **Container** - Image and runtime security - **Code** - Application security"},{"location":"flashcards/security-flashcards/#audit-logging","title":"Audit Logging","text":""},{"location":"flashcards/security-flashcards/#q-what-are-the-audit-log-levels","title":"Q: What are the audit log levels?","text":"Answer  - **None** - Don't log - **Metadata** - Log request metadata only - **Request** - Log metadata + request body - **RequestResponse** - Log metadata + request + response"},{"location":"flashcards/security-flashcards/#q-what-stages-are-logged","title":"Q: What stages are logged?","text":"Answer  - **RequestReceived** - When request is received - **ResponseStarted** - Response headers sent - **ResponseComplete** - Response body sent - **Panic** - Panic occurred   <p>\u2190 Back to Home</p>"},{"location":"ica/","title":"ICA - Istio Certified Associate","text":"<p>The Istio Certified Associate (ICA) exam demonstrates a candidate's knowledge of Istio service mesh concepts and practical skills.</p>"},{"location":"ica/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"ica/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Istio Installation, Upgrade &amp; Configuration 7% Traffic Management 40% Resiliency and Fault Injection 10% Securing Workloads 20% Advanced Scenarios 13% Observability 10%"},{"location":"ica/#key-topics","title":"Key Topics","text":""},{"location":"ica/#traffic-management","title":"Traffic Management","text":"<ul> <li>Virtual Services and Destination Rules</li> <li>Gateways (Ingress/Egress)</li> <li>Traffic shifting and mirroring</li> <li>Request routing</li> </ul>"},{"location":"ica/#security","title":"Security","text":"<ul> <li>mTLS configuration</li> <li>Authorization policies</li> <li>Peer and request authentication</li> <li>Certificate management</li> </ul>"},{"location":"ica/#observability","title":"Observability","text":"<ul> <li>Metrics with Prometheus</li> <li>Distributed tracing</li> <li>Access logging</li> <li>Kiali dashboard</li> </ul>"},{"location":"ica/#study-resources","title":"Study Resources","text":"<ul> <li>Istio Documentation</li> <li>ICA Curriculum</li> <li>Istio by Example</li> </ul>"},{"location":"ica/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"ica/01-istio-architecture/","title":"Istio Architecture","text":"<p>Comprehensive guide to Istio service mesh architecture for ICA certification.</p>"},{"location":"ica/01-istio-architecture/#overview","title":"Overview","text":"<p>Istio is an open-source service mesh that provides:</p> <ul> <li>Traffic Management - Control traffic flow between services</li> <li>Security - Secure service-to-service communication</li> <li>Observability - Monitor and trace requests</li> <li>Policy Enforcement - Apply policies consistently</li> </ul>"},{"location":"ica/01-istio-architecture/#architecture-components","title":"Architecture Components","text":""},{"location":"ica/01-istio-architecture/#control-plane-istiod","title":"Control Plane (istiod)","text":"<p>The control plane is consolidated into a single binary called istiod:</p> <ul> <li>Pilot - Service discovery, traffic management configuration</li> <li>Citadel - Certificate management, identity</li> <li>Galley - Configuration validation and distribution</li> </ul>"},{"location":"ica/01-istio-architecture/#data-plane","title":"Data Plane","text":"<ul> <li>Envoy Proxies - Sidecar proxies deployed with each service</li> <li>Intercept all network traffic</li> <li>Apply policies and collect telemetry</li> </ul>"},{"location":"ica/01-istio-architecture/#traffic-flow","title":"Traffic Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Control Plane                       \u2502\n\u2502                        (istiod)                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502  \u2502  Pilot  \u2502  \u2502 Citadel \u2502  \u2502 Galley  \u2502                 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u2502 Configuration\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       Data Plane                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502   Service A  \u2502          \u2502   Service B  \u2502            \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  mTLS    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502            \u2502\n\u2502  \u2502  \u2502 Envoy  \u2502\u25c4\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u25ba\u2502 Envoy  \u2502  \u2502            \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502          \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ica/01-istio-architecture/#installation","title":"Installation","text":""},{"location":"ica/01-istio-architecture/#using-istioctl","title":"Using istioctl","text":"<pre><code># Download Istio\ncurl -L https://istio.io/downloadIstio | sh -\ncd istio-*\nexport PATH=$PWD/bin:$PATH\n\n# Install with default profile\nistioctl install --set profile=default -y\n\n# Install with demo profile (includes more features)\nistioctl install --set profile=demo -y\n\n# Verify installation\nistioctl verify-install\n</code></pre>"},{"location":"ica/01-istio-architecture/#installation-profiles","title":"Installation Profiles","text":"Profile Description default Production deployment demo Full features for learning minimal Minimal control plane remote Remote cluster in multicluster empty Nothing installed"},{"location":"ica/01-istio-architecture/#sidecar-injection","title":"Sidecar Injection","text":""},{"location":"ica/01-istio-architecture/#automatic-injection","title":"Automatic Injection","text":"<pre><code># Label namespace for automatic injection\nkubectl label namespace default istio-injection=enabled\n\n# Verify label\nkubectl get namespace -L istio-injection\n</code></pre>"},{"location":"ica/01-istio-architecture/#manual-injection","title":"Manual Injection","text":"<pre><code># Inject sidecar manually\nistioctl kube-inject -f deployment.yaml | kubectl apply -f -\n</code></pre>"},{"location":"ica/01-istio-architecture/#core-resources","title":"Core Resources","text":""},{"location":"ica/01-istio-architecture/#virtualservice","title":"VirtualService","text":"<p>Controls traffic routing:</p> <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: reviews-route\nspec:\n  hosts:\n  - reviews\n  http:\n  - match:\n    - headers:\n        end-user:\n          exact: jason\n    route:\n    - destination:\n        host: reviews\n        subset: v2\n  - route:\n    - destination:\n        host: reviews\n        subset: v1\n</code></pre>"},{"location":"ica/01-istio-architecture/#destinationrule","title":"DestinationRule","text":"<p>Defines policies for traffic after routing:</p> <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: reviews-destination\nspec:\n  host: reviews\n  trafficPolicy:\n    connectionPool:\n      tcp:\n        maxConnections: 100\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n</code></pre>"},{"location":"ica/01-istio-architecture/#gateway","title":"Gateway","text":"<p>Manages inbound/outbound traffic:</p> <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: Gateway\nmetadata:\n  name: my-gateway\nspec:\n  selector:\n    istio: ingressgateway\n  servers:\n  - port:\n      number: 80\n      name: http\n      protocol: HTTP\n    hosts:\n    - \"*.example.com\"\n</code></pre>"},{"location":"ica/01-istio-architecture/#serviceentry","title":"ServiceEntry","text":"<p>Adds external services to mesh:</p> <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: ServiceEntry\nmetadata:\n  name: external-api\nspec:\n  hosts:\n  - api.external.com\n  ports:\n  - number: 443\n    name: https\n    protocol: HTTPS\n  resolution: DNS\n  location: MESH_EXTERNAL\n</code></pre>"},{"location":"ica/01-istio-architecture/#security","title":"Security","text":""},{"location":"ica/01-istio-architecture/#peerauthentication","title":"PeerAuthentication","text":"<pre><code>apiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: istio-system\nspec:\n  mtls:\n    mode: STRICT\n</code></pre>"},{"location":"ica/01-istio-architecture/#authorizationpolicy","title":"AuthorizationPolicy","text":"<pre><code>apiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: allow-read\n  namespace: default\nspec:\n  selector:\n    matchLabels:\n      app: myapp\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n        principals: [\"cluster.local/ns/default/sa/frontend\"]\n    to:\n    - operation:\n        methods: [\"GET\"]\n</code></pre>"},{"location":"ica/01-istio-architecture/#observability","title":"Observability","text":""},{"location":"ica/01-istio-architecture/#kiali-dashboard","title":"Kiali Dashboard","text":"<pre><code># Install Kiali\nkubectl apply -f samples/addons/kiali.yaml\n\n# Access dashboard\nistioctl dashboard kiali\n</code></pre>"},{"location":"ica/01-istio-architecture/#jaeger-tracing","title":"Jaeger Tracing","text":"<pre><code># Install Jaeger\nkubectl apply -f samples/addons/jaeger.yaml\n\n# Access dashboard\nistioctl dashboard jaeger\n</code></pre>"},{"location":"ica/01-istio-architecture/#prometheus-grafana","title":"Prometheus &amp; Grafana","text":"<pre><code># Install addons\nkubectl apply -f samples/addons/prometheus.yaml\nkubectl apply -f samples/addons/grafana.yaml\n\n# Access dashboards\nistioctl dashboard prometheus\nistioctl dashboard grafana\n</code></pre>"},{"location":"ica/01-istio-architecture/#useful-commands","title":"Useful Commands","text":"<pre><code># Check proxy status\nistioctl proxy-status\n\n# Analyze configuration\nistioctl analyze\n\n# Debug proxy\nistioctl proxy-config clusters &lt;pod-name&gt;\nistioctl proxy-config routes &lt;pod-name&gt;\nistioctl proxy-config listeners &lt;pod-name&gt;\n\n# View mesh configuration\nistioctl manifest generate --set profile=demo\n</code></pre> <p>\u2190 Back to ICA Overview</p>"},{"location":"ica/sample-questions/","title":"ICA Sample Practice Questions","text":""},{"location":"ica/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Istio Documentation</li> <li>Istio by Example</li> <li>Killercoda Istio Scenarios</li> </ul>"},{"location":"ica/sample-questions/#traffic-management-40","title":"Traffic Management (40%)","text":""},{"location":"ica/sample-questions/#question-1","title":"Question 1","text":"<p>Create a VirtualService that routes 80% of traffic to v1 and 20% to v2 of the reviews service.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: reviews\nspec:\n  hosts:\n  - reviews\n  http:\n  - route:\n    - destination:\n        host: reviews\n        subset: v1\n      weight: 80\n    - destination:\n        host: reviews\n        subset: v2\n      weight: 20\n</code></pre>"},{"location":"ica/sample-questions/#question-2","title":"Question 2","text":"<p>Create a DestinationRule that defines subsets v1 and v2 based on version labels.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: reviews\nspec:\n  host: reviews\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n</code></pre>"},{"location":"ica/sample-questions/#question-3","title":"Question 3","text":"<p>Create an Istio Gateway for incoming HTTPS traffic on port 443.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: Gateway\nmetadata:\n  name: my-gateway\nspec:\n  selector:\n    istio: ingressgateway\n  servers:\n  - port:\n      number: 443\n      name: https\n      protocol: HTTPS\n    tls:\n      mode: SIMPLE\n      credentialName: my-tls-secret\n    hosts:\n    - \"*.example.com\"\n</code></pre>"},{"location":"ica/sample-questions/#question-4","title":"Question 4","text":"<p>Configure request timeout of 10 seconds for the ratings service.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: ratings\nspec:\n  hosts:\n  - ratings\n  http:\n  - timeout: 10s\n    route:\n    - destination:\n        host: ratings\n</code></pre>"},{"location":"ica/sample-questions/#securing-workloads-20","title":"Securing Workloads (20%)","text":""},{"location":"ica/sample-questions/#question-5","title":"Question 5","text":"<p>Enable strict mTLS for the entire mesh.</p> Show Solution <pre><code>apiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: istio-system\nspec:\n  mtls:\n    mode: STRICT\n</code></pre>"},{"location":"ica/sample-questions/#question-6","title":"Question 6","text":"<p>Create an AuthorizationPolicy that only allows GET requests from the frontend service.</p> Show Solution <pre><code>apiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: allow-frontend-get\nspec:\n  selector:\n    matchLabels:\n      app: backend\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n        principals: [\"cluster.local/ns/default/sa/frontend\"]\n    to:\n    - operation:\n        methods: [\"GET\"]\n</code></pre>"},{"location":"ica/sample-questions/#question-7","title":"Question 7","text":"<p>Configure JWT authentication for a service.</p> Show Solution <pre><code>apiVersion: security.istio.io/v1beta1\nkind: RequestAuthentication\nmetadata:\n  name: jwt-auth\nspec:\n  selector:\n    matchLabels:\n      app: httpbin\n  jwtRules:\n  - issuer: \"https://example.com\"\n    jwksUri: \"https://example.com/.well-known/jwks.json\"\n</code></pre>"},{"location":"ica/sample-questions/#resiliency-and-fault-injection-10","title":"Resiliency and Fault Injection (10%)","text":""},{"location":"ica/sample-questions/#question-8","title":"Question 8","text":"<p>Inject a 5-second delay for 50% of requests to the ratings service.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: ratings\nspec:\n  hosts:\n  - ratings\n  http:\n  - fault:\n      delay:\n        percentage:\n          value: 50\n        fixedDelay: 5s\n    route:\n    - destination:\n        host: ratings\n</code></pre>"},{"location":"ica/sample-questions/#question-9","title":"Question 9","text":"<p>Configure circuit breaker with max 100 connections and 1000 pending requests.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: reviews\nspec:\n  host: reviews\n  trafficPolicy:\n    connectionPool:\n      tcp:\n        maxConnections: 100\n      http:\n        h2UpgradePolicy: UPGRADE\n        http1MaxPendingRequests: 1000\n    outlierDetection:\n      consecutive5xxErrors: 5\n      interval: 30s\n      baseEjectionTime: 30s\n</code></pre>"},{"location":"ica/sample-questions/#question-10","title":"Question 10","text":"<p>Inject HTTP 503 errors for 10% of requests.</p> Show Solution <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: ratings\nspec:\n  hosts:\n  - ratings\n  http:\n  - fault:\n      abort:\n        percentage:\n          value: 10\n        httpStatus: 503\n    route:\n    - destination:\n        host: ratings\n</code></pre>"},{"location":"ica/sample-questions/#observability-10","title":"Observability (10%)","text":""},{"location":"ica/sample-questions/#question-11","title":"Question 11","text":"<p>What are the three pillars of observability in Istio?</p> Show Solution  1. **Metrics** - Collected by Prometheus, visualized in Grafana 2. **Distributed Tracing** - Using Jaeger or Zipkin 3. **Access Logs** - Envoy access logs for debugging"},{"location":"ica/sample-questions/#question-12","title":"Question 12","text":"<p>How do you enable access logging in Istio?</p> Show Solution <pre><code>apiVersion: telemetry.istio.io/v1alpha1\nkind: Telemetry\nmetadata:\n  name: mesh-default\n  namespace: istio-system\nspec:\n  accessLogging:\n  - providers:\n    - name: envoy\n</code></pre>  Or via IstioOperator: <pre><code>spec:\n  meshConfig:\n    accessLogFile: /dev/stdout\n</code></pre>"},{"location":"ica/sample-questions/#installation-configuration-7","title":"Installation &amp; Configuration (7%)","text":""},{"location":"ica/sample-questions/#question-13","title":"Question 13","text":"<p>Install Istio with the demo profile using istioctl.</p> Show Solution <pre><code>istioctl install --set profile=demo -y\n</code></pre>"},{"location":"ica/sample-questions/#question-14","title":"Question 14","text":"<p>Enable automatic sidecar injection for a namespace.</p> Show Solution <pre><code>kubectl label namespace default istio-injection=enabled\n</code></pre>"},{"location":"ica/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know VirtualService and DestinationRule - These are heavily tested</li> <li>Understand mTLS modes - STRICT, PERMISSIVE, DISABLE</li> <li>Practice traffic management - Routing, splitting, mirroring</li> <li>Know AuthorizationPolicy - ALLOW, DENY, CUSTOM actions</li> <li>Understand fault injection - Delays and aborts</li> </ol> <p>\u2190 Back to ICA Overview</p>"},{"location":"kca/","title":"KCA - Kyverno Certified Associate","text":"<p>The Kyverno Certified Associate (KCA) exam demonstrates knowledge of Kubernetes policy management using Kyverno.</p>"},{"location":"kca/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"kca/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Fundamentals 15% Policy Authoring 30% Policy Application 20% Policy Operations 15% Advanced Policy Concepts 20%"},{"location":"kca/#key-topics","title":"Key Topics","text":""},{"location":"kca/#policy-types","title":"Policy Types","text":"<ul> <li>Validation policies</li> <li>Mutation policies</li> <li>Generation policies</li> <li>Image verification</li> </ul>"},{"location":"kca/#policy-features","title":"Policy Features","text":"<ul> <li>Match and exclude</li> <li>Preconditions</li> <li>Variables and context</li> <li>Background scanning</li> </ul>"},{"location":"kca/#study-resources","title":"Study Resources","text":"<ul> <li>Kyverno Documentation</li> <li>KCA Curriculum</li> <li>Kyverno Playground</li> </ul>"},{"location":"kca/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"kca/01-kyverno-fundamentals/","title":"Kyverno Fundamentals","text":"<p>Comprehensive guide to Kyverno policy engine for KCA certification.</p>"},{"location":"kca/01-kyverno-fundamentals/#overview","title":"Overview","text":"<p>Kyverno is a Kubernetes-native policy engine that can:</p> <ul> <li>Validate - Ensure resources meet requirements</li> <li>Mutate - Modify resources automatically</li> <li>Generate - Create additional resources</li> <li>Verify Images - Check image signatures</li> </ul>"},{"location":"kca/01-kyverno-fundamentals/#installation","title":"Installation","text":"<pre><code># Using kubectl\nkubectl create -f https://github.com/kyverno/kyverno/releases/download/v1.10.0/install.yaml\n\n# Using Helm\nhelm repo add kyverno https://kyverno.github.io/kyverno/\nhelm install kyverno kyverno/kyverno -n kyverno --create-namespace\n\n# Verify\nkubectl get pods -n kyverno\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#policy-structure","title":"Policy Structure","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: policy-name\nspec:\n  validationFailureAction: Enforce  # or Audit\n  background: true\n  rules:\n  - name: rule-name\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Error message\"\n      pattern:\n        spec:\n          containers:\n          - name: \"*\"\n            resources:\n              limits:\n                memory: \"?*\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#validation-policies","title":"Validation Policies","text":""},{"location":"kca/01-kyverno-fundamentals/#require-labels","title":"Require Labels","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-labels\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-team-label\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Label 'team' is required\"\n      pattern:\n        metadata:\n          labels:\n            team: \"?*\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#require-resource-limits","title":"Require Resource Limits","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-limits\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: validate-resources\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"CPU and memory limits are required\"\n      pattern:\n        spec:\n          containers:\n          - resources:\n              limits:\n                memory: \"?*\"\n                cpu: \"?*\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#disallow-privileged-containers","title":"Disallow Privileged Containers","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: disallow-privileged\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: deny-privileged\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Privileged containers are not allowed\"\n      pattern:\n        spec:\n          containers:\n          - securityContext:\n              privileged: \"!true\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#mutation-policies","title":"Mutation Policies","text":""},{"location":"kca/01-kyverno-fundamentals/#add-default-labels","title":"Add Default Labels","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: add-labels\nspec:\n  rules:\n  - name: add-default-labels\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    mutate:\n      patchStrategicMerge:\n        metadata:\n          labels:\n            app.kubernetes.io/managed-by: kyverno\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#add-resource-defaults","title":"Add Resource Defaults","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: add-default-resources\nspec:\n  rules:\n  - name: add-default-requests\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    mutate:\n      patchStrategicMerge:\n        spec:\n          containers:\n          - (name): \"*\"\n            resources:\n              requests:\n                memory: \"64Mi\"\n                cpu: \"100m\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#add-sidecar","title":"Add Sidecar","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: add-sidecar\nspec:\n  rules:\n  - name: inject-sidecar\n    match:\n      any:\n      - resources:\n          kinds:\n          - Deployment\n          selector:\n            matchLabels:\n              inject-sidecar: \"true\"\n    mutate:\n      patchStrategicMerge:\n        spec:\n          template:\n            spec:\n              containers:\n              - name: sidecar\n                image: busybox\n                command: ['sh', '-c', 'sleep infinity']\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#generate-policies","title":"Generate Policies","text":""},{"location":"kca/01-kyverno-fundamentals/#generate-networkpolicy","title":"Generate NetworkPolicy","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: generate-netpol\nspec:\n  rules:\n  - name: generate-default-deny\n    match:\n      any:\n      - resources:\n          kinds:\n          - Namespace\n    generate:\n      apiVersion: networking.k8s.io/v1\n      kind: NetworkPolicy\n      name: default-deny\n      namespace: \"{{request.object.metadata.name}}\"\n      data:\n        spec:\n          podSelector: {}\n          policyTypes:\n          - Ingress\n          - Egress\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#generate-resourcequota","title":"Generate ResourceQuota","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: generate-quota\nspec:\n  rules:\n  - name: generate-resourcequota\n    match:\n      any:\n      - resources:\n          kinds:\n          - Namespace\n    generate:\n      apiVersion: v1\n      kind: ResourceQuota\n      name: default-quota\n      namespace: \"{{request.object.metadata.name}}\"\n      data:\n        spec:\n          hard:\n            pods: \"10\"\n            requests.cpu: \"4\"\n            requests.memory: \"8Gi\"\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#image-verification","title":"Image Verification","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: verify-images\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: verify-signature\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    verifyImages:\n    - imageReferences:\n      - \"myregistry.io/*\"\n      attestors:\n      - entries:\n        - keys:\n            publicKeys: |-\n              -----BEGIN PUBLIC KEY-----\n              ...\n              -----END PUBLIC KEY-----\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#policy-reports","title":"Policy Reports","text":"<pre><code># View policy reports\nkubectl get policyreport -A\nkubectl get clusterpolicyreport\n\n# Describe report\nkubectl describe policyreport -n default\n</code></pre>"},{"location":"kca/01-kyverno-fundamentals/#useful-commands","title":"Useful Commands","text":"<pre><code># List policies\nkubectl get clusterpolicy\nkubectl get policy -A\n\n# Test policy\nkubectl apply -f policy.yaml --dry-run=server\n\n# View policy details\nkubectl describe clusterpolicy require-labels\n\n# Check admission controller\nkubectl get validatingwebhookconfiguration\nkubectl get mutatingwebhookconfiguration\n</code></pre> <p>\u2190 Back to KCA Overview</p>"},{"location":"kca/sample-questions/","title":"KCA Sample Practice Questions","text":""},{"location":"kca/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Kyverno Documentation</li> <li>Kyverno Playground</li> </ul>"},{"location":"kca/sample-questions/#fundamentals-15","title":"Fundamentals (15%)","text":""},{"location":"kca/sample-questions/#question-1","title":"Question 1","text":"<p>What are the main policy types in Kyverno?</p> Show Solution  1. **Validate** - Check resources against rules, block non-compliant 2. **Mutate** - Modify resources automatically 3. **Generate** - Create additional resources 4. **VerifyImages** - Verify container image signatures"},{"location":"kca/sample-questions/#question-2","title":"Question 2","text":"<p>What is the difference between ClusterPolicy and Policy?</p> Show Solution  - **ClusterPolicy** - Cluster-scoped, applies to all namespaces - **Policy** - Namespace-scoped, applies only to its namespace  <pre><code># ClusterPolicy - cluster-wide\napiVersion: kyverno.io/v1\nkind: ClusterPolicy\n\n# Policy - namespace-scoped\napiVersion: kyverno.io/v1\nkind: Policy\nmetadata:\n  namespace: my-namespace\n</code></pre>"},{"location":"kca/sample-questions/#policy-authoring-30","title":"Policy Authoring (30%)","text":""},{"location":"kca/sample-questions/#question-3","title":"Question 3","text":"<p>Create a validation policy that requires all pods to have resource limits.</p> Show Solution <pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-limits\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-limits\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Resource limits are required\"\n      pattern:\n        spec:\n          containers:\n          - resources:\n              limits:\n                memory: \"?*\"\n                cpu: \"?*\"\n</code></pre>"},{"location":"kca/sample-questions/#question-4","title":"Question 4","text":"<p>Create a mutation policy that adds a default label to all pods.</p> Show Solution <pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: add-default-label\nspec:\n  rules:\n  - name: add-team-label\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    mutate:\n      patchStrategicMerge:\n        metadata:\n          labels:\n            team: default\n</code></pre>"},{"location":"kca/sample-questions/#question-5","title":"Question 5","text":"<p>Create a policy that generates a NetworkPolicy for each new namespace.</p> Show Solution <pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: generate-netpol\nspec:\n  rules:\n  - name: generate-default-deny\n    match:\n      any:\n      - resources:\n          kinds:\n          - Namespace\n    generate:\n      apiVersion: networking.k8s.io/v1\n      kind: NetworkPolicy\n      name: default-deny\n      namespace: \"{{request.object.metadata.name}}\"\n      data:\n        spec:\n          podSelector: {}\n          policyTypes:\n          - Ingress\n          - Egress\n</code></pre>"},{"location":"kca/sample-questions/#question-6","title":"Question 6","text":"<p>Create a policy to verify image signatures using cosign.</p> Show Solution <pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: verify-images\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: verify-signature\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    verifyImages:\n    - imageReferences:\n      - \"ghcr.io/myorg/*\"\n      attestors:\n      - entries:\n        - keys:\n            publicKeys: |\n              -----BEGIN PUBLIC KEY-----\n              ...\n              -----END PUBLIC KEY-----\n</code></pre>"},{"location":"kca/sample-questions/#policy-application-20","title":"Policy Application (20%)","text":""},{"location":"kca/sample-questions/#question-7","title":"Question 7","text":"<p>What is the difference between Enforce and Audit modes?</p> Show Solution  - **Enforce** - Block non-compliant resources from being created - **Audit** - Allow resources but report violations in policy reports  <pre><code>spec:\n  validationFailureAction: Enforce  # Block violations\n  # or\n  validationFailureAction: Audit    # Report only\n</code></pre>  Use Audit mode for testing policies before enforcement."},{"location":"kca/sample-questions/#question-8","title":"Question 8","text":"<p>How do you exclude certain resources from a policy?</p> Show Solution <pre><code>spec:\n  rules:\n  - name: my-rule\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    exclude:\n      any:\n      - resources:\n          namespaces:\n          - kube-system\n      - resources:\n          selector:\n            matchLabels:\n              skip-policy: \"true\"\n</code></pre>"},{"location":"kca/sample-questions/#question-9","title":"Question 9","text":"<p>How do you use preconditions in a policy?</p> Show Solution <pre><code>spec:\n  rules:\n  - name: check-image-tag\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    preconditions:\n      all:\n      - key: \"{{request.operation}}\"\n        operator: NotEquals\n        value: DELETE\n      - key: \"{{request.object.metadata.labels.environment}}\"\n        operator: Equals\n        value: production\n    validate:\n      message: \"Production pods must use specific tags\"\n      pattern:\n        spec:\n          containers:\n          - image: \"*/myapp:v*\"\n</code></pre>"},{"location":"kca/sample-questions/#policy-operations-15","title":"Policy Operations (15%)","text":""},{"location":"kca/sample-questions/#question-10","title":"Question 10","text":"<p>How do you view policy reports?</p> Show Solution <pre><code># View cluster-wide policy reports\nkubectl get clusterpolicyreport\n\n# View namespace policy reports\nkubectl get policyreport -n my-namespace\n\n# Get detailed report\nkubectl get policyreport -n my-namespace -o yaml\n\n# Check specific policy violations\nkubectl get policyreport -A -o jsonpath='{.items[*].results[?(@.result==\"fail\")]}'\n</code></pre>"},{"location":"kca/sample-questions/#question-11","title":"Question 11","text":"<p>How do you troubleshoot a policy that isn't working?</p> Show Solution <pre><code># Check policy status\nkubectl get clusterpolicy my-policy -o yaml\n\n# Check Kyverno logs\nkubectl logs -n kyverno -l app.kubernetes.io/name=kyverno\n\n# Test policy with dry-run\nkubectl apply -f pod.yaml --dry-run=server\n\n# Use Kyverno CLI to test\nkyverno apply policy.yaml --resource pod.yaml\n</code></pre>"},{"location":"kca/sample-questions/#advanced-concepts-20","title":"Advanced Concepts (20%)","text":""},{"location":"kca/sample-questions/#question-12","title":"Question 12","text":"<p>How do you use variables and context in policies?</p> Show Solution <pre><code>spec:\n  rules:\n  - name: use-variables\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    context:\n    - name: allowedRegistries\n      configMap:\n        name: allowed-registries\n        namespace: kyverno\n    validate:\n      message: \"Image must be from allowed registry\"\n      deny:\n        conditions:\n          any:\n          - key: \"{{request.object.spec.containers[0].image}}\"\n            operator: AnyNotIn\n            value: \"{{allowedRegistries.data.registries}}\"\n</code></pre>"},{"location":"kca/sample-questions/#question-13","title":"Question 13","text":"<p>How do you use JMESPath expressions in Kyverno?</p> Show Solution <pre><code>spec:\n  rules:\n  - name: check-labels\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Missing required labels\"\n      deny:\n        conditions:\n          any:\n          - key: \"{{ request.object.metadata.labels | keys(@) | length(@) }}\"\n            operator: LessThan\n            value: 2\n</code></pre>  Common JMESPath functions: - `length()` - Get array/string length - `keys()` - Get object keys - `contains()` - Check if array contains value - `to_string()` - Convert to string"},{"location":"kca/sample-questions/#question-14","title":"Question 14","text":"<p>Create a policy that validates pod security based on namespace labels.</p> Show Solution <pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: enforce-pod-security\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: restricted-namespace\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n          namespaceSelector:\n            matchLabels:\n              security: restricted\n    validate:\n      message: \"Pods in restricted namespaces must run as non-root\"\n      pattern:\n        spec:\n          securityContext:\n            runAsNonRoot: true\n          containers:\n          - securityContext:\n              allowPrivilegeEscalation: false\n</code></pre>"},{"location":"kca/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know policy types - Validate, Mutate, Generate, VerifyImages</li> <li>Understand match/exclude - How to target specific resources</li> <li>Practice pattern matching - Wildcards, anchors, operators</li> <li>Know validation modes - Enforce vs Audit</li> <li>Understand policy reports - How to view and interpret</li> </ol> <p>\u2190 Back to KCA Overview</p>"},{"location":"kcna/","title":"KCNA - Kubernetes and Cloud Native Associate","text":"<p>The Kubernetes and Cloud Native Associate (KCNA) exam demonstrates a user's foundational knowledge and skills in Kubernetes and the wider cloud native ecosystem.</p>"},{"location":"kcna/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"kcna/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Kubernetes Fundamentals 46% Container Orchestration 22% Cloud Native Architecture 16% Cloud Native Observability 8% Cloud Native Application Delivery 8%"},{"location":"kcna/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Linux command line</li> <li>Familiarity with containers (Docker)</li> <li>General IT knowledge</li> </ul>"},{"location":"kcna/#study-resources","title":"Study Resources","text":""},{"location":"kcna/#official-resources","title":"Official Resources","text":"<ul> <li>KCNA Exam Curriculum</li> <li>Kubernetes Documentation</li> <li>CNCF Landscape</li> </ul>"},{"location":"kcna/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Kubernetes and Cloud Native Essentials (LFS250)</li> <li>Introduction to Kubernetes (LFS158)</li> </ul>"},{"location":"kcna/#practice-resources","title":"Practice Resources","text":"<ul> <li>Kubernetes Basics Tutorial</li> <li>Play with Kubernetes</li> </ul>"},{"location":"kcna/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>01 - Kubernetes Fundamentals</li> <li>02 - Container Orchestration</li> <li>03 - Cloud Native Architecture</li> <li>04 - Cloud Native Observability</li> <li>05 - Cloud Native Application Delivery</li> <li>Sample Practice Questions</li> </ul>"},{"location":"kcna/#exam-tips","title":"Exam Tips","text":"<ol> <li>Understand the basics - This is a foundational exam, focus on concepts</li> <li>Know the CNCF ecosystem - Understand graduated, incubating, and sandbox projects</li> <li>Review Kubernetes architecture - Control plane, worker nodes, and components</li> <li>Practice with kubectl - Even though it's multiple choice, hands-on helps understanding</li> <li>Time management - 90 seconds per question on average</li> </ol>"},{"location":"kcna/#registration","title":"Registration","text":"<p>Register for KCNA Exam</p>"},{"location":"kcna/01-kubernetes-fundamentals/","title":"Kubernetes Fundamentals (46%)","text":"<p>This domain covers the core concepts of Kubernetes and represents the largest portion of the KCNA exam.</p>"},{"location":"kcna/01-kubernetes-fundamentals/#kubernetes-architecture","title":"Kubernetes Architecture","text":""},{"location":"kcna/01-kubernetes-fundamentals/#control-plane-components","title":"Control Plane Components","text":"Component Description kube-apiserver Front-end for the Kubernetes control plane, exposes the Kubernetes API etcd Consistent and highly-available key-value store for cluster data kube-scheduler Watches for newly created Pods and assigns them to nodes kube-controller-manager Runs controller processes (Node, Job, EndpointSlice, ServiceAccount) cloud-controller-manager Embeds cloud-specific control logic"},{"location":"kcna/01-kubernetes-fundamentals/#node-components","title":"Node Components","text":"Component Description kubelet Agent that runs on each node, ensures containers are running in a Pod kube-proxy Network proxy that maintains network rules on nodes Container Runtime Software responsible for running containers (containerd, CRI-O)"},{"location":"kcna/01-kubernetes-fundamentals/#kubernetes-objects","title":"Kubernetes Objects","text":""},{"location":"kcna/01-kubernetes-fundamentals/#workload-resources","title":"Workload Resources","text":""},{"location":"kcna/01-kubernetes-fundamentals/#pod","title":"Pod","text":"<p>The smallest deployable unit in Kubernetes.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.21\n    ports:\n    - containerPort: 80\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#deployment","title":"Deployment","text":"<p>Manages ReplicaSets and provides declarative updates for Pods.</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.21\n        ports:\n        - containerPort: 80\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#replicaset","title":"ReplicaSet","text":"<p>Maintains a stable set of replica Pods running at any given time.</p>"},{"location":"kcna/01-kubernetes-fundamentals/#statefulset","title":"StatefulSet","text":"<p>Manages stateful applications with unique network identifiers and persistent storage.</p>"},{"location":"kcna/01-kubernetes-fundamentals/#daemonset","title":"DaemonSet","text":"<p>Ensures all (or some) nodes run a copy of a Pod.</p>"},{"location":"kcna/01-kubernetes-fundamentals/#job-cronjob","title":"Job &amp; CronJob","text":"<ul> <li>Job: Creates one or more Pods and ensures they successfully terminate</li> <li>CronJob: Creates Jobs on a repeating schedule</li> </ul>"},{"location":"kcna/01-kubernetes-fundamentals/#service-networking","title":"Service &amp; Networking","text":""},{"location":"kcna/01-kubernetes-fundamentals/#service-types","title":"Service Types","text":"Type Description ClusterIP Exposes the Service on a cluster-internal IP (default) NodePort Exposes the Service on each Node's IP at a static port LoadBalancer Exposes the Service externally using a cloud provider's load balancer ExternalName Maps the Service to a DNS name <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-service\nspec:\n  selector:\n    app: nginx\n  ports:\n  - port: 80\n    targetPort: 80\n  type: ClusterIP\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#ingress","title":"Ingress","text":"<p>Manages external access to services, typically HTTP/HTTPS.</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: nginx-ingress\nspec:\n  rules:\n  - host: example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: nginx-service\n            port:\n              number: 80\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#configuration","title":"Configuration","text":""},{"location":"kcna/01-kubernetes-fundamentals/#configmap","title":"ConfigMap","text":"<p>Stores non-confidential configuration data in key-value pairs.</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  DATABASE_HOST: \"mysql.default.svc.cluster.local\"\n  LOG_LEVEL: \"info\"\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#secret","title":"Secret","text":"<p>Stores sensitive information like passwords, tokens, or keys.</p> <pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secret\ntype: Opaque\ndata:\n  password: cGFzc3dvcmQxMjM=  # base64 encoded\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#storage","title":"Storage","text":""},{"location":"kcna/01-kubernetes-fundamentals/#persistentvolume-pv","title":"PersistentVolume (PV)","text":"<p>A piece of storage in the cluster provisioned by an administrator.</p>"},{"location":"kcna/01-kubernetes-fundamentals/#persistentvolumeclaim-pvc","title":"PersistentVolumeClaim (PVC)","text":"<p>A request for storage by a user.</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n  storageClassName: standard\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#namespaces","title":"Namespaces","text":"<p>Namespaces provide a mechanism for isolating groups of resources within a single cluster.</p> <p>Default Namespaces: - <code>default</code> - Default namespace for objects with no other namespace - <code>kube-system</code> - For objects created by the Kubernetes system - <code>kube-public</code> - Readable by all users, reserved for cluster usage - <code>kube-node-lease</code> - For lease objects associated with each node</p>"},{"location":"kcna/01-kubernetes-fundamentals/#labels-and-selectors","title":"Labels and Selectors","text":""},{"location":"kcna/01-kubernetes-fundamentals/#labels","title":"Labels","text":"<p>Key-value pairs attached to objects for identification.</p> <pre><code>metadata:\n  labels:\n    app: nginx\n    environment: production\n    tier: frontend\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#selectors","title":"Selectors","text":"<p>Used to filter objects based on labels.</p> <pre><code>selector:\n  matchLabels:\n    app: nginx\n  matchExpressions:\n  - key: environment\n    operator: In\n    values:\n    - production\n    - staging\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#kubernetes-api","title":"Kubernetes API","text":""},{"location":"kcna/01-kubernetes-fundamentals/#api-groups","title":"API Groups","text":"Group Resources core (v1) Pods, Services, ConfigMaps, Secrets, Namespaces apps/v1 Deployments, ReplicaSets, StatefulSets, DaemonSets batch/v1 Jobs, CronJobs networking.k8s.io/v1 Ingress, NetworkPolicy rbac.authorization.k8s.io/v1 Roles, ClusterRoles, RoleBindings"},{"location":"kcna/01-kubernetes-fundamentals/#api-versioning","title":"API Versioning","text":"<ul> <li>Alpha (v1alpha1): Disabled by default, may be buggy</li> <li>Beta (v1beta1): Enabled by default, well-tested</li> <li>Stable (v1): Production-ready, backward compatible</li> </ul>"},{"location":"kcna/01-kubernetes-fundamentals/#kubectl-basics","title":"kubectl Basics","text":""},{"location":"kcna/01-kubernetes-fundamentals/#common-commands","title":"Common Commands","text":"<pre><code># Get resources\nkubectl get pods\nkubectl get deployments\nkubectl get services\nkubectl get nodes\n\n# Describe resources\nkubectl describe pod &lt;pod-name&gt;\nkubectl describe node &lt;node-name&gt;\n\n# Create resources\nkubectl apply -f manifest.yaml\nkubectl create deployment nginx --image=nginx\n\n# Delete resources\nkubectl delete pod &lt;pod-name&gt;\nkubectl delete -f manifest.yaml\n\n# Logs and debugging\nkubectl logs &lt;pod-name&gt;\nkubectl exec -it &lt;pod-name&gt; -- /bin/bash\n\n# Scaling\nkubectl scale deployment nginx --replicas=5\n</code></pre>"},{"location":"kcna/01-kubernetes-fundamentals/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Declarative vs Imperative: Kubernetes prefers declarative configuration</li> <li>Desired State: Controllers continuously work to match actual state to desired state</li> <li>Self-healing: Kubernetes automatically replaces failed containers</li> <li>Horizontal Scaling: Add more Pods to handle increased load</li> <li>Service Discovery: Services provide stable endpoints for Pods</li> <li>Rolling Updates: Deployments can update Pods without downtime</li> </ol>"},{"location":"kcna/01-kubernetes-fundamentals/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the smallest deployable unit in Kubernetes?</li> <li>Which component is responsible for scheduling Pods to nodes?</li> <li>What is the default Service type in Kubernetes?</li> <li>How do you store sensitive data in Kubernetes?</li> <li>What is the purpose of a namespace?</li> </ol> <p>Back to KCNA Overview | Next: Container Orchestration \u2192</p>"},{"location":"kcna/02-container-orchestration/","title":"Container Orchestration (22%)","text":"<p>This domain covers container fundamentals and how Kubernetes orchestrates containerized workloads.</p>"},{"location":"kcna/02-container-orchestration/#container-fundamentals","title":"Container Fundamentals","text":""},{"location":"kcna/02-container-orchestration/#what-is-a-container","title":"What is a Container?","text":"<p>A container is a lightweight, standalone, executable package that includes everything needed to run a piece of software:</p> <ul> <li>Code</li> <li>Runtime</li> <li>System tools</li> <li>System libraries</li> <li>Settings</li> </ul>"},{"location":"kcna/02-container-orchestration/#container-vs-virtual-machine","title":"Container vs Virtual Machine","text":"Aspect Container Virtual Machine Size Megabytes Gigabytes Startup Seconds Minutes Isolation Process-level Hardware-level OS Shares host kernel Full OS per VM Resource Usage Lightweight Heavy"},{"location":"kcna/02-container-orchestration/#container-runtime","title":"Container Runtime","text":"<p>The container runtime is responsible for running containers. Kubernetes supports several runtimes through the Container Runtime Interface (CRI):</p> <ul> <li>containerd - Industry-standard container runtime</li> <li>CRI-O - Lightweight container runtime for Kubernetes</li> <li>Docker Engine - Popular container platform (via cri-dockerd)</li> </ul>"},{"location":"kcna/02-container-orchestration/#container-images","title":"Container Images","text":""},{"location":"kcna/02-container-orchestration/#image-layers","title":"Image Layers","text":"<p>Container images are built in layers:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Application Code      \u2502  &lt;- Your code\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Dependencies          \u2502  &lt;- npm, pip packages\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Runtime               \u2502  &lt;- Node.js, Python\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Base OS               \u2502  &lt;- Alpine, Ubuntu\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/02-container-orchestration/#image-registries","title":"Image Registries","text":"<p>Container images are stored in registries:</p> <ul> <li>Docker Hub - Public registry</li> <li>Google Container Registry (GCR)</li> <li>Amazon Elastic Container Registry (ECR)</li> <li>Azure Container Registry (ACR)</li> <li>Harbor - Open-source private registry</li> </ul>"},{"location":"kcna/02-container-orchestration/#image-naming-convention","title":"Image Naming Convention","text":"<pre><code>registry/repository:tag\n\nExamples:\ndocker.io/library/nginx:1.21\ngcr.io/my-project/my-app:v1.0.0\nmy-registry.com/team/service:latest\n</code></pre>"},{"location":"kcna/02-container-orchestration/#kubernetes-scheduling","title":"Kubernetes Scheduling","text":""},{"location":"kcna/02-container-orchestration/#how-scheduling-works","title":"How Scheduling Works","text":"<ol> <li>User creates a Pod</li> <li>API Server stores Pod in etcd (status: Pending)</li> <li>Scheduler watches for unscheduled Pods</li> <li>Scheduler selects a suitable node</li> <li>Scheduler updates Pod with node assignment</li> <li>Kubelet on the node creates the container</li> </ol>"},{"location":"kcna/02-container-orchestration/#scheduling-factors","title":"Scheduling Factors","text":"<p>The scheduler considers:</p> <ul> <li>Resource requests and limits</li> <li>Node selectors and affinity</li> <li>Taints and tolerations</li> <li>Pod topology spread constraints</li> <li>Available resources on nodes</li> </ul>"},{"location":"kcna/02-container-orchestration/#node-selector","title":"Node Selector","text":"<p>Simple way to constrain Pods to nodes with specific labels:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  nodeSelector:\n    disktype: ssd\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"kcna/02-container-orchestration/#node-affinity","title":"Node Affinity","text":"<p>More expressive way to specify node constraints:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  affinity:\n    nodeAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        nodeSelectorTerms:\n        - matchExpressions:\n          - key: topology.kubernetes.io/zone\n            operator: In\n            values:\n            - us-west-1a\n            - us-west-1b\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"kcna/02-container-orchestration/#taints-and-tolerations","title":"Taints and Tolerations","text":"<p>Taints allow nodes to repel certain Pods:</p> <pre><code># Add taint to node\nkubectl taint nodes node1 key=value:NoSchedule\n</code></pre> <p>Tolerations allow Pods to schedule on tainted nodes:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\nspec:\n  tolerations:\n  - key: \"key\"\n    operator: \"Equal\"\n    value: \"value\"\n    effect: \"NoSchedule\"\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre>"},{"location":"kcna/02-container-orchestration/#resource-management","title":"Resource Management","text":""},{"location":"kcna/02-container-orchestration/#resource-requests-and-limits","title":"Resource Requests and Limits","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: resource-demo\nspec:\n  containers:\n  - name: app\n    image: nginx\n    resources:\n      requests:\n        memory: \"64Mi\"\n        cpu: \"250m\"\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n</code></pre> <ul> <li>Requests: Minimum resources guaranteed</li> <li>Limits: Maximum resources allowed</li> </ul>"},{"location":"kcna/02-container-orchestration/#quality-of-service-qos-classes","title":"Quality of Service (QoS) Classes","text":"QoS Class Condition Guaranteed Requests = Limits for all containers Burstable At least one container has requests &lt; limits BestEffort No requests or limits specified"},{"location":"kcna/02-container-orchestration/#limitrange","title":"LimitRange","text":"<p>Sets default resource constraints for a namespace:</p> <pre><code>apiVersion: v1\nkind: LimitRange\nmetadata:\n  name: default-limits\nspec:\n  limits:\n  - default:\n      cpu: \"500m\"\n      memory: \"256Mi\"\n    defaultRequest:\n      cpu: \"100m\"\n      memory: \"128Mi\"\n    type: Container\n</code></pre>"},{"location":"kcna/02-container-orchestration/#resourcequota","title":"ResourceQuota","text":"<p>Limits total resource consumption in a namespace:</p> <pre><code>apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: compute-quota\nspec:\n  hard:\n    requests.cpu: \"4\"\n    requests.memory: \"8Gi\"\n    limits.cpu: \"8\"\n    limits.memory: \"16Gi\"\n    pods: \"10\"\n</code></pre>"},{"location":"kcna/02-container-orchestration/#scaling","title":"Scaling","text":""},{"location":"kcna/02-container-orchestration/#horizontal-pod-autoscaler-hpa","title":"Horizontal Pod Autoscaler (HPA)","text":"<p>Automatically scales the number of Pods based on metrics:</p> <pre><code>apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: nginx-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: nginx\n  minReplicas: 1\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: Utilization\n        averageUtilization: 50\n</code></pre>"},{"location":"kcna/02-container-orchestration/#vertical-pod-autoscaler-vpa","title":"Vertical Pod Autoscaler (VPA)","text":"<p>Automatically adjusts resource requests and limits.</p>"},{"location":"kcna/02-container-orchestration/#cluster-autoscaler","title":"Cluster Autoscaler","text":"<p>Automatically adjusts the size of the Kubernetes cluster.</p>"},{"location":"kcna/02-container-orchestration/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Containers share the host kernel - Unlike VMs</li> <li>Images are immutable - Changes create new layers</li> <li>Scheduler uses filtering and scoring - To find the best node</li> <li>Resource requests affect scheduling - Limits affect runtime</li> <li>QoS determines eviction priority - BestEffort evicted first</li> </ol>"},{"location":"kcna/02-container-orchestration/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the difference between a container and a virtual machine?</li> <li>What is the role of the kube-scheduler?</li> <li>How do taints and tolerations work together?</li> <li>What is the difference between resource requests and limits?</li> <li>What are the three QoS classes in Kubernetes?</li> </ol> <p>\u2190 Previous: Kubernetes Fundamentals | Back to KCNA Overview | Next: Cloud Native Architecture \u2192</p>"},{"location":"kcna/03-cloud-native-architecture/","title":"Cloud Native Architecture (16%)","text":"<p>This domain covers cloud native principles, design patterns, and the CNCF ecosystem.</p>"},{"location":"kcna/03-cloud-native-architecture/#what-is-cloud-native","title":"What is Cloud Native?","text":"<p>Cloud native technologies empower organizations to build and run scalable applications in modern, dynamic environments such as public, private, and hybrid clouds.</p>"},{"location":"kcna/03-cloud-native-architecture/#cncf-definition","title":"CNCF Definition","text":"<p>\"Cloud native technologies empower organizations to build and run scalable applications in modern, dynamic environments such as public, private, and hybrid clouds. Containers, service meshes, microservices, immutable infrastructure, and declarative APIs exemplify this approach.\"</p>"},{"location":"kcna/03-cloud-native-architecture/#cloud-native-principles","title":"Cloud Native Principles","text":""},{"location":"kcna/03-cloud-native-architecture/#the-twelve-factor-app","title":"The Twelve-Factor App","text":"Factor Description 1. Codebase One codebase tracked in revision control 2. Dependencies Explicitly declare and isolate dependencies 3. Config Store config in the environment 4. Backing Services Treat backing services as attached resources 5. Build, Release, Run Strictly separate build and run stages 6. Processes Execute the app as stateless processes 7. Port Binding Export services via port binding 8. Concurrency Scale out via the process model 9. Disposability Maximize robustness with fast startup and graceful shutdown 10. Dev/Prod Parity Keep development, staging, and production as similar as possible 11. Logs Treat logs as event streams 12. Admin Processes Run admin/management tasks as one-off processes"},{"location":"kcna/03-cloud-native-architecture/#microservices-architecture","title":"Microservices Architecture","text":""},{"location":"kcna/03-cloud-native-architecture/#monolith-vs-microservices","title":"Monolith vs Microservices","text":"Aspect Monolith Microservices Deployment Single unit Independent services Scaling Scale entire app Scale individual services Technology Single stack Polyglot Team Structure Large teams Small, autonomous teams Failure Impact Entire app affected Isolated failures"},{"location":"kcna/03-cloud-native-architecture/#microservices-characteristics","title":"Microservices Characteristics","text":"<ul> <li>Single Responsibility: Each service does one thing well</li> <li>Independently Deployable: Services can be deployed without affecting others</li> <li>Decentralized Data: Each service manages its own data</li> <li>Smart Endpoints, Dumb Pipes: Logic in services, simple communication</li> <li>Design for Failure: Services handle failures gracefully</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#cncf-landscape","title":"CNCF Landscape","text":""},{"location":"kcna/03-cloud-native-architecture/#project-maturity-levels","title":"Project Maturity Levels","text":"Level Description Examples Graduated Production-ready, widely adopted Kubernetes, Prometheus, Envoy Incubating Growing adoption, maturing Argo, Cilium, Flux Sandbox Early stage, experimental New projects"},{"location":"kcna/03-cloud-native-architecture/#key-cncf-projects-by-category","title":"Key CNCF Projects by Category","text":""},{"location":"kcna/03-cloud-native-architecture/#container-runtime","title":"Container Runtime","text":"<ul> <li>containerd - Industry-standard container runtime</li> <li>CRI-O - Lightweight runtime for Kubernetes</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#orchestration","title":"Orchestration","text":"<ul> <li>Kubernetes - Container orchestration platform</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#service-mesh","title":"Service Mesh","text":"<ul> <li>Istio - Connect, secure, control, and observe services</li> <li>Linkerd - Ultralight service mesh</li> <li>Envoy - Edge and service proxy</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#observability","title":"Observability","text":"<ul> <li>Prometheus - Monitoring and alerting</li> <li>Grafana - Visualization and dashboards</li> <li>Jaeger - Distributed tracing</li> <li>OpenTelemetry - Observability framework</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#cicd","title":"CI/CD","text":"<ul> <li>Argo - GitOps continuous delivery</li> <li>Flux - GitOps toolkit</li> <li>Tekton - Cloud-native CI/CD</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#networking","title":"Networking","text":"<ul> <li>Cilium - eBPF-based networking</li> <li>Calico - Network policy engine</li> <li>CoreDNS - DNS server</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#storage","title":"Storage","text":"<ul> <li>Rook - Storage orchestration</li> <li>Longhorn - Distributed block storage</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#security","title":"Security","text":"<ul> <li>Falco - Runtime security</li> <li>OPA - Policy engine</li> <li>cert-manager - Certificate management</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#serverless","title":"Serverless","text":""},{"location":"kcna/03-cloud-native-architecture/#what-is-serverless","title":"What is Serverless?","text":"<p>Serverless computing allows you to build and run applications without managing servers. The cloud provider automatically provisions, scales, and manages the infrastructure.</p>"},{"location":"kcna/03-cloud-native-architecture/#serverless-platforms","title":"Serverless Platforms","text":"<ul> <li>AWS Lambda</li> <li>Google Cloud Functions</li> <li>Azure Functions</li> <li>Knative (Kubernetes-native)</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#function-as-a-service-faas","title":"Function as a Service (FaaS)","text":"<pre><code>Event \u2192 Function \u2192 Response\n\nExamples:\n- HTTP request triggers function\n- Message queue triggers function\n- Scheduled event triggers function\n</code></pre>"},{"location":"kcna/03-cloud-native-architecture/#service-mesh_1","title":"Service Mesh","text":""},{"location":"kcna/03-cloud-native-architecture/#what-is-a-service-mesh","title":"What is a Service Mesh?","text":"<p>A dedicated infrastructure layer for handling service-to-service communication, providing:</p> <ul> <li>Traffic Management: Load balancing, routing</li> <li>Security: mTLS, authentication</li> <li>Observability: Metrics, tracing, logging</li> </ul>"},{"location":"kcna/03-cloud-native-architecture/#service-mesh-architecture","title":"Service Mesh Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Control Plane              \u2502\n\u2502  (Configuration, Policy, Certificates)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502               \u2502               \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510\n\u2502 Proxy \u2502       \u2502 Proxy \u2502       \u2502 Proxy \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Service\u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u25ba\u2502Service\u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u25ba\u2502Service\u2502\n\u2502   A   \u2502       \u2502   B   \u2502       \u2502   C   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/03-cloud-native-architecture/#sidecar-pattern","title":"Sidecar Pattern","text":"<p>A sidecar container runs alongside the main application container:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-sidecar\nspec:\n  containers:\n  - name: app\n    image: my-app:v1\n  - name: sidecar-proxy\n    image: envoy:v1.20\n</code></pre>"},{"location":"kcna/03-cloud-native-architecture/#cloud-native-design-patterns","title":"Cloud Native Design Patterns","text":""},{"location":"kcna/03-cloud-native-architecture/#circuit-breaker","title":"Circuit Breaker","text":"<p>Prevents cascading failures by stopping requests to failing services.</p>"},{"location":"kcna/03-cloud-native-architecture/#retry-with-backoff","title":"Retry with Backoff","text":"<p>Automatically retries failed requests with increasing delays.</p>"},{"location":"kcna/03-cloud-native-architecture/#bulkhead","title":"Bulkhead","text":"<p>Isolates components to prevent failures from spreading.</p>"},{"location":"kcna/03-cloud-native-architecture/#sidecar","title":"Sidecar","text":"<p>Deploys helper components alongside the main application.</p>"},{"location":"kcna/03-cloud-native-architecture/#ambassador","title":"Ambassador","text":"<p>Creates helper services that send network requests on behalf of a consumer.</p>"},{"location":"kcna/03-cloud-native-architecture/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Cloud native is about how applications are built, not where they run</li> <li>Microservices enable independent deployment and scaling</li> <li>CNCF projects have maturity levels: Graduated, Incubating, Sandbox</li> <li>Service meshes handle cross-cutting concerns like security and observability</li> <li>Serverless abstracts infrastructure management completely</li> </ol>"},{"location":"kcna/03-cloud-native-architecture/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the key characteristics of cloud native applications?</li> <li>Name three graduated CNCF projects.</li> <li>What is the difference between a monolith and microservices?</li> <li>What does a service mesh provide?</li> <li>What is the sidecar pattern?</li> </ol> <p>\u2190 Previous: Container Orchestration | Back to KCNA Overview | Next: Cloud Native Observability \u2192</p>"},{"location":"kcna/04-cloud-native-observability/","title":"Cloud Native Observability (8%)","text":"<p>This domain covers monitoring, logging, and tracing in cloud native environments.</p>"},{"location":"kcna/04-cloud-native-observability/#three-pillars-of-observability","title":"Three Pillars of Observability","text":""},{"location":"kcna/04-cloud-native-observability/#1-metrics","title":"1. Metrics","text":"<p>Numeric measurements collected over time.</p> <p>Examples: - CPU utilization - Memory usage - Request count - Error rate - Response latency</p>"},{"location":"kcna/04-cloud-native-observability/#2-logs","title":"2. Logs","text":"<p>Timestamped records of discrete events.</p> <p>Examples: - Application errors - Access logs - Audit logs - System events</p>"},{"location":"kcna/04-cloud-native-observability/#3-traces","title":"3. Traces","text":"<p>Records of requests as they flow through distributed systems.</p> <p>Examples: - Request path through microservices - Latency at each service - Error propagation</p>"},{"location":"kcna/04-cloud-native-observability/#prometheus","title":"Prometheus","text":""},{"location":"kcna/04-cloud-native-observability/#what-is-prometheus","title":"What is Prometheus?","text":"<p>Prometheus is an open-source monitoring and alerting toolkit, graduated from CNCF.</p>"},{"location":"kcna/04-cloud-native-observability/#key-features","title":"Key Features","text":"<ul> <li>Multi-dimensional data model with time series</li> <li>PromQL query language</li> <li>Pull-based metrics collection</li> <li>Service discovery</li> <li>Alerting via Alertmanager</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Target    \u2502     \u2502   Target    \u2502     \u2502   Target    \u2502\n\u2502  (metrics)  \u2502     \u2502  (metrics)  \u2502     \u2502  (metrics)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                   \u2502                   \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502 scrape\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502  Prometheus \u2502\n                    \u2502   Server    \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502            \u2502            \u2502\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502 Alertmanager\u2502 \u2502 PromQL\u2502 \u2502   Grafana   \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#metric-types","title":"Metric Types","text":"Type Description Example Counter Cumulative, only increases Total requests Gauge Can go up or down Current temperature Histogram Samples in buckets Request duration Summary Similar to histogram with quantiles Request duration"},{"location":"kcna/04-cloud-native-observability/#promql-examples","title":"PromQL Examples","text":"<pre><code># CPU usage\nrate(container_cpu_usage_seconds_total[5m])\n\n# Memory usage\ncontainer_memory_usage_bytes\n\n# HTTP request rate\nrate(http_requests_total[5m])\n\n# Error rate\nrate(http_requests_total{status=~\"5..\"}[5m]) / rate(http_requests_total[5m])\n\n# 95th percentile latency\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#grafana","title":"Grafana","text":""},{"location":"kcna/04-cloud-native-observability/#what-is-grafana","title":"What is Grafana?","text":"<p>Grafana is an open-source visualization and analytics platform.</p>"},{"location":"kcna/04-cloud-native-observability/#key-features_1","title":"Key Features","text":"<ul> <li>Dashboard creation and sharing</li> <li>Multiple data source support</li> <li>Alerting capabilities</li> <li>Annotations</li> <li>Templating</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#common-panels","title":"Common Panels","text":"<ul> <li>Graph: Time series visualization</li> <li>Stat: Single value display</li> <li>Gauge: Visual gauge</li> <li>Table: Tabular data</li> <li>Heatmap: Distribution over time</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#logging","title":"Logging","text":""},{"location":"kcna/04-cloud-native-observability/#logging-architecture-in-kubernetes","title":"Logging Architecture in Kubernetes","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Kubernetes Node                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502  Pod A  \u2502  \u2502  Pod B  \u2502  \u2502  Pod C  \u2502             \u2502\n\u2502  \u2502 stdout  \u2502  \u2502 stdout  \u2502  \u2502 stdout  \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502       \u2502            \u2502            \u2502                   \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                    \u25bc                                \u2502\n\u2502           /var/log/containers/                      \u2502\n\u2502                    \u2502                                \u2502\n\u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502            \u2502  Log Shipper  \u2502 (Fluentd/Fluent Bit)  \u2502\n\u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Log Store  \u2502 (Elasticsearch/Loki)\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Grafana/   \u2502\n              \u2502  Kibana     \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#logging-tools","title":"Logging Tools","text":"Tool Description Fluentd Open-source data collector (CNCF Graduated) Fluent Bit Lightweight log processor Elasticsearch Search and analytics engine Loki Log aggregation system by Grafana Kibana Visualization for Elasticsearch"},{"location":"kcna/04-cloud-native-observability/#kubernetes-logging-commands","title":"Kubernetes Logging Commands","text":"<pre><code># View pod logs\nkubectl logs &lt;pod-name&gt;\n\n# Follow logs\nkubectl logs -f &lt;pod-name&gt;\n\n# Logs from specific container\nkubectl logs &lt;pod-name&gt; -c &lt;container-name&gt;\n\n# Previous container logs\nkubectl logs &lt;pod-name&gt; --previous\n\n# Logs with timestamps\nkubectl logs &lt;pod-name&gt; --timestamps\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#distributed-tracing","title":"Distributed Tracing","text":""},{"location":"kcna/04-cloud-native-observability/#what-is-distributed-tracing","title":"What is Distributed Tracing?","text":"<p>Distributed tracing tracks requests as they flow through multiple services, helping identify:</p> <ul> <li>Performance bottlenecks</li> <li>Error sources</li> <li>Service dependencies</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#tracing-concepts","title":"Tracing Concepts","text":"Concept Description Trace End-to-end journey of a request Span Single operation within a trace Context Metadata propagated between services"},{"location":"kcna/04-cloud-native-observability/#trace-example","title":"Trace Example","text":"<pre><code>Trace ID: abc123\n\u251c\u2500\u2500 Span: API Gateway (10ms)\n\u2502   \u2514\u2500\u2500 Span: Auth Service (5ms)\n\u251c\u2500\u2500 Span: Order Service (50ms)\n\u2502   \u251c\u2500\u2500 Span: Database Query (20ms)\n\u2502   \u2514\u2500\u2500 Span: Payment Service (25ms)\n\u2514\u2500\u2500 Span: Notification Service (15ms)\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#tracing-tools","title":"Tracing Tools","text":"Tool Description Jaeger Distributed tracing platform (CNCF Graduated) Zipkin Distributed tracing system OpenTelemetry Observability framework (CNCF)"},{"location":"kcna/04-cloud-native-observability/#opentelemetry","title":"OpenTelemetry","text":""},{"location":"kcna/04-cloud-native-observability/#what-is-opentelemetry","title":"What is OpenTelemetry?","text":"<p>OpenTelemetry is a collection of tools, APIs, and SDKs for instrumenting, generating, collecting, and exporting telemetry data (metrics, logs, traces).</p>"},{"location":"kcna/04-cloud-native-observability/#components","title":"Components","text":"<ul> <li>API: Defines how to generate telemetry</li> <li>SDK: Implements the API</li> <li>Collector: Receives, processes, and exports data</li> <li>Exporters: Send data to backends</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#opentelemetry-collector","title":"OpenTelemetry Collector","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              OpenTelemetry Collector                \u2502\n\u2502                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502Receivers \u2502 \u2192 \u2502Processors\u2502 \u2192 \u2502  Exporters   \u2502   \u2502\n\u2502  \u2502(OTLP,    \u2502   \u2502(batch,   \u2502   \u2502(Jaeger,      \u2502   \u2502\n\u2502  \u2502 Jaeger)  \u2502   \u2502 filter)  \u2502   \u2502 Prometheus)  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/04-cloud-native-observability/#cost-management","title":"Cost Management","text":""},{"location":"kcna/04-cloud-native-observability/#observability-costs","title":"Observability Costs","text":"<ul> <li>Storage: Metrics, logs, and traces consume storage</li> <li>Compute: Processing and querying data</li> <li>Network: Data transfer between components</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Set appropriate retention periods</li> <li>Use sampling for high-volume traces</li> <li>Aggregate metrics where possible</li> <li>Filter unnecessary logs</li> </ul>"},{"location":"kcna/04-cloud-native-observability/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Three pillars: Metrics, Logs, Traces</li> <li>Prometheus uses pull-based metrics collection</li> <li>PromQL is the query language for Prometheus</li> <li>OpenTelemetry unifies observability instrumentation</li> <li>Jaeger and Zipkin are popular tracing tools</li> </ol>"},{"location":"kcna/04-cloud-native-observability/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the three pillars of observability?</li> <li>What is the difference between a Counter and a Gauge in Prometheus?</li> <li>What is the purpose of distributed tracing?</li> <li>Name two CNCF graduated observability projects.</li> <li>What does OpenTelemetry provide?</li> </ol> <p>\u2190 Previous: Cloud Native Architecture | Back to KCNA Overview | Next: Cloud Native Application Delivery \u2192</p>"},{"location":"kcna/05-cloud-native-application-delivery/","title":"Cloud Native Application Delivery (8%)","text":"<p>This domain covers CI/CD, GitOps, and application deployment strategies in cloud native environments.</p>"},{"location":"kcna/05-cloud-native-application-delivery/#cicd-fundamentals","title":"CI/CD Fundamentals","text":""},{"location":"kcna/05-cloud-native-application-delivery/#continuous-integration-ci","title":"Continuous Integration (CI)","text":"<p>Automatically building and testing code changes.</p> <p>Key Practices:</p> <ul> <li>Frequent code commits</li> <li>Automated builds</li> <li>Automated testing</li> <li>Fast feedback loops</li> </ul>"},{"location":"kcna/05-cloud-native-application-delivery/#continuous-delivery-cd","title":"Continuous Delivery (CD)","text":"<p>Automatically deploying code changes to staging/production.</p> <p>Key Practices:</p> <ul> <li>Automated deployments</li> <li>Environment parity</li> <li>Rollback capabilities</li> <li>Release automation</li> </ul>"},{"location":"kcna/05-cloud-native-application-delivery/#cicd-pipeline-stages","title":"CI/CD Pipeline Stages","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Code   \u2502 \u2192 \u2502  Build  \u2502 \u2192 \u2502  Test   \u2502 \u2192 \u2502 Release \u2502 \u2192 \u2502 Deploy  \u2502\n\u2502 Commit  \u2502   \u2502         \u2502   \u2502         \u2502   \u2502         \u2502   \u2502         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#gitops","title":"GitOps","text":""},{"location":"kcna/05-cloud-native-application-delivery/#what-is-gitops","title":"What is GitOps?","text":"<p>GitOps is a way of implementing Continuous Deployment for cloud native applications using Git as the single source of truth.</p>"},{"location":"kcna/05-cloud-native-application-delivery/#gitops-principles","title":"GitOps Principles","text":"<ol> <li>Declarative: System state is described declaratively</li> <li>Versioned: Desired state is stored in Git</li> <li>Automated: Changes are automatically applied</li> <li>Reconciled: Software agents ensure actual state matches desired state</li> </ol>"},{"location":"kcna/05-cloud-native-application-delivery/#gitops-workflow","title":"GitOps Workflow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Developer   \u2502     \u2502     Git      \u2502     \u2502  Kubernetes  \u2502\n\u2502              \u2502     \u2502  Repository  \u2502     \u2502   Cluster    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                    \u2502                    \u2502\n       \u2502  1. Push code      \u2502                    \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502                    \u2502\n       \u2502                    \u2502                    \u2502\n       \u2502                    \u2502  2. Detect change  \u2502\n       \u2502                    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n       \u2502                    \u2502                    \u2502\n       \u2502                    \u2502  3. Pull &amp; Apply   \u2502\n       \u2502                    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n       \u2502                    \u2502                    \u2502\n       \u2502                    \u2502  4. Reconcile      \u2502\n       \u2502                    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#gitops-tools","title":"GitOps Tools","text":"Tool Description Argo CD Declarative GitOps CD for Kubernetes (CNCF) Flux GitOps toolkit for Kubernetes (CNCF) Jenkins X CI/CD for Kubernetes"},{"location":"kcna/05-cloud-native-application-delivery/#argo-cd","title":"Argo CD","text":""},{"location":"kcna/05-cloud-native-application-delivery/#what-is-argo-cd","title":"What is Argo CD?","text":"<p>Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes.</p>"},{"location":"kcna/05-cloud-native-application-delivery/#key-features","title":"Key Features","text":"<ul> <li>Automated deployment of applications</li> <li>Support for multiple config management tools (Kustomize, Helm, Jsonnet)</li> <li>SSO integration</li> <li>Rollback/roll-anywhere</li> <li>Health status analysis</li> <li>Web UI and CLI</li> </ul>"},{"location":"kcna/05-cloud-native-application-delivery/#argo-cd-architecture","title":"Argo CD Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Argo CD                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  API Server \u2502  \u2502 Repository  \u2502  \u2502Application \u2502  \u2502\n\u2502  \u2502             \u2502  \u2502   Server    \u2502  \u2502 Controller \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                \u2502                \u2502\n         \u25bc                \u25bc                \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502   UI    \u2502      \u2502   Git   \u2502     \u2502   K8s   \u2502\n    \u2502   CLI   \u2502      \u2502  Repos  \u2502     \u2502 Cluster \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#argo-cd-application","title":"Argo CD Application","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-app\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/org/repo.git\n    targetRevision: HEAD\n    path: manifests\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: my-app\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#flux","title":"Flux","text":""},{"location":"kcna/05-cloud-native-application-delivery/#what-is-flux","title":"What is Flux?","text":"<p>Flux is a set of continuous and progressive delivery solutions for Kubernetes.</p>"},{"location":"kcna/05-cloud-native-application-delivery/#flux-components","title":"Flux Components","text":"Component Description Source Controller Manages sources (Git, Helm, OCI) Kustomize Controller Reconciles Kustomize resources Helm Controller Manages Helm releases Notification Controller Handles events and alerts Image Automation Updates container images"},{"location":"kcna/05-cloud-native-application-delivery/#helm","title":"Helm","text":""},{"location":"kcna/05-cloud-native-application-delivery/#what-is-helm","title":"What is Helm?","text":"<p>Helm is the package manager for Kubernetes.</p>"},{"location":"kcna/05-cloud-native-application-delivery/#key-concepts","title":"Key Concepts","text":"Concept Description Chart Package of pre-configured Kubernetes resources Release Instance of a chart running in a cluster Repository Collection of charts Values Configuration for a chart"},{"location":"kcna/05-cloud-native-application-delivery/#helm-commands","title":"Helm Commands","text":"<pre><code># Add repository\nhelm repo add bitnami https://charts.bitnami.com/bitnami\n\n# Search charts\nhelm search repo nginx\n\n# Install chart\nhelm install my-release bitnami/nginx\n\n# Upgrade release\nhelm upgrade my-release bitnami/nginx\n\n# Rollback\nhelm rollback my-release 1\n\n# Uninstall\nhelm uninstall my-release\n\n# List releases\nhelm list\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#helm-chart-structure","title":"Helm Chart Structure","text":"<pre><code>my-chart/\n\u251c\u2500\u2500 Chart.yaml          # Chart metadata\n\u251c\u2500\u2500 values.yaml         # Default configuration\n\u251c\u2500\u2500 templates/          # Kubernetes manifests\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u2514\u2500\u2500 _helpers.tpl\n\u2514\u2500\u2500 charts/             # Dependencies\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#deployment-strategies","title":"Deployment Strategies","text":""},{"location":"kcna/05-cloud-native-application-delivery/#rolling-update","title":"Rolling Update","text":"<p>Gradually replaces old pods with new ones.</p> <pre><code>spec:\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#blue-green-deployment","title":"Blue-Green Deployment","text":"<p>Two identical environments, switch traffic between them.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Blue      \u2502     \u2502   Green     \u2502\n\u2502  (v1.0)     \u2502     \u2502  (v1.1)     \u2502\n\u2502  [Active]   \u2502     \u2502  [Standby]  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                   \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502   Service   \u2502\n          \u2502  (Switch)   \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#canary-deployment","title":"Canary Deployment","text":"<p>Gradually shift traffic to new version.</p> <pre><code>Traffic Distribution:\n\u251c\u2500\u2500 v1.0: 90% \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2514\u2500\u2500 v1.1: 10% \u2500\u2500\u2500\u2500\u2510                           \u2502\n                  \u2502                           \u2502\n                  \u25bc                           \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502 Canary  \u2502                 \u2502 Stable  \u2502\n            \u2502  Pods   \u2502                 \u2502  Pods   \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#ab-testing","title":"A/B Testing","text":"<p>Route traffic based on specific criteria (headers, cookies).</p>"},{"location":"kcna/05-cloud-native-application-delivery/#application-configuration","title":"Application Configuration","text":""},{"location":"kcna/05-cloud-native-application-delivery/#kustomize","title":"Kustomize","text":"<p>Kubernetes native configuration management.</p> <pre><code>base/\n\u251c\u2500\u2500 deployment.yaml\n\u251c\u2500\u2500 service.yaml\n\u2514\u2500\u2500 kustomization.yaml\n\noverlays/\n\u251c\u2500\u2500 dev/\n\u2502   \u2514\u2500\u2500 kustomization.yaml\n\u251c\u2500\u2500 staging/\n\u2502   \u2514\u2500\u2500 kustomization.yaml\n\u2514\u2500\u2500 prod/\n    \u2514\u2500\u2500 kustomization.yaml\n</code></pre> <pre><code># kustomization.yaml\napiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\nresources:\n  - deployment.yaml\n  - service.yaml\nnamePrefix: dev-\nnamespace: development\n</code></pre>"},{"location":"kcna/05-cloud-native-application-delivery/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>GitOps uses Git as single source of truth for infrastructure</li> <li>Argo CD and Flux are popular GitOps tools</li> <li>Helm is the package manager for Kubernetes</li> <li>Rolling updates are the default deployment strategy</li> <li>Canary deployments allow gradual traffic shifting</li> </ol>"},{"location":"kcna/05-cloud-native-application-delivery/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is GitOps and what are its core principles?</li> <li>What is the difference between Argo CD and Flux?</li> <li>What is a Helm chart?</li> <li>Describe the difference between blue-green and canary deployments.</li> <li>What is Kustomize used for?</li> </ol> <p>\u2190 Previous: Cloud Native Observability | Back to KCNA Overview</p>"},{"location":"kcna/sample-questions/","title":"KCNA Sample Practice Questions","text":"<p>Disclaimer: These are sample practice questions created for study purposes only. They are NOT actual exam questions and are designed to help you test your understanding of KCNA concepts. Real exam questions may differ in format and content.</p>"},{"location":"kcna/sample-questions/#instructions","title":"Instructions","text":"<ul> <li>Each question has one correct answer unless otherwise specified</li> <li>Try to answer without looking at the solutions first</li> <li>Review the explanations to understand the concepts better</li> </ul>"},{"location":"kcna/sample-questions/#section-1-kubernetes-fundamentals-46","title":"Section 1: Kubernetes Fundamentals (46%)","text":""},{"location":"kcna/sample-questions/#question-11","title":"Question 1.1","text":"<p>What is the smallest deployable unit in Kubernetes?</p> <p>A) Container B) Pod C) Deployment D) ReplicaSet</p> Show Answer  **Answer: B) Pod**  A Pod is the smallest deployable unit in Kubernetes. It can contain one or more containers that share storage and network resources."},{"location":"kcna/sample-questions/#question-12","title":"Question 1.2","text":"<p>Which control plane component is responsible for storing all cluster data?</p> <p>A) kube-apiserver B) kube-scheduler C) etcd D) kube-controller-manager</p> Show Answer  **Answer: C) etcd**  etcd is a consistent and highly-available key-value store used as Kubernetes' backing store for all cluster data."},{"location":"kcna/sample-questions/#question-13","title":"Question 1.3","text":"<p>What is the default Service type in Kubernetes?</p> <p>A) NodePort B) LoadBalancer C) ClusterIP D) ExternalName</p> Show Answer  **Answer: C) ClusterIP**  ClusterIP is the default Service type. It exposes the Service on a cluster-internal IP, making it only reachable from within the cluster."},{"location":"kcna/sample-questions/#question-14","title":"Question 1.4","text":"<p>Which component runs on every node and ensures containers are running in a Pod?</p> <p>A) kube-proxy B) kubelet C) kube-scheduler D) container runtime</p> Show Answer  **Answer: B) kubelet**  The kubelet is an agent that runs on each node in the cluster. It ensures that containers are running in a Pod as specified."},{"location":"kcna/sample-questions/#question-15","title":"Question 1.5","text":"<p>What Kubernetes object would you use to store non-confidential configuration data?</p> <p>A) Secret B) ConfigMap C) PersistentVolume D) ServiceAccount</p> Show Answer  **Answer: B) ConfigMap**  ConfigMaps are used to store non-confidential data in key-value pairs. Secrets are used for sensitive data."},{"location":"kcna/sample-questions/#question-16","title":"Question 1.6","text":"<p>Which namespace contains Kubernetes system components?</p> <p>A) default B) kube-public C) kube-system D) kube-node-lease</p> Show Answer  **Answer: C) kube-system**  The kube-system namespace contains objects created by the Kubernetes system, such as kube-dns, kube-proxy, and other system components."},{"location":"kcna/sample-questions/#question-17","title":"Question 1.7","text":"<p>What does a ReplicaSet ensure?</p> <p>A) Pods are scheduled on specific nodes B) A specified number of pod replicas are running at any given time C) Pods have persistent storage D) Pods can communicate with external services</p> Show Answer  **Answer: B) A specified number of pod replicas are running at any given time**  A ReplicaSet's purpose is to maintain a stable set of replica Pods running at any given time."},{"location":"kcna/sample-questions/#question-18","title":"Question 1.8","text":"<p>Which API version is used for Deployments?</p> <p>A) v1 B) apps/v1 C) batch/v1 D) networking.k8s.io/v1</p> Show Answer  **Answer: B) apps/v1**  Deployments use the apps/v1 API group. The core v1 API is used for Pods, Services, ConfigMaps, etc."},{"location":"kcna/sample-questions/#section-2-container-orchestration-22","title":"Section 2: Container Orchestration (22%)","text":""},{"location":"kcna/sample-questions/#question-21","title":"Question 2.1","text":"<p>What is the main difference between a container and a virtual machine?</p> <p>A) Containers are larger than VMs B) Containers share the host OS kernel C) VMs are faster to start D) Containers provide hardware-level isolation</p> Show Answer  **Answer: B) Containers share the host OS kernel**  Containers share the host operating system's kernel, making them lightweight and fast to start. VMs include a full OS and provide hardware-level isolation."},{"location":"kcna/sample-questions/#question-22","title":"Question 2.2","text":"<p>Which Kubernetes object ensures that all (or some) nodes run a copy of a Pod?</p> <p>A) Deployment B) StatefulSet C) DaemonSet D) ReplicaSet</p> Show Answer  **Answer: C) DaemonSet**  A DaemonSet ensures that all (or some) nodes run a copy of a Pod. Common use cases include log collectors and monitoring agents."},{"location":"kcna/sample-questions/#question-23","title":"Question 2.3","text":"<p>What is the purpose of resource requests in Kubernetes?</p> <p>A) To limit the maximum resources a container can use B) To guarantee minimum resources for scheduling C) To autoscale pods based on usage D) To define storage requirements</p> Show Answer  **Answer: B) To guarantee minimum resources for scheduling**  Resource requests specify the minimum amount of resources a container needs. The scheduler uses this to decide which node to place the Pod on."},{"location":"kcna/sample-questions/#question-24","title":"Question 2.4","text":"<p>Which QoS class is assigned to a Pod when requests equal limits for all containers?</p> <p>A) BestEffort B) Burstable C) Guaranteed D) Standard</p> Show Answer  **Answer: C) Guaranteed**  A Pod is classified as Guaranteed when every container has memory and CPU limits that equal their requests."},{"location":"kcna/sample-questions/#question-25","title":"Question 2.5","text":"<p>What mechanism allows Pods to be scheduled on nodes with specific taints?</p> <p>A) Node selectors B) Node affinity C) Tolerations D) Pod priority</p> Show Answer  **Answer: C) Tolerations**  Tolerations are applied to Pods and allow (but do not require) the Pods to schedule onto nodes with matching taints."},{"location":"kcna/sample-questions/#section-3-cloud-native-architecture-16","title":"Section 3: Cloud Native Architecture (16%)","text":""},{"location":"kcna/sample-questions/#question-31","title":"Question 3.1","text":"<p>Which of the following is a CNCF graduated project?</p> <p>A) Argo B) Flux C) Prometheus D) Cilium</p> Show Answer  **Answer: C) Prometheus**  Prometheus is a CNCF graduated project. Graduated projects are considered stable and production-ready with wide adoption."},{"location":"kcna/sample-questions/#question-32","title":"Question 3.2","text":"<p>What does the \"12-factor app\" methodology primarily address?</p> <p>A) Security best practices B) Building software-as-a-service applications C) Container image optimization D) Network configuration</p> Show Answer  **Answer: B) Building software-as-a-service applications**  The 12-factor app methodology provides best practices for building modern, scalable, maintainable software-as-a-service applications."},{"location":"kcna/sample-questions/#question-33","title":"Question 3.3","text":"<p>What is a key characteristic of microservices architecture?</p> <p>A) Single deployment unit B) Shared database for all services C) Services can be deployed independently D) Monolithic codebase</p> Show Answer  **Answer: C) Services can be deployed independently**  Microservices are independently deployable services that communicate over well-defined APIs. Each service can be developed, deployed, and scaled independently."},{"location":"kcna/sample-questions/#question-34","title":"Question 3.4","text":"<p>What does a service mesh primarily provide?</p> <p>A) Container runtime B) Service-to-service communication management C) Persistent storage D) CI/CD pipelines</p> Show Answer  **Answer: B) Service-to-service communication management**  A service mesh handles service-to-service communication, providing features like traffic management, security (mTLS), and observability."},{"location":"kcna/sample-questions/#question-35","title":"Question 3.5","text":"<p>What is the sidecar pattern in Kubernetes?</p> <p>A) Running multiple replicas of the same container B) Running a helper container alongside the main application container C) Running containers on dedicated nodes D) Running containers with elevated privileges</p> Show Answer  **Answer: B) Running a helper container alongside the main application container**  The sidecar pattern involves running a helper container in the same Pod as the main application to provide supporting functionality like logging, proxying, or configuration."},{"location":"kcna/sample-questions/#section-4-cloud-native-observability-8","title":"Section 4: Cloud Native Observability (8%)","text":""},{"location":"kcna/sample-questions/#question-41","title":"Question 4.1","text":"<p>What are the three pillars of observability?</p> <p>A) CPU, Memory, Disk B) Logs, Metrics, Traces C) Pods, Services, Deployments D) Authentication, Authorization, Admission</p> Show Answer  **Answer: B) Logs, Metrics, Traces**  The three pillars of observability are Logs (event records), Metrics (numeric measurements), and Traces (request flow through systems)."},{"location":"kcna/sample-questions/#question-42","title":"Question 4.2","text":"<p>Which Prometheus metric type can only increase?</p> <p>A) Gauge B) Counter C) Histogram D) Summary</p> Show Answer  **Answer: B) Counter**  A Counter is a cumulative metric that can only increase (or reset to zero on restart). It's used for values like total requests or errors."},{"location":"kcna/sample-questions/#question-43","title":"Question 4.3","text":"<p>What is the primary purpose of distributed tracing?</p> <p>A) Storing application logs B) Tracking requests across multiple services C) Monitoring CPU usage D) Managing secrets</p> Show Answer  **Answer: B) Tracking requests across multiple services**  Distributed tracing tracks requests as they flow through multiple services, helping identify performance bottlenecks and errors."},{"location":"kcna/sample-questions/#question-44","title":"Question 4.4","text":"<p>Which CNCF project provides a unified observability framework for metrics, logs, and traces?</p> <p>A) Prometheus B) Jaeger C) OpenTelemetry D) Fluentd</p> Show Answer  **Answer: C) OpenTelemetry**  OpenTelemetry provides a single set of APIs, libraries, and agents to collect metrics, logs, and traces from applications."},{"location":"kcna/sample-questions/#section-5-cloud-native-application-delivery-8","title":"Section 5: Cloud Native Application Delivery (8%)","text":""},{"location":"kcna/sample-questions/#question-51","title":"Question 5.1","text":"<p>What is GitOps?</p> <p>A) Using Git for version control B) Using Git as the single source of truth for declarative infrastructure C) A Git hosting service D) A CI/CD tool</p> Show Answer  **Answer: B) Using Git as the single source of truth for declarative infrastructure**  GitOps uses Git repositories as the source of truth for defining the desired state of infrastructure and applications, with automated synchronization."},{"location":"kcna/sample-questions/#question-52","title":"Question 5.2","text":"<p>What is a Helm chart?</p> <p>A) A monitoring dashboard B) A package of pre-configured Kubernetes resources C) A network diagram D) A security policy</p> Show Answer  **Answer: B) A package of pre-configured Kubernetes resources**  A Helm chart is a collection of files that describe a related set of Kubernetes resources, allowing for easy deployment and management."},{"location":"kcna/sample-questions/#question-53","title":"Question 5.3","text":"<p>Which deployment strategy gradually shifts traffic from the old version to the new version?</p> <p>A) Rolling update B) Blue-green deployment C) Canary deployment D) Recreate deployment</p> Show Answer  **Answer: C) Canary deployment**  Canary deployment gradually shifts traffic to the new version, allowing you to test with a small percentage of users before full rollout."},{"location":"kcna/sample-questions/#question-54","title":"Question 5.4","text":"<p>What is the default deployment strategy in Kubernetes?</p> <p>A) Recreate B) Blue-green C) Canary D) Rolling update</p> Show Answer  **Answer: D) Rolling update**  Rolling update is the default deployment strategy in Kubernetes. It gradually replaces old Pods with new ones, ensuring zero downtime."},{"location":"kcna/sample-questions/#question-55","title":"Question 5.5","text":"<p>Which tool is a CNCF project for GitOps continuous delivery?</p> <p>A) Jenkins B) Argo CD C) GitHub Actions D) CircleCI</p> Show Answer  **Answer: B) Argo CD**  Argo CD is a CNCF project that provides declarative, GitOps continuous delivery for Kubernetes."},{"location":"kcna/sample-questions/#scenario-based-questions","title":"Scenario-Based Questions","text":""},{"location":"kcna/sample-questions/#scenario-1","title":"Scenario 1","text":"<p>You need to deploy an application that requires exactly one instance running on every node in your cluster for log collection.</p> <p>Question: Which Kubernetes object should you use?</p> <p>A) Deployment with node affinity B) StatefulSet C) DaemonSet D) ReplicaSet with pod anti-affinity</p> Show Answer  **Answer: C) DaemonSet**  DaemonSet ensures that a copy of a Pod runs on all (or selected) nodes. This is ideal for node-level services like log collectors, monitoring agents, or network plugins."},{"location":"kcna/sample-questions/#scenario-2","title":"Scenario 2","text":"<p>Your application needs to maintain stable network identities and persistent storage across Pod restarts.</p> <p>Question: Which Kubernetes object is most appropriate?</p> <p>A) Deployment B) StatefulSet C) DaemonSet D) Job</p> Show Answer  **Answer: B) StatefulSet**  StatefulSet is designed for stateful applications that require stable network identities, persistent storage, and ordered deployment/scaling."},{"location":"kcna/sample-questions/#scenario-3","title":"Scenario 3","text":"<p>You want to expose your application to external traffic and need the cloud provider to provision a load balancer.</p> <p>Question: Which Service type should you use?</p> <p>A) ClusterIP B) NodePort C) LoadBalancer D) ExternalName</p> Show Answer  **Answer: C) LoadBalancer**  LoadBalancer Service type exposes the Service externally using a cloud provider's load balancer. It automatically provisions an external load balancer."},{"location":"kcna/sample-questions/#study-tips","title":"Study Tips","text":"<ol> <li>Understand core concepts - Know the difference between Pods, Deployments, Services, etc.</li> <li>Practice with kubectl - Hands-on experience helps solidify concepts</li> <li>Know the CNCF landscape - Understand graduated, incubating, and sandbox projects</li> <li>Review Kubernetes architecture - Understand control plane and node components</li> <li>Study the 12-factor app - Know the principles for cloud native applications</li> </ol> <p>\u2190 Back to KCNA Overview</p>"},{"location":"kcsa/","title":"KCSA - Kubernetes and Cloud Native Security Associate","text":"<p>The Kubernetes and Cloud Native Security Associate (KCSA) exam demonstrates a user's foundational knowledge and skills in security technologies in the cloud native ecosystem.</p>"},{"location":"kcsa/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"kcsa/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Overview of Cloud Native Security 14% Kubernetes Cluster Component Security 22% Kubernetes Security Fundamentals 22% Kubernetes Threat Model 16% Platform Security 16% Compliance and Security Frameworks 10%"},{"location":"kcsa/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Kubernetes concepts (KCNA recommended)</li> <li>Familiarity with Linux command line</li> <li>General security concepts knowledge</li> </ul>"},{"location":"kcsa/#study-resources","title":"Study Resources","text":""},{"location":"kcsa/#official-resources","title":"Official Resources","text":"<ul> <li>KCSA Exam Curriculum</li> <li>Kubernetes Security Documentation</li> <li>CNCF Security Whitepaper</li> </ul>"},{"location":"kcsa/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Kubernetes Security Essentials (LFS260)</li> <li>Securing Kubernetes (LFS482)</li> </ul>"},{"location":"kcsa/#practice-resources","title":"Practice Resources","text":"<ul> <li>Kubernetes Security Best Practices</li> <li>OWASP Kubernetes Security Cheat Sheet</li> </ul>"},{"location":"kcsa/#quick-navigation","title":"Quick Navigation","text":"<ul> <li>01 - Overview of Cloud Native Security</li> <li>02 - Kubernetes Cluster Component Security</li> <li>03 - Kubernetes Security Fundamentals</li> <li>04 - Kubernetes Threat Model</li> <li>05 - Platform Security</li> <li>06 - Compliance and Security Frameworks</li> <li>Sample Practice Questions</li> </ul>"},{"location":"kcsa/#exam-tips","title":"Exam Tips","text":"<ol> <li>Understand the 4Cs of Cloud Native Security - Cloud, Cluster, Container, Code</li> <li>Know RBAC thoroughly - Roles, ClusterRoles, RoleBindings, ClusterRoleBindings</li> <li>Study Network Policies - Ingress and egress rules</li> <li>Understand Pod Security - Security contexts, Pod Security Standards</li> <li>Review common attack vectors - STRIDE, MITRE ATT&amp;CK for Kubernetes</li> <li>Time management - 90 seconds per question on average</li> </ol>"},{"location":"kcsa/#registration","title":"Registration","text":"<p>Register for KCSA Exam</p>"},{"location":"kcsa/01-cloud-native-security-overview/","title":"Overview of Cloud Native Security (14%)","text":"<p>This domain covers the foundational concepts of security in cloud native environments.</p>"},{"location":"kcsa/01-cloud-native-security-overview/#the-4cs-of-cloud-native-security","title":"The 4Cs of Cloud Native Security","text":"<p>Cloud native security is built on four layers, each building upon the previous:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Code                   \u2502  \u2190 Application security\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            Container                \u2502  \u2190 Container security\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502             Cluster                 \u2502  \u2190 Kubernetes security\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Cloud                  \u2502  \u2190 Infrastructure security\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/01-cloud-native-security-overview/#cloud-layer","title":"Cloud Layer","text":"<p>The foundation of your security posture:</p> <ul> <li>Infrastructure security - Physical and virtual infrastructure</li> <li>Network security - Firewalls, VPCs, security groups</li> <li>Identity and Access Management (IAM) - Cloud provider access controls</li> <li>Data encryption - At rest and in transit</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#cluster-layer","title":"Cluster Layer","text":"<p>Kubernetes-specific security:</p> <ul> <li>API Server security - Authentication, authorization</li> <li>etcd security - Encryption, access controls</li> <li>Node security - OS hardening, kubelet configuration</li> <li>Network policies - Pod-to-pod communication rules</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#container-layer","title":"Container Layer","text":"<p>Container runtime security:</p> <ul> <li>Image security - Vulnerability scanning, trusted registries</li> <li>Runtime security - Seccomp, AppArmor, SELinux</li> <li>Resource limits - CPU, memory constraints</li> <li>Read-only filesystems - Immutable containers</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#code-layer","title":"Code Layer","text":"<p>Application-level security:</p> <ul> <li>Secure coding practices - Input validation, output encoding</li> <li>Dependency management - Vulnerability scanning</li> <li>Secrets management - No hardcoded credentials</li> <li>TLS/mTLS - Encrypted communications</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#cloud-native-security-principles","title":"Cloud Native Security Principles","text":""},{"location":"kcsa/01-cloud-native-security-overview/#defense-in-depth","title":"Defense in Depth","text":"<p>Multiple layers of security controls:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Perimeter                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                Network                     \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502              Host                    \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502          Application          \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u2502         Data            \u2502  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/01-cloud-native-security-overview/#least-privilege","title":"Least Privilege","text":"<p>Grant only the minimum permissions necessary:</p> <ul> <li>Use specific RBAC roles instead of cluster-admin</li> <li>Limit service account permissions</li> <li>Restrict network access with Network Policies</li> <li>Use read-only file systems where possible</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#zero-trust","title":"Zero Trust","text":"<p>Never trust, always verify:</p> <ul> <li>Authenticate all requests</li> <li>Authorize based on identity and context</li> <li>Encrypt all communications</li> <li>Continuously validate security posture</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#shift-left-security","title":"Shift Left Security","text":"<p>Integrate security early in the development lifecycle:</p> <pre><code>Plan \u2192 Code \u2192 Build \u2192 Test \u2192 Release \u2192 Deploy \u2192 Operate\n  \u2191       \u2191      \u2191       \u2191       \u2191         \u2191        \u2191\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              Security at every stage\n</code></pre>"},{"location":"kcsa/01-cloud-native-security-overview/#cloud-provider-security","title":"Cloud Provider Security","text":""},{"location":"kcsa/01-cloud-native-security-overview/#shared-responsibility-model","title":"Shared Responsibility Model","text":"Layer Cloud Provider Customer Physical Security \u2713 Network Infrastructure \u2713 Hypervisor \u2713 Operating System Managed K8s: \u2713 Self-managed: \u2713 Kubernetes Control Plane Managed K8s: \u2713 Self-managed: \u2713 Kubernetes Worker Nodes \u2713 Applications \u2713 Data \u2713"},{"location":"kcsa/01-cloud-native-security-overview/#cloud-security-services","title":"Cloud Security Services","text":"Service Type AWS GCP Azure IAM IAM Cloud IAM Azure AD Secrets Secrets Manager Secret Manager Key Vault KMS KMS Cloud KMS Key Vault Security Scanning Inspector Security Command Center Defender"},{"location":"kcsa/01-cloud-native-security-overview/#security-observability","title":"Security Observability","text":""},{"location":"kcsa/01-cloud-native-security-overview/#logging","title":"Logging","text":"<p>Essential logs to collect:</p> <ul> <li>API Server audit logs</li> <li>Container runtime logs</li> <li>Application logs</li> <li>Network flow logs</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#monitoring","title":"Monitoring","text":"<p>Key security metrics:</p> <ul> <li>Failed authentication attempts</li> <li>RBAC denials</li> <li>Network policy violations</li> <li>Resource quota breaches</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#alerting","title":"Alerting","text":"<p>Critical security alerts:</p> <ul> <li>Privileged container creation</li> <li>Secrets access patterns</li> <li>Unusual API activity</li> <li>Pod security violations</li> </ul>"},{"location":"kcsa/01-cloud-native-security-overview/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>4Cs model - Cloud, Cluster, Container, Code</li> <li>Defense in depth - Multiple security layers</li> <li>Least privilege - Minimum necessary permissions</li> <li>Zero trust - Never trust, always verify</li> <li>Shared responsibility - Know what you're responsible for</li> </ol>"},{"location":"kcsa/01-cloud-native-security-overview/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the 4Cs of Cloud Native Security?</li> <li>In the shared responsibility model, who is responsible for application security?</li> <li>What does \"shift left\" mean in the context of security?</li> <li>Name three principles of zero trust security.</li> <li>What is defense in depth?</li> </ol> <p>Back to KCSA Overview | Next: Kubernetes Cluster Component Security \u2192</p>"},{"location":"kcsa/02-cluster-component-security/","title":"Kubernetes Cluster Component Security (22%)","text":"<p>This domain covers securing the core components of a Kubernetes cluster.</p>"},{"location":"kcsa/02-cluster-component-security/#control-plane-security","title":"Control Plane Security","text":""},{"location":"kcsa/02-cluster-component-security/#api-server-security","title":"API Server Security","text":"<p>The API Server is the front door to your cluster:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    API Server                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502Authentication\u2502\u2192\u2502Authorization\u2502\u2192\u2502  Admission  \u2502  \u2502\n\u2502  \u2502             \u2502  \u2502             \u2502  \u2502  Control    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Security configurations:</p> <ul> <li>Enable TLS for all communications</li> <li>Use strong authentication methods</li> <li>Configure appropriate authorization modes</li> <li>Enable audit logging</li> <li>Restrict anonymous access</li> </ul> <pre><code># API Server security flags\n--anonymous-auth=false\n--authorization-mode=Node,RBAC\n--enable-admission-plugins=NodeRestriction,PodSecurity\n--audit-log-path=/var/log/kubernetes/audit.log\n--tls-cert-file=/etc/kubernetes/pki/apiserver.crt\n--tls-private-key-file=/etc/kubernetes/pki/apiserver.key\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#etcd-security","title":"etcd Security","text":"<p>etcd stores all cluster state and secrets:</p> <p>Best practices:</p> <ul> <li>Enable TLS for client and peer communication</li> <li>Encrypt data at rest</li> <li>Restrict access to etcd</li> <li>Regular backups with encryption</li> <li>Run etcd on dedicated nodes</li> </ul> <pre><code># etcd security configuration\n--cert-file=/etc/kubernetes/pki/etcd/server.crt\n--key-file=/etc/kubernetes/pki/etcd/server.key\n--client-cert-auth=true\n--trusted-ca-file=/etc/kubernetes/pki/etcd/ca.crt\n--peer-cert-file=/etc/kubernetes/pki/etcd/peer.crt\n--peer-key-file=/etc/kubernetes/pki/etcd/peer.key\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#controller-manager-security","title":"Controller Manager Security","text":"<p>Security configurations:</p> <ul> <li>Use service account credentials</li> <li>Enable TLS</li> <li>Rotate service account tokens</li> </ul>"},{"location":"kcsa/02-cluster-component-security/#scheduler-security","title":"Scheduler Security","text":"<p>Security configurations:</p> <ul> <li>Enable TLS</li> <li>Use secure binding address</li> <li>Configure authentication</li> </ul>"},{"location":"kcsa/02-cluster-component-security/#node-security","title":"Node Security","text":""},{"location":"kcsa/02-cluster-component-security/#kubelet-security","title":"Kubelet Security","text":"<p>The kubelet runs on every node:</p> <pre><code># Kubelet security configuration\n--anonymous-auth=false\n--authorization-mode=Webhook\n--client-ca-file=/etc/kubernetes/pki/ca.crt\n--tls-cert-file=/etc/kubernetes/pki/kubelet.crt\n--tls-private-key-file=/etc/kubernetes/pki/kubelet.key\n--rotate-certificates=true\n--protect-kernel-defaults=true\n--read-only-port=0\n</code></pre> <p>Key security settings:</p> Setting Recommended Value Purpose <code>--anonymous-auth</code> false Disable anonymous access <code>--authorization-mode</code> Webhook Use API server for authorization <code>--read-only-port</code> 0 Disable read-only port <code>--protect-kernel-defaults</code> true Protect kernel settings"},{"location":"kcsa/02-cluster-component-security/#container-runtime-security","title":"Container Runtime Security","text":"<p>containerd security:</p> <ul> <li>Use seccomp profiles</li> <li>Enable AppArmor/SELinux</li> <li>Configure runtime class</li> </ul> <pre><code>apiVersion: node.k8s.io/v1\nkind: RuntimeClass\nmetadata:\n  name: secure-runtime\nhandler: runsc  # gVisor\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#node-hardening","title":"Node Hardening","text":"<p>OS-level security:</p> <ul> <li>Minimize installed packages</li> <li>Apply security patches regularly</li> <li>Configure firewall rules</li> <li>Enable audit logging</li> <li>Use immutable infrastructure</li> </ul>"},{"location":"kcsa/02-cluster-component-security/#authentication-methods","title":"Authentication Methods","text":""},{"location":"kcsa/02-cluster-component-security/#x509-client-certificates","title":"X.509 Client Certificates","text":"<pre><code># Generate client certificate\nopenssl genrsa -out user.key 2048\nopenssl req -new -key user.key -out user.csr -subj \"/CN=user/O=group\"\n# Sign with cluster CA\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#service-account-tokens","title":"Service Account Tokens","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-service-account\nautomountServiceAccountToken: false  # Disable auto-mount\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#openid-connect-oidc","title":"OpenID Connect (OIDC)","text":"<pre><code># API Server OIDC configuration\n--oidc-issuer-url=https://accounts.google.com\n--oidc-client-id=my-client-id\n--oidc-username-claim=email\n--oidc-groups-claim=groups\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#webhook-token-authentication","title":"Webhook Token Authentication","text":"<p>External authentication service integration.</p>"},{"location":"kcsa/02-cluster-component-security/#authorization-modes","title":"Authorization Modes","text":""},{"location":"kcsa/02-cluster-component-security/#node-authorization","title":"Node Authorization","text":"<p>Authorizes API requests made by kubelets.</p>"},{"location":"kcsa/02-cluster-component-security/#rbac-role-based-access-control","title":"RBAC (Role-Based Access Control)","text":"<p>Most commonly used authorization mode:</p> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: pod-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: read-pods\n  namespace: default\nsubjects:\n- kind: User\n  name: jane\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#abac-attribute-based-access-control","title":"ABAC (Attribute-Based Access Control)","text":"<p>Policy file-based authorization (less common).</p>"},{"location":"kcsa/02-cluster-component-security/#webhook-authorization","title":"Webhook Authorization","text":"<p>External authorization service.</p>"},{"location":"kcsa/02-cluster-component-security/#admission-controllers","title":"Admission Controllers","text":""},{"location":"kcsa/02-cluster-component-security/#built-in-admission-controllers","title":"Built-in Admission Controllers","text":"Controller Purpose PodSecurity Enforce Pod Security Standards NodeRestriction Limit kubelet permissions ResourceQuota Enforce resource limits LimitRanger Set default resource limits ServiceAccount Automate service account management"},{"location":"kcsa/02-cluster-component-security/#validating-vs-mutating","title":"Validating vs Mutating","text":"<pre><code>Request \u2192 Mutating Webhooks \u2192 Validating Webhooks \u2192 etcd\n              (modify)            (accept/reject)\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#pod-security-admission","title":"Pod Security Admission","text":"<pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: secure-namespace\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#secrets-management","title":"Secrets Management","text":""},{"location":"kcsa/02-cluster-component-security/#kubernetes-secrets","title":"Kubernetes Secrets","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: my-secret\ntype: Opaque\ndata:\n  password: cGFzc3dvcmQ=  # base64 encoded\n</code></pre> <p>Security considerations:</p> <ul> <li>Secrets are base64 encoded, NOT encrypted by default</li> <li>Enable encryption at rest</li> <li>Use RBAC to restrict access</li> <li>Consider external secret managers</li> </ul>"},{"location":"kcsa/02-cluster-component-security/#encryption-at-rest","title":"Encryption at Rest","text":"<pre><code># EncryptionConfiguration\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n  - resources:\n      - secrets\n    providers:\n      - aescbc:\n          keys:\n            - name: key1\n              secret: &lt;base64-encoded-key&gt;\n      - identity: {}\n</code></pre>"},{"location":"kcsa/02-cluster-component-security/#external-secret-managers","title":"External Secret Managers","text":"<ul> <li>HashiCorp Vault</li> <li>AWS Secrets Manager</li> <li>Azure Key Vault</li> <li>Google Secret Manager</li> </ul>"},{"location":"kcsa/02-cluster-component-security/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>API Server is the gateway - Secure it thoroughly</li> <li>etcd contains all secrets - Encrypt and restrict access</li> <li>Kubelet security is critical - Disable anonymous auth</li> <li>RBAC is the standard - Use least privilege</li> <li>Admission controllers - Last line of defense</li> </ol>"},{"location":"kcsa/02-cluster-component-security/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the three stages of API request processing?</li> <li>Why should anonymous authentication be disabled on the kubelet?</li> <li>What is the difference between a Role and a ClusterRole?</li> <li>How are Kubernetes Secrets stored by default?</li> <li>What does the NodeRestriction admission controller do?</li> </ol> <p>\u2190 Previous: Cloud Native Security Overview | Back to KCSA Overview | Next: Kubernetes Security Fundamentals \u2192</p>"},{"location":"kcsa/03-kubernetes-security-fundamentals/","title":"Kubernetes Security Fundamentals (22%)","text":"<p>This domain covers core Kubernetes security features and configurations.</p>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#pod-security","title":"Pod Security","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#security-context","title":"Security Context","text":"<p>Define security settings at the Pod or container level:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx:1.21\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n          - ALL\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#security-context-fields","title":"Security Context Fields","text":"Field Level Description <code>runAsUser</code> Pod/Container UID to run as <code>runAsGroup</code> Pod/Container GID to run as <code>runAsNonRoot</code> Pod/Container Must run as non-root <code>fsGroup</code> Pod Group for volumes <code>allowPrivilegeEscalation</code> Container Prevent privilege escalation <code>readOnlyRootFilesystem</code> Container Read-only root filesystem <code>capabilities</code> Container Linux capabilities <code>seccompProfile</code> Pod/Container Seccomp profile <code>seLinuxOptions</code> Pod/Container SELinux context"},{"location":"kcsa/03-kubernetes-security-fundamentals/#pod-security-standards","title":"Pod Security Standards","text":"<p>Three policy levels:</p> Level Description Privileged Unrestricted, allows known privilege escalations Baseline Minimally restrictive, prevents known privilege escalations Restricted Heavily restricted, follows security best practices <pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/enforce-version: latest\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#network-policies","title":"Network Policies","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#default-behavior","title":"Default Behavior","text":"<p>By default, all pods can communicate with all other pods.</p>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#deny-all-ingress","title":"Deny All Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all-ingress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#allow-specific-ingress","title":"Allow Specific Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#egress-policy","title":"Egress Policy","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns-only\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: restricted\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          kubernetes.io/metadata.name: kube-system\n      podSelector:\n        matchLabels:\n          k8s-app: kube-dns\n    ports:\n    - protocol: UDP\n      port: 53\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#network-policy-selectors","title":"Network Policy Selectors","text":"Selector Description <code>podSelector</code> Select pods by labels <code>namespaceSelector</code> Select namespaces by labels <code>ipBlock</code> Select by IP CIDR range"},{"location":"kcsa/03-kubernetes-security-fundamentals/#rbac-deep-dive","title":"RBAC Deep Dive","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#role-vs-clusterrole","title":"Role vs ClusterRole","text":"Type Scope Use Case Role Namespace Namespace-specific permissions ClusterRole Cluster-wide Cluster resources or aggregation"},{"location":"kcsa/03-kubernetes-security-fundamentals/#rolebinding-vs-clusterrolebinding","title":"RoleBinding vs ClusterRoleBinding","text":"Type Scope Can Reference RoleBinding Namespace Role or ClusterRole ClusterRoleBinding Cluster-wide ClusterRole only"},{"location":"kcsa/03-kubernetes-security-fundamentals/#rbac-best-practices","title":"RBAC Best Practices","text":"<pre><code># Least privilege Role example\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: app-namespace\n  name: app-deployer\nrules:\n- apiGroups: [\"apps\"]\n  resources: [\"deployments\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\"]\n  resourceNames: [\"my-app\"]  # Specific resource\n- apiGroups: [\"\"]\n  resources: [\"configmaps\"]\n  verbs: [\"get\", \"list\"]\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#checking-permissions","title":"Checking Permissions","text":"<pre><code># Check if you can perform an action\nkubectl auth can-i create pods\nkubectl auth can-i create pods --as=system:serviceaccount:default:my-sa\nkubectl auth can-i --list --namespace=default\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#service-accounts","title":"Service Accounts","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#default-service-account","title":"Default Service Account","text":"<p>Every namespace has a default service account.</p> <pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: my-service-account\n  namespace: default\nautomountServiceAccountToken: false\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#using-service-accounts","title":"Using Service Accounts","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  serviceAccountName: my-service-account\n  automountServiceAccountToken: false  # Disable if not needed\n  containers:\n  - name: app\n    image: my-app:v1\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#token-projection","title":"Token Projection","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pod-with-projected-token\nspec:\n  containers:\n  - name: app\n    image: my-app:v1\n    volumeMounts:\n    - name: token\n      mountPath: /var/run/secrets/tokens\n  volumes:\n  - name: token\n    projected:\n      sources:\n      - serviceAccountToken:\n          path: token\n          expirationSeconds: 3600\n          audience: my-audience\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#resource-quotas-and-limits","title":"Resource Quotas and Limits","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#limitrange","title":"LimitRange","text":"<pre><code>apiVersion: v1\nkind: LimitRange\nmetadata:\n  name: resource-limits\n  namespace: default\nspec:\n  limits:\n  - type: Container\n    default:\n      cpu: \"500m\"\n      memory: \"256Mi\"\n    defaultRequest:\n      cpu: \"100m\"\n      memory: \"128Mi\"\n    max:\n      cpu: \"2\"\n      memory: \"1Gi\"\n    min:\n      cpu: \"50m\"\n      memory: \"64Mi\"\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#resourcequota","title":"ResourceQuota","text":"<pre><code>apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: compute-quota\n  namespace: default\nspec:\n  hard:\n    requests.cpu: \"4\"\n    requests.memory: \"8Gi\"\n    limits.cpu: \"8\"\n    limits.memory: \"16Gi\"\n    pods: \"10\"\n    secrets: \"10\"\n    configmaps: \"10\"\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#image-security","title":"Image Security","text":""},{"location":"kcsa/03-kubernetes-security-fundamentals/#image-pull-policies","title":"Image Pull Policies","text":"Policy Behavior <code>Always</code> Always pull image <code>IfNotPresent</code> Pull only if not cached <code>Never</code> Never pull, use cached only"},{"location":"kcsa/03-kubernetes-security-fundamentals/#private-registry-authentication","title":"Private Registry Authentication","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: regcred\ntype: kubernetes.io/dockerconfigjson\ndata:\n  .dockerconfigjson: &lt;base64-encoded-docker-config&gt;\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: private-pod\nspec:\n  containers:\n  - name: app\n    image: private-registry.io/my-app:v1\n  imagePullSecrets:\n  - name: regcred\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#image-digest","title":"Image Digest","text":"<p>Use image digests for immutability:</p> <pre><code>spec:\n  containers:\n  - name: app\n    image: nginx@sha256:abc123...\n</code></pre>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Security contexts - Define at Pod and container level</li> <li>Pod Security Standards - Privileged, Baseline, Restricted</li> <li>Network Policies - Default allow, explicit deny</li> <li>RBAC - Roles, ClusterRoles, Bindings</li> <li>Service Accounts - Disable auto-mount when not needed</li> </ol>"},{"location":"kcsa/03-kubernetes-security-fundamentals/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the difference between <code>runAsUser</code> and <code>runAsNonRoot</code>?</li> <li>What happens if no Network Policy exists in a namespace?</li> <li>Can a RoleBinding reference a ClusterRole?</li> <li>How do you prevent a container from escalating privileges?</li> <li>What are the three Pod Security Standards levels?</li> </ol> <p>\u2190 Previous: Cluster Component Security | Back to KCSA Overview | Next: Kubernetes Threat Model \u2192</p>"},{"location":"kcsa/04-kubernetes-threat-model/","title":"Kubernetes Threat Model (16%)","text":"<p>This domain covers threat modeling concepts and common attack vectors in Kubernetes environments.</p>"},{"location":"kcsa/04-kubernetes-threat-model/#threat-modeling-frameworks","title":"Threat Modeling Frameworks","text":""},{"location":"kcsa/04-kubernetes-threat-model/#stride-model","title":"STRIDE Model","text":"Threat Description Kubernetes Example Spoofing Impersonating something or someone Stolen service account token Tampering Modifying data or code Modifying ConfigMaps or Secrets Repudiation Denying actions Disabled audit logging Information Disclosure Exposing information Secrets in environment variables Denial of Service Disrupting service Resource exhaustion attacks Elevation of Privilege Gaining higher privileges Container escape"},{"location":"kcsa/04-kubernetes-threat-model/#mitre-attck-for-containers","title":"MITRE ATT&amp;CK for Containers","text":"<p>Key tactics relevant to Kubernetes:</p> Tactic Description Initial Access Gaining entry to the cluster Execution Running malicious code Persistence Maintaining access Privilege Escalation Gaining higher privileges Defense Evasion Avoiding detection Credential Access Stealing credentials Discovery Learning about the environment Lateral Movement Moving through the cluster Impact Disrupting operations"},{"location":"kcsa/04-kubernetes-threat-model/#common-attack-vectors","title":"Common Attack Vectors","text":""},{"location":"kcsa/04-kubernetes-threat-model/#control-plane-attacks","title":"Control Plane Attacks","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  Attack Vectors                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u2022 Exposed API Server                               \u2502\n\u2502  \u2022 Weak authentication                              \u2502\n\u2502  \u2022 Misconfigured RBAC                               \u2502\n\u2502  \u2022 Unencrypted etcd                                 \u2502\n\u2502  \u2022 Compromised certificates                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#node-level-attacks","title":"Node-Level Attacks","text":"<ul> <li>Kubelet exploitation - Anonymous access, read-only port</li> <li>Container escape - Privileged containers, host mounts</li> <li>Node compromise - SSH access, unpatched vulnerabilities</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#pod-level-attacks","title":"Pod-Level Attacks","text":"<ul> <li>Malicious images - Backdoored or vulnerable images</li> <li>Sidecar injection - Unauthorized container injection</li> <li>Resource abuse - Cryptomining, DoS</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#network-based-attacks","title":"Network-Based Attacks","text":"<ul> <li>Man-in-the-middle - Unencrypted traffic</li> <li>Pod-to-pod attacks - No network policies</li> <li>Service impersonation - DNS spoofing</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#kubernetes-attack-scenarios","title":"Kubernetes Attack Scenarios","text":""},{"location":"kcsa/04-kubernetes-threat-model/#scenario-1-compromised-container","title":"Scenario 1: Compromised Container","text":"<pre><code>Attacker gains shell in container\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Enumerate environment\u2502\n\u2502 - Service account   \u2502\n\u2502 - Environment vars  \u2502\n\u2502 - Mounted secrets   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Access Kubernetes API\u2502\n\u2502 - List pods         \u2502\n\u2502 - Read secrets      \u2502\n\u2502 - Create resources  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Lateral movement    \u2502\n\u2502 - Access other pods \u2502\n\u2502 - Pivot to nodes    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#scenario-2-supply-chain-attack","title":"Scenario 2: Supply Chain Attack","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Compromised     \u2502     \u2502 Vulnerable      \u2502\n\u2502 Base Image      \u2502     \u2502 Dependency      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                       \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502 Application     \u2502\n            \u2502 Container       \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502 Production      \u2502\n            \u2502 Cluster         \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#scenario-3-privilege-escalation","title":"Scenario 3: Privilege Escalation","text":"<pre><code>Limited Service Account\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Find misconfigured  \u2502\n\u2502 RBAC permissions    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Create privileged   \u2502\n\u2502 pod or escalate     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Access node or      \u2502\n\u2502 cluster resources   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#threat-mitigation-strategies","title":"Threat Mitigation Strategies","text":""},{"location":"kcsa/04-kubernetes-threat-model/#api-server-protection","title":"API Server Protection","text":"<pre><code># Restrict API access\n--anonymous-auth=false\n--authorization-mode=Node,RBAC\n--enable-admission-plugins=NodeRestriction,PodSecurity\n--audit-log-path=/var/log/audit.log\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#network-segmentation","title":"Network Segmentation","text":"<pre><code># Default deny all traffic\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#pod-security","title":"Pod Security","text":"<pre><code># Restricted pod configuration\napiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: app:v1\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop: [\"ALL\"]\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#runtime-security","title":"Runtime Security","text":"<p>Tools for runtime threat detection:</p> Tool Purpose Falco Runtime security monitoring Sysdig Container visibility Aqua Full lifecycle security Prisma Cloud Cloud native security"},{"location":"kcsa/04-kubernetes-threat-model/#security-scanning","title":"Security Scanning","text":""},{"location":"kcsa/04-kubernetes-threat-model/#image-scanning","title":"Image Scanning","text":"<pre><code># Example: Trivy scanner\ntrivy image nginx:1.21\ntrivy image --severity HIGH,CRITICAL nginx:1.21\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#configuration-scanning","title":"Configuration Scanning","text":"<pre><code># Example: kubesec\nkubesec scan pod.yaml\n\n# Example: kube-bench (CIS benchmarks)\nkube-bench run --targets master\n</code></pre>"},{"location":"kcsa/04-kubernetes-threat-model/#vulnerability-categories","title":"Vulnerability Categories","text":"Category Examples CVE Known vulnerabilities Misconfigurations Privileged containers, no limits Secrets exposure Hardcoded credentials Compliance CIS benchmark failures"},{"location":"kcsa/04-kubernetes-threat-model/#incident-response","title":"Incident Response","text":""},{"location":"kcsa/04-kubernetes-threat-model/#detection","title":"Detection","text":"<ul> <li>Monitor audit logs</li> <li>Runtime security alerts</li> <li>Anomaly detection</li> <li>Network traffic analysis</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#containment","title":"Containment","text":"<ul> <li>Isolate compromised pods</li> <li>Revoke credentials</li> <li>Apply network policies</li> <li>Cordon affected nodes</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#eradication","title":"Eradication","text":"<ul> <li>Remove malicious workloads</li> <li>Patch vulnerabilities</li> <li>Rotate secrets</li> <li>Update images</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#recovery","title":"Recovery","text":"<ul> <li>Restore from backups</li> <li>Redeploy clean workloads</li> <li>Verify security posture</li> <li>Document lessons learned</li> </ul>"},{"location":"kcsa/04-kubernetes-threat-model/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>STRIDE - Six categories of threats</li> <li>MITRE ATT&amp;CK - Comprehensive attack framework</li> <li>Defense in depth - Multiple security layers</li> <li>Least privilege - Minimize permissions</li> <li>Runtime security - Detect threats in real-time</li> </ol>"},{"location":"kcsa/04-kubernetes-threat-model/#practice-questions","title":"Practice Questions","text":"<ol> <li>What does STRIDE stand for?</li> <li>Name three common Kubernetes attack vectors.</li> <li>How can you detect a compromised container at runtime?</li> <li>What is the first step in incident response?</li> <li>Why is supply chain security important in Kubernetes?</li> </ol> <p>\u2190 Previous: Kubernetes Security Fundamentals | Back to KCSA Overview | Next: Platform Security \u2192</p>"},{"location":"kcsa/05-platform-security/","title":"Platform Security (16%)","text":"<p>This domain covers securing the underlying platform and infrastructure for Kubernetes.</p>"},{"location":"kcsa/05-platform-security/#supply-chain-security","title":"Supply Chain Security","text":""},{"location":"kcsa/05-platform-security/#image-security","title":"Image Security","text":""},{"location":"kcsa/05-platform-security/#trusted-registries","title":"Trusted Registries","text":"<pre><code># OPA/Gatekeeper policy to enforce trusted registries\napiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sAllowedRepos\nmetadata:\n  name: allowed-repos\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n  parameters:\n    repos:\n      - \"gcr.io/my-project/\"\n      - \"docker.io/library/\"\n</code></pre>"},{"location":"kcsa/05-platform-security/#image-signing-and-verification","title":"Image Signing and Verification","text":"<pre><code># Sign image with cosign\ncosign sign --key cosign.key gcr.io/my-project/my-app:v1\n\n# Verify image signature\ncosign verify --key cosign.pub gcr.io/my-project/my-app:v1\n</code></pre>"},{"location":"kcsa/05-platform-security/#software-bill-of-materials-sbom","title":"Software Bill of Materials (SBOM)","text":"<pre><code># Generate SBOM with syft\nsyft nginx:1.21 -o spdx-json &gt; nginx-sbom.json\n\n# Scan SBOM for vulnerabilities\ngrype sbom:nginx-sbom.json\n</code></pre>"},{"location":"kcsa/05-platform-security/#build-pipeline-security","title":"Build Pipeline Security","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Code   \u2502 \u2192 \u2502  Build  \u2502 \u2192 \u2502  Scan   \u2502 \u2192 \u2502  Sign   \u2502\n\u2502 Commit  \u2502   \u2502  Image  \u2502   \u2502  Image  \u2502   \u2502  Image  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502             \u2502             \u2502             \u2502\n     \u25bc             \u25bc             \u25bc             \u25bc\n  SAST/SCA    Dockerfile     Trivy/        Cosign/\n  scanning    best practices  Grype        Notary\n</code></pre>"},{"location":"kcsa/05-platform-security/#dependency-management","title":"Dependency Management","text":"<ul> <li>Pin dependency versions</li> <li>Use lock files</li> <li>Scan dependencies for vulnerabilities</li> <li>Monitor for new CVEs</li> </ul>"},{"location":"kcsa/05-platform-security/#gitops-security","title":"GitOps Security","text":""},{"location":"kcsa/05-platform-security/#repository-security","title":"Repository Security","text":"<ul> <li>Enable branch protection</li> <li>Require code reviews</li> <li>Sign commits with GPG</li> <li>Use CODEOWNERS files</li> </ul>"},{"location":"kcsa/05-platform-security/#secrets-in-gitops","title":"Secrets in GitOps","text":"<p>Never store secrets in Git!</p> <p>Solutions:</p> Tool Description Sealed Secrets Encrypt secrets for Git storage SOPS Encrypt files with various KMS External Secrets Sync from external secret stores Vault Dynamic secrets management <pre><code># Sealed Secret example\napiVersion: bitnami.com/v1alpha1\nkind: SealedSecret\nmetadata:\n  name: my-secret\nspec:\n  encryptedData:\n    password: AgBy3i4OJSWK+PiTySYZZA9rO43...\n</code></pre>"},{"location":"kcsa/05-platform-security/#gitops-deployment-security","title":"GitOps Deployment Security","text":"<pre><code># Argo CD Application with sync policy\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-app\nspec:\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n    syncOptions:\n      - Validate=true\n      - CreateNamespace=false\n</code></pre>"},{"location":"kcsa/05-platform-security/#observability-and-security","title":"Observability and Security","text":""},{"location":"kcsa/05-platform-security/#audit-logging","title":"Audit Logging","text":"<pre><code># Audit policy\napiVersion: audit.k8s.io/v1\nkind: Policy\nrules:\n- level: RequestResponse\n  resources:\n  - group: \"\"\n    resources: [\"secrets\", \"configmaps\"]\n- level: Metadata\n  resources:\n  - group: \"\"\n    resources: [\"pods\", \"services\"]\n- level: None\n  users: [\"system:kube-proxy\"]\n  verbs: [\"watch\"]\n</code></pre>"},{"location":"kcsa/05-platform-security/#audit-log-levels","title":"Audit Log Levels","text":"Level Description None Don't log Metadata Log request metadata only Request Log metadata and request body RequestResponse Log metadata, request, and response"},{"location":"kcsa/05-platform-security/#security-monitoring","title":"Security Monitoring","text":"<pre><code># Falco rule example\n- rule: Terminal shell in container\n  desc: Detect shell opened in container\n  condition: &gt;\n    spawned_process and container and\n    shell_procs and proc.tty != 0\n  output: &gt;\n    Shell opened in container\n    (user=%user.name container=%container.name\n    shell=%proc.name parent=%proc.pname)\n  priority: WARNING\n</code></pre>"},{"location":"kcsa/05-platform-security/#log-aggregation","title":"Log Aggregation","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Pods      \u2502     \u2502   Fluentd   \u2502     \u2502   Elastic   \u2502\n\u2502  (stdout)   \u2502 \u2500\u2500\u25ba \u2502  /Fluent Bit\u2502 \u2500\u2500\u25ba \u2502   /Loki     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                              \u2502\n                                              \u25bc\n                                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                        \u2502   Grafana   \u2502\n                                        \u2502   /Kibana   \u2502\n                                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/05-platform-security/#certificate-management","title":"Certificate Management","text":""},{"location":"kcsa/05-platform-security/#pki-in-kubernetes","title":"PKI in Kubernetes","text":"<pre><code>                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Root CA   \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502                \u2502                \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 API Server\u2502    \u2502   etcd    \u2502    \u2502  Kubelet  \u2502\n    \u2502   Cert    \u2502    \u2502   Cert    \u2502    \u2502   Cert    \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/05-platform-security/#cert-manager","title":"cert-manager","text":"<pre><code>apiVersion: cert-manager.io/v1\nkind: Certificate\nmetadata:\n  name: my-app-tls\nspec:\n  secretName: my-app-tls-secret\n  issuerRef:\n    name: letsencrypt-prod\n    kind: ClusterIssuer\n  dnsNames:\n    - my-app.example.com\n  duration: 2160h  # 90 days\n  renewBefore: 360h  # 15 days\n</code></pre>"},{"location":"kcsa/05-platform-security/#certificate-rotation","title":"Certificate Rotation","text":"<ul> <li>Automate certificate rotation</li> <li>Monitor certificate expiration</li> <li>Use short-lived certificates</li> <li>Implement proper revocation</li> </ul>"},{"location":"kcsa/05-platform-security/#service-mesh-security","title":"Service Mesh Security","text":""},{"location":"kcsa/05-platform-security/#mtls-with-istio","title":"mTLS with Istio","text":"<pre><code>apiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: istio-system\nspec:\n  mtls:\n    mode: STRICT\n</code></pre>"},{"location":"kcsa/05-platform-security/#authorization-policies","title":"Authorization Policies","text":"<pre><code>apiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: frontend-policy\n  namespace: default\nspec:\n  selector:\n    matchLabels:\n      app: frontend\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n        principals: [\"cluster.local/ns/default/sa/backend\"]\n    to:\n    - operation:\n        methods: [\"GET\", \"POST\"]\n        paths: [\"/api/*\"]\n</code></pre>"},{"location":"kcsa/05-platform-security/#infrastructure-as-code-security","title":"Infrastructure as Code Security","text":""},{"location":"kcsa/05-platform-security/#terraform-security","title":"Terraform Security","text":"<pre><code># Secure Kubernetes cluster configuration\nresource \"google_container_cluster\" \"primary\" {\n  name     = \"my-cluster\"\n  location = \"us-central1\"\n\n  # Enable security features\n  enable_shielded_nodes = true\n\n  master_authorized_networks_config {\n    cidr_blocks {\n      cidr_block   = \"10.0.0.0/8\"\n      display_name = \"internal\"\n    }\n  }\n\n  private_cluster_config {\n    enable_private_nodes    = true\n    enable_private_endpoint = false\n    master_ipv4_cidr_block  = \"172.16.0.0/28\"\n  }\n}\n</code></pre>"},{"location":"kcsa/05-platform-security/#policy-as-code","title":"Policy as Code","text":"<p>Tools for enforcing security policies:</p> Tool Description OPA/Gatekeeper General-purpose policy engine Kyverno Kubernetes-native policy engine Checkov IaC security scanner tfsec Terraform security scanner"},{"location":"kcsa/05-platform-security/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>Supply chain security - Verify and sign images</li> <li>GitOps - Never store secrets in Git</li> <li>Audit logging - Enable and monitor</li> <li>Certificate management - Automate rotation</li> <li>Service mesh - mTLS for service-to-service</li> </ol>"},{"location":"kcsa/05-platform-security/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is an SBOM and why is it important?</li> <li>How should secrets be managed in a GitOps workflow?</li> <li>What are the four audit log levels in Kubernetes?</li> <li>What does mTLS provide in a service mesh?</li> <li>Name two policy-as-code tools for Kubernetes.</li> </ol> <p>\u2190 Previous: Kubernetes Threat Model | Back to KCSA Overview | Next: Compliance and Security Frameworks \u2192</p>"},{"location":"kcsa/06-compliance-security-frameworks/","title":"Compliance and Security Frameworks (10%)","text":"<p>This domain covers compliance requirements and security frameworks relevant to Kubernetes environments.</p>"},{"location":"kcsa/06-compliance-security-frameworks/#compliance-frameworks","title":"Compliance Frameworks","text":""},{"location":"kcsa/06-compliance-security-frameworks/#cis-kubernetes-benchmark","title":"CIS Kubernetes Benchmark","text":"<p>The Center for Internet Security (CIS) provides security benchmarks for Kubernetes:</p> Section Focus Area 1 Control Plane Components 2 etcd 3 Control Plane Configuration 4 Worker Nodes 5 Policies"},{"location":"kcsa/06-compliance-security-frameworks/#running-cis-benchmarks","title":"Running CIS Benchmarks","text":"<pre><code># Using kube-bench\nkube-bench run --targets master\nkube-bench run --targets node\nkube-bench run --targets etcd\n\n# Output specific checks\nkube-bench run --targets master --check 1.1.1,1.1.2\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#example-cis-controls","title":"Example CIS Controls","text":"Control Description Remediation 1.1.1 API server pod spec permissions chmod 644 /etc/kubernetes/manifests/kube-apiserver.yaml 1.2.1 Anonymous auth disabled --anonymous-auth=false 4.2.1 Kubelet anonymous auth --anonymous-auth=false 5.1.1 RBAC enabled --authorization-mode=RBAC"},{"location":"kcsa/06-compliance-security-frameworks/#nist-cybersecurity-framework","title":"NIST Cybersecurity Framework","text":"<p>Five core functions:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Identify \u2502\u2192 \u2502 Protect \u2502\u2192 \u2502 Detect  \u2502\u2192 \u2502 Respond \u2502\u2192 \u2502 Recover \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> Function Kubernetes Application Identify Asset inventory, risk assessment Protect RBAC, Network Policies, Pod Security Detect Audit logging, runtime security Respond Incident response procedures Recover Backup/restore, disaster recovery"},{"location":"kcsa/06-compliance-security-frameworks/#soc-2","title":"SOC 2","text":"<p>Service Organization Control 2 - Trust Service Criteria:</p> Criteria Kubernetes Relevance Security Access controls, encryption Availability High availability, disaster recovery Processing Integrity Data validation, error handling Confidentiality Secrets management, encryption Privacy Data handling, retention"},{"location":"kcsa/06-compliance-security-frameworks/#pci-dss","title":"PCI DSS","text":"<p>Payment Card Industry Data Security Standard:</p> Requirement Kubernetes Implementation Req 1 Network segmentation (Network Policies) Req 2 Secure configurations (CIS benchmarks) Req 3 Protect stored data (Encryption at rest) Req 4 Encrypt transmission (TLS/mTLS) Req 7 Restrict access (RBAC) Req 10 Track and monitor (Audit logging)"},{"location":"kcsa/06-compliance-security-frameworks/#hipaa","title":"HIPAA","text":"<p>Health Insurance Portability and Accountability Act:</p> <ul> <li>Access controls - RBAC, authentication</li> <li>Audit controls - Logging, monitoring</li> <li>Integrity controls - Image signing, admission control</li> <li>Transmission security - TLS encryption</li> </ul>"},{"location":"kcsa/06-compliance-security-frameworks/#security-standards","title":"Security Standards","text":""},{"location":"kcsa/06-compliance-security-frameworks/#pod-security-standards","title":"Pod Security Standards","text":"<p>Kubernetes native security standards:</p> <pre><code># Namespace labels for Pod Security Standards\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    # Enforce restricted standard\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/enforce-version: v1.28\n    # Audit baseline violations\n    pod-security.kubernetes.io/audit: baseline\n    # Warn on privileged violations\n    pod-security.kubernetes.io/warn: privileged\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#nsacisa-kubernetes-hardening-guide","title":"NSA/CISA Kubernetes Hardening Guide","text":"<p>Key recommendations:</p> <ol> <li>Scan containers and pods for vulnerabilities</li> <li>Run containers as non-root users</li> <li>Use immutable container filesystems</li> <li>Scan container images for misconfigurations</li> <li>Use Pod Security Standards</li> <li>Harden all authentication and authorization</li> <li>Use network policies to isolate resources</li> <li>Encrypt data in transit and at rest</li> <li>Enable audit logging</li> <li>Restrict access to control plane</li> </ol>"},{"location":"kcsa/06-compliance-security-frameworks/#audit-and-compliance-tools","title":"Audit and Compliance Tools","text":""},{"location":"kcsa/06-compliance-security-frameworks/#policy-enforcement","title":"Policy Enforcement","text":""},{"location":"kcsa/06-compliance-security-frameworks/#opa-gatekeeper","title":"OPA Gatekeeper","text":"<pre><code># Constraint Template\napiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8srequiredlabels\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sRequiredLabels\n      validation:\n        openAPIV3Schema:\n          properties:\n            labels:\n              type: array\n              items:\n                type: string\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8srequiredlabels\n        violation[{\"msg\": msg}] {\n          provided := {label | input.review.object.metadata.labels[label]}\n          required := {label | label := input.parameters.labels[_]}\n          missing := required - provided\n          count(missing) &gt; 0\n          msg := sprintf(\"Missing required labels: %v\", [missing])\n        }\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#kyverno","title":"Kyverno","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-labels\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-for-labels\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"The label 'app' is required.\"\n      pattern:\n        metadata:\n          labels:\n            app: \"?*\"\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#compliance-scanning","title":"Compliance Scanning","text":"Tool Purpose kube-bench CIS benchmark scanning Trivy Vulnerability and misconfiguration scanning Polaris Best practices validation Kubescape NSA/CISA compliance scanning Checkov Infrastructure as code scanning"},{"location":"kcsa/06-compliance-security-frameworks/#continuous-compliance","title":"Continuous Compliance","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Commit    \u2502 \u2500\u2500\u25ba \u2502   Scan      \u2502 \u2500\u2500\u25ba \u2502   Report    \u2502\n\u2502   Code      \u2502     \u2502   Pipeline  \u2502     \u2502   Results   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502\n                          \u25bc\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Block if  \u2502\n                    \u2502   Non-      \u2502\n                    \u2502   Compliant \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#documentation-and-evidence","title":"Documentation and Evidence","text":""},{"location":"kcsa/06-compliance-security-frameworks/#security-documentation","title":"Security Documentation","text":"<p>Required documentation for compliance:</p> <ul> <li>Security policies and procedures</li> <li>Network diagrams</li> <li>Access control matrices</li> <li>Incident response plans</li> <li>Change management procedures</li> <li>Audit logs and reports</li> </ul>"},{"location":"kcsa/06-compliance-security-frameworks/#evidence-collection","title":"Evidence Collection","text":"<pre><code># Collect cluster configuration\nkubectl get nodes -o yaml &gt; nodes.yaml\nkubectl get namespaces -o yaml &gt; namespaces.yaml\nkubectl get networkpolicies -A -o yaml &gt; networkpolicies.yaml\nkubectl get roles,rolebindings -A -o yaml &gt; rbac.yaml\n\n# Export audit logs\nkubectl logs -n kube-system kube-apiserver-* &gt; audit.log\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#compliance-reporting","title":"Compliance Reporting","text":"Report Type Frequency Content Vulnerability Daily/Weekly CVE findings Configuration Weekly CIS benchmark results Access Review Monthly RBAC audit Incident As needed Security incidents Compliance Quarterly Framework compliance status"},{"location":"kcsa/06-compliance-security-frameworks/#risk-management","title":"Risk Management","text":""},{"location":"kcsa/06-compliance-security-frameworks/#risk-assessment","title":"Risk Assessment","text":"Risk Category Examples Mitigation Technical Vulnerabilities, misconfigurations Scanning, hardening Operational Human error, process failures Training, automation Compliance Regulatory violations Policies, audits Business Service disruption HA, DR planning"},{"location":"kcsa/06-compliance-security-frameworks/#risk-prioritization","title":"Risk Prioritization","text":"<pre><code>                    High Impact\n                         \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502               \u2502               \u2502\n         \u2502   Critical    \u2502    High       \u2502\n         \u2502   Priority    \u2502   Priority    \u2502\n         \u2502               \u2502               \u2502\nLow \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500 High\nLikelihood               \u2502               Likelihood\n         \u2502               \u2502               \u2502\n         \u2502     Low       \u2502   Medium      \u2502\n         \u2502   Priority    \u2502   Priority    \u2502\n         \u2502               \u2502               \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                    Low Impact\n</code></pre>"},{"location":"kcsa/06-compliance-security-frameworks/#key-concepts-to-remember","title":"Key Concepts to Remember","text":"<ol> <li>CIS Benchmarks - Industry standard for Kubernetes security</li> <li>NIST Framework - Identify, Protect, Detect, Respond, Recover</li> <li>Pod Security Standards - Kubernetes native security levels</li> <li>Policy engines - OPA Gatekeeper, Kyverno</li> <li>Continuous compliance - Automate scanning and reporting</li> </ol>"},{"location":"kcsa/06-compliance-security-frameworks/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the five core functions of the NIST Cybersecurity Framework?</li> <li>What tool is commonly used to check CIS Kubernetes benchmarks?</li> <li>What are the three Pod Security Standards levels?</li> <li>Name two policy engines for Kubernetes.</li> <li>What is the purpose of the NSA/CISA Kubernetes Hardening Guide?</li> </ol> <p>\u2190 Previous: Platform Security | Back to KCSA Overview | Next: Sample Practice Questions \u2192</p>"},{"location":"kcsa/sample-questions/","title":"KCSA Sample Practice Questions","text":"<p>Disclaimer: These are sample practice questions created for study purposes only. They are NOT actual exam questions and are designed to help you test your understanding of KCSA concepts. Real exam questions may differ in format and content.</p>"},{"location":"kcsa/sample-questions/#instructions","title":"Instructions","text":"<ul> <li>Each question has one correct answer unless otherwise specified</li> <li>Try to answer without looking at the solutions first</li> <li>Review the explanations to understand the concepts better</li> </ul>"},{"location":"kcsa/sample-questions/#section-1-cloud-native-security-overview","title":"Section 1: Cloud Native Security Overview","text":""},{"location":"kcsa/sample-questions/#question-11","title":"Question 1.1","text":"<p>What are the 4Cs of Cloud Native Security in order from the outermost to innermost layer?</p> <p>A) Code, Container, Cluster, Cloud B) Cloud, Cluster, Container, Code C) Cluster, Cloud, Code, Container D) Container, Code, Cloud, Cluster</p> Show Answer  **Answer: B) Cloud, Cluster, Container, Code**  The 4Cs represent security layers from infrastructure (Cloud) to application (Code). Each layer builds upon the security of the layer below it."},{"location":"kcsa/sample-questions/#question-12","title":"Question 1.2","text":"<p>In the shared responsibility model for managed Kubernetes services, who is typically responsible for securing the worker node operating system?</p> <p>A) Cloud provider only B) Customer only C) Both cloud provider and customer D) Neither - it's automatically secured</p> Show Answer  **Answer: B) Customer only**  In managed Kubernetes services (like EKS, GKE, AKS), the cloud provider manages the control plane, but customers are responsible for worker node security, including OS patching and configuration."},{"location":"kcsa/sample-questions/#question-13","title":"Question 1.3","text":"<p>Which security principle states that users and processes should only have the minimum permissions necessary to perform their tasks?</p> <p>A) Defense in depth B) Zero trust C) Least privilege D) Separation of duties</p> Show Answer  **Answer: C) Least privilege**  The principle of least privilege ensures that access rights are limited to only what is required, reducing the potential impact of a security breach."},{"location":"kcsa/sample-questions/#section-2-kubernetes-cluster-component-security","title":"Section 2: Kubernetes Cluster Component Security","text":""},{"location":"kcsa/sample-questions/#question-21","title":"Question 2.1","text":"<p>Which Kubernetes component stores all cluster state and should be encrypted at rest?</p> <p>A) kube-apiserver B) kube-scheduler C) etcd D) kube-controller-manager</p> Show Answer  **Answer: C) etcd**  etcd is the key-value store that holds all cluster data, including Secrets. Encrypting etcd at rest is critical for protecting sensitive information."},{"location":"kcsa/sample-questions/#question-22","title":"Question 2.2","text":"<p>What is the recommended value for the <code>--anonymous-auth</code> flag on the kubelet?</p> <p>A) true B) false C) webhook D) certificate</p> Show Answer  **Answer: B) false**  Anonymous authentication should be disabled on the kubelet to prevent unauthorized access to the kubelet API."},{"location":"kcsa/sample-questions/#question-23","title":"Question 2.3","text":"<p>Which authentication method uses tokens issued by an external identity provider?</p> <p>A) X.509 client certificates B) Service account tokens C) OpenID Connect (OIDC) D) Static token file</p> Show Answer  **Answer: C) OpenID Connect (OIDC)**  OIDC allows Kubernetes to integrate with external identity providers like Google, Azure AD, or Okta for user authentication."},{"location":"kcsa/sample-questions/#question-24","title":"Question 2.4","text":"<p>What is the correct order of request processing in the Kubernetes API server?</p> <p>A) Authorization \u2192 Authentication \u2192 Admission Control B) Authentication \u2192 Admission Control \u2192 Authorization C) Authentication \u2192 Authorization \u2192 Admission Control D) Admission Control \u2192 Authentication \u2192 Authorization</p> Show Answer  **Answer: C) Authentication \u2192 Authorization \u2192 Admission Control**  Requests first authenticate (who are you?), then authorize (what can you do?), and finally pass through admission controllers (should this be allowed/modified?)."},{"location":"kcsa/sample-questions/#section-3-kubernetes-security-fundamentals","title":"Section 3: Kubernetes Security Fundamentals","text":""},{"location":"kcsa/sample-questions/#question-31","title":"Question 3.1","text":"<p>Which Pod Security Standard level provides the most restrictive security policies?</p> <p>A) Privileged B) Baseline C) Restricted D) Default</p> Show Answer  **Answer: C) Restricted**  The Restricted level enforces the most stringent security requirements, following current best practices for pod hardening."},{"location":"kcsa/sample-questions/#question-32","title":"Question 3.2","text":"<p>What happens to pod-to-pod traffic in a namespace with no Network Policies defined?</p> <p>A) All traffic is denied by default B) All traffic is allowed by default C) Only traffic within the namespace is allowed D) Only traffic from the same node is allowed</p> Show Answer  **Answer: B) All traffic is allowed by default**  Without Network Policies, Kubernetes allows all pod-to-pod communication. Network Policies must be explicitly created to restrict traffic."},{"location":"kcsa/sample-questions/#question-33","title":"Question 3.3","text":"<p>Which security context field prevents a container process from gaining more privileges than its parent?</p> <p>A) runAsNonRoot B) readOnlyRootFilesystem C) allowPrivilegeEscalation D) privileged</p> Show Answer  **Answer: C) allowPrivilegeEscalation**  Setting `allowPrivilegeEscalation: false` prevents a process from gaining additional privileges through setuid binaries or other mechanisms."},{"location":"kcsa/sample-questions/#question-34","title":"Question 3.4","text":"<p>Can a RoleBinding in namespace \"app\" grant permissions defined in a ClusterRole?</p> <p>A) No, RoleBindings can only reference Roles B) Yes, but only for cluster-scoped resources C) Yes, the ClusterRole permissions will be scoped to namespace \"app\" D) Yes, and the permissions will apply cluster-wide</p> Show Answer  **Answer: C) Yes, the ClusterRole permissions will be scoped to namespace \"app\"**  A RoleBinding can reference a ClusterRole, but the permissions are limited to the namespace where the RoleBinding exists."},{"location":"kcsa/sample-questions/#section-4-kubernetes-threat-model","title":"Section 4: Kubernetes Threat Model","text":""},{"location":"kcsa/sample-questions/#question-41","title":"Question 4.1","text":"<p>In the STRIDE threat model, what does the \"E\" stand for?</p> <p>A) Encryption B) Exploitation C) Elevation of Privilege D) Enumeration</p> Show Answer  **Answer: C) Elevation of Privilege**  STRIDE stands for: Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service, and Elevation of Privilege."},{"location":"kcsa/sample-questions/#question-42","title":"Question 4.2","text":"<p>Which of the following is a common container escape technique?</p> <p>A) Using a ClusterIP service B) Mounting the host filesystem C) Creating a ConfigMap D) Using a Deployment</p> Show Answer  **Answer: B) Mounting the host filesystem**  Mounting sensitive host paths (like `/`, `/etc`, or the Docker socket) can allow attackers to escape the container and access the host system."},{"location":"kcsa/sample-questions/#question-43","title":"Question 4.3","text":"<p>Which tool is commonly used for runtime security monitoring in Kubernetes?</p> <p>A) Trivy B) kube-bench C) Falco D) kubesec</p> Show Answer  **Answer: C) Falco**  Falco is a CNCF project that provides runtime security monitoring by detecting anomalous activity in containers and Kubernetes."},{"location":"kcsa/sample-questions/#section-5-platform-security","title":"Section 5: Platform Security","text":""},{"location":"kcsa/sample-questions/#question-51","title":"Question 5.1","text":"<p>What is the purpose of signing container images with tools like cosign?</p> <p>A) To compress the image B) To verify the image hasn't been tampered with C) To encrypt the image contents D) To speed up image pulls</p> Show Answer  **Answer: B) To verify the image hasn't been tampered with**  Image signing creates a cryptographic signature that can be verified to ensure the image hasn't been modified since it was signed."},{"location":"kcsa/sample-questions/#question-52","title":"Question 5.2","text":"<p>In a GitOps workflow, how should Kubernetes Secrets be handled?</p> <p>A) Store them directly in Git B) Use base64 encoding in Git C) Use Sealed Secrets or external secret managers D) Include them in ConfigMaps instead</p> Show Answer  **Answer: C) Use Sealed Secrets or external secret managers**  Secrets should never be stored in plain text in Git. Tools like Sealed Secrets, SOPS, or external secret managers (Vault, AWS Secrets Manager) should be used."},{"location":"kcsa/sample-questions/#question-53","title":"Question 5.3","text":"<p>What does mTLS provide in a service mesh?</p> <p>A) Load balancing only B) Mutual authentication between services C) Service discovery D) Rate limiting</p> Show Answer  **Answer: B) Mutual authentication between services**  mTLS (mutual TLS) ensures both the client and server authenticate each other, providing encrypted and authenticated service-to-service communication."},{"location":"kcsa/sample-questions/#section-6-compliance-and-security-frameworks","title":"Section 6: Compliance and Security Frameworks","text":""},{"location":"kcsa/sample-questions/#question-61","title":"Question 6.1","text":"<p>Which tool is commonly used to check Kubernetes clusters against CIS benchmarks?</p> <p>A) Trivy B) kube-bench C) Falco D) OPA</p> Show Answer  **Answer: B) kube-bench**  kube-bench is specifically designed to check Kubernetes clusters against CIS Kubernetes Benchmark recommendations."},{"location":"kcsa/sample-questions/#question-62","title":"Question 6.2","text":"<p>What are the five core functions of the NIST Cybersecurity Framework?</p> <p>A) Plan, Do, Check, Act, Review B) Identify, Protect, Detect, Respond, Recover C) Assess, Implement, Monitor, Report, Improve D) Prevent, Detect, Contain, Eradicate, Recover</p> Show Answer  **Answer: B) Identify, Protect, Detect, Respond, Recover**  The NIST CSF provides a framework for managing cybersecurity risk through these five core functions."},{"location":"kcsa/sample-questions/#question-63","title":"Question 6.3","text":"<p>Which Kubernetes-native policy engine uses YAML-based policies?</p> <p>A) OPA Gatekeeper B) Kyverno C) Falco D) Trivy</p> Show Answer  **Answer: B) Kyverno**  Kyverno uses Kubernetes-native YAML policies, while OPA Gatekeeper uses the Rego policy language."},{"location":"kcsa/sample-questions/#scenario-based-questions","title":"Scenario-Based Questions","text":""},{"location":"kcsa/sample-questions/#scenario-1","title":"Scenario 1","text":"<p>Your security team has identified that some pods in your cluster are running as root. You need to enforce that all pods in the \"production\" namespace run as non-root users.</p> <p>Question: Which is the most appropriate solution?</p> <p>A) Add a LimitRange to the namespace B) Apply Pod Security Standards with \"restricted\" level C) Create a ResourceQuota D) Configure a HorizontalPodAutoscaler</p> Show Answer  **Answer: B) Apply Pod Security Standards with \"restricted\" level**  Pod Security Standards at the \"restricted\" level enforce that containers must run as non-root, among other security requirements.  <pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n</code></pre>"},{"location":"kcsa/sample-questions/#scenario-2","title":"Scenario 2","text":"<p>You need to ensure that pods in the \"backend\" namespace can only communicate with pods in the \"database\" namespace on port 5432.</p> <p>Question: What type of resource should you create?</p> <p>A) Service B) Ingress C) NetworkPolicy D) PodSecurityPolicy</p> Show Answer  **Answer: C) NetworkPolicy**  NetworkPolicy resources control pod-to-pod communication. You would create an egress policy in the \"backend\" namespace allowing traffic to the \"database\" namespace on port 5432."},{"location":"kcsa/sample-questions/#scenario-3","title":"Scenario 3","text":"<p>An audit reveals that your cluster's API server allows anonymous requests. What is the recommended remediation?</p> <p>A) Enable RBAC authorization mode B) Set <code>--anonymous-auth=false</code> on the API server C) Create a ClusterRole for anonymous users D) Enable audit logging</p> Show Answer  **Answer: B) Set `--anonymous-auth=false` on the API server**  Disabling anonymous authentication prevents unauthenticated requests from accessing the API server."},{"location":"kcsa/sample-questions/#study-tips","title":"Study Tips","text":"<ol> <li>Understand the concepts - Don't just memorize; understand why security controls exist</li> <li>Practice with real clusters - Set up a test cluster and implement security controls</li> <li>Review official documentation - Kubernetes security docs are comprehensive</li> <li>Know the tools - Familiarize yourself with kube-bench, Trivy, Falco, OPA</li> <li>Understand compliance frameworks - Know the basics of CIS, NIST, and Pod Security Standards</li> </ol> <p>\u2190 Back to KCSA Overview</p>"},{"location":"labs/additional-labs/","title":"Additional Certification Labs","text":"<p>Hands-on exercises for additional CNCF certifications.</p>"},{"location":"labs/additional-labs/#ica-istio-labs","title":"ICA - Istio Labs","text":""},{"location":"labs/additional-labs/#lab-1-install-istio","title":"Lab 1: Install Istio","text":"<pre><code># Download Istio\ncurl -L https://istio.io/downloadIstio | sh -\ncd istio-*\nexport PATH=$PWD/bin:$PATH\n\n# Install Istio\nistioctl install --set profile=demo -y\n\n# Enable sidecar injection\nkubectl label namespace default istio-injection=enabled\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-traffic-management","title":"Lab 2: Traffic Management","text":"<pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: reviews-route\nspec:\n  hosts:\n  - reviews\n  http:\n  - match:\n    - headers:\n        end-user:\n          exact: jason\n    route:\n    - destination:\n        host: reviews\n        subset: v2\n  - route:\n    - destination:\n        host: reviews\n        subset: v1\n---\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: reviews-destination\nspec:\n  host: reviews\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n</code></pre>"},{"location":"labs/additional-labs/#cca-cilium-labs","title":"CCA - Cilium Labs","text":""},{"location":"labs/additional-labs/#lab-1-install-cilium","title":"Lab 1: Install Cilium","text":"<pre><code># Install Cilium CLI\ncurl -L --remote-name-all https://github.com/cilium/cilium-cli/releases/latest/download/cilium-linux-amd64.tar.gz\ntar xzvf cilium-linux-amd64.tar.gz\nsudo mv cilium /usr/local/bin\n\n# Install Cilium\ncilium install\n\n# Check status\ncilium status\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-network-policies","title":"Lab 2: Network Policies","text":"<pre><code>apiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: allow-frontend\nspec:\n  endpointSelector:\n    matchLabels:\n      app: backend\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n</code></pre>"},{"location":"labs/additional-labs/#lab-3-hubble-observability","title":"Lab 3: Hubble Observability","text":"<pre><code># Enable Hubble\ncilium hubble enable --ui\n\n# Port forward Hubble UI\ncilium hubble ui\n\n# Observe flows\nhubble observe --namespace default\n</code></pre>"},{"location":"labs/additional-labs/#capa-argo-labs","title":"CAPA - Argo Labs","text":""},{"location":"labs/additional-labs/#lab-1-install-argo-cd","title":"Lab 1: Install Argo CD","text":"<pre><code># Create namespace\nkubectl create namespace argocd\n\n# Install Argo CD\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# Get admin password\nkubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d\n\n# Port forward\nkubectl port-forward svc/argocd-server -n argocd 8080:443\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-create-application","title":"Lab 2: Create Application","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: guestbook\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/argoproj/argocd-example-apps.git\n    targetRevision: HEAD\n    path: guestbook\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: guestbook\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n</code></pre>"},{"location":"labs/additional-labs/#lab-3-argo-rollouts","title":"Lab 3: Argo Rollouts","text":"<pre><code>apiVersion: argoproj.io/v1alpha1\nkind: Rollout\nmetadata:\n  name: canary-rollout\nspec:\n  replicas: 5\n  strategy:\n    canary:\n      steps:\n      - setWeight: 20\n      - pause: {duration: 1m}\n      - setWeight: 40\n      - pause: {duration: 1m}\n      - setWeight: 60\n      - pause: {duration: 1m}\n      - setWeight: 80\n      - pause: {duration: 1m}\n  selector:\n    matchLabels:\n      app: canary-demo\n  template:\n    metadata:\n      labels:\n        app: canary-demo\n    spec:\n      containers:\n      - name: app\n        image: nginx:1.19\n        ports:\n        - containerPort: 80\n</code></pre>"},{"location":"labs/additional-labs/#cgoa-gitops-labs","title":"CGOA - GitOps Labs","text":""},{"location":"labs/additional-labs/#lab-1-flux-cd-setup","title":"Lab 1: Flux CD Setup","text":"<pre><code># Install Flux CLI\ncurl -s https://fluxcd.io/install.sh | sudo bash\n\n# Bootstrap Flux\nflux bootstrap github \\\n  --owner=&lt;your-github-username&gt; \\\n  --repository=fleet-infra \\\n  --branch=main \\\n  --path=./clusters/my-cluster \\\n  --personal\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-gitops-repository-structure","title":"Lab 2: GitOps Repository Structure","text":"<pre><code>fleet-infra/\n\u251c\u2500\u2500 clusters/\n\u2502   \u2514\u2500\u2500 my-cluster/\n\u2502       \u251c\u2500\u2500 flux-system/\n\u2502       \u2514\u2500\u2500 apps.yaml\n\u251c\u2500\u2500 infrastructure/\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2514\u2500\u2500 configs/\n\u2514\u2500\u2500 apps/\n    \u251c\u2500\u2500 base/\n    \u2514\u2500\u2500 production/\n</code></pre>"},{"location":"labs/additional-labs/#kca-kyverno-labs","title":"KCA - Kyverno Labs","text":""},{"location":"labs/additional-labs/#lab-1-install-kyverno","title":"Lab 1: Install Kyverno","text":"<pre><code># Install Kyverno\nkubectl create -f https://github.com/kyverno/kyverno/releases/download/v1.10.0/install.yaml\n\n# Verify installation\nkubectl get pods -n kyverno\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-validation-policy","title":"Lab 2: Validation Policy","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: require-labels\nspec:\n  validationFailureAction: Enforce\n  rules:\n  - name: check-team-label\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    validate:\n      message: \"Label 'team' is required\"\n      pattern:\n        metadata:\n          labels:\n            team: \"?*\"\n</code></pre>"},{"location":"labs/additional-labs/#lab-3-mutation-policy","title":"Lab 3: Mutation Policy","text":"<pre><code>apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: add-default-resources\nspec:\n  rules:\n  - name: add-default-requests\n    match:\n      any:\n      - resources:\n          kinds:\n          - Pod\n    mutate:\n      patchStrategicMerge:\n        spec:\n          containers:\n          - (name): \"*\"\n            resources:\n              requests:\n                memory: \"64Mi\"\n                cpu: \"100m\"\n</code></pre>"},{"location":"labs/additional-labs/#otca-opentelemetry-labs","title":"OTCA - OpenTelemetry Labs","text":""},{"location":"labs/additional-labs/#lab-1-install-opentelemetry-collector","title":"Lab 1: Install OpenTelemetry Collector","text":"<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: otel-collector-config\ndata:\n  config.yaml: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n            endpoint: 0.0.0.0:4317\n          http:\n            endpoint: 0.0.0.0:4318\n\n    processors:\n      batch:\n        timeout: 1s\n        send_batch_size: 1024\n\n    exporters:\n      logging:\n        loglevel: debug\n      prometheus:\n        endpoint: \"0.0.0.0:8889\"\n\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging]\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [prometheus]\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-instrument-python-application","title":"Lab 2: Instrument Python Application","text":"<pre><code>from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\n\n# Setup tracing\ntrace.set_tracer_provider(TracerProvider())\ntracer = trace.get_tracer(__name__)\n\notlp_exporter = OTLPSpanExporter(endpoint=\"localhost:4317\", insecure=True)\nspan_processor = BatchSpanProcessor(otlp_exporter)\ntrace.get_tracer_provider().add_span_processor(span_processor)\n\n# Create spans\nwith tracer.start_as_current_span(\"main\"):\n    with tracer.start_as_current_span(\"child\"):\n        print(\"Hello, OpenTelemetry!\")\n</code></pre>"},{"location":"labs/additional-labs/#cba-backstage-labs","title":"CBA - Backstage Labs","text":""},{"location":"labs/additional-labs/#lab-1-create-backstage-app","title":"Lab 1: Create Backstage App","text":"<pre><code># Create Backstage app\nnpx @backstage/create-app@latest\n\n# Start development server\ncd my-backstage-app\nyarn dev\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-register-component","title":"Lab 2: Register Component","text":"<pre><code># catalog-info.yaml\napiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  description: My microservice\n  annotations:\n    github.com/project-slug: myorg/my-service\nspec:\n  type: service\n  lifecycle: production\n  owner: team-a\n  system: my-system\n</code></pre>"},{"location":"labs/additional-labs/#cnpecnpa-platform-engineering-labs","title":"CNPE/CNPA - Platform Engineering Labs","text":""},{"location":"labs/additional-labs/#lab-1-crossplane-setup","title":"Lab 1: Crossplane Setup","text":"<pre><code># Install Crossplane\nkubectl create namespace crossplane-system\nhelm repo add crossplane-stable https://charts.crossplane.io/stable\nhelm install crossplane crossplane-stable/crossplane -n crossplane-system\n</code></pre>"},{"location":"labs/additional-labs/#lab-2-composite-resource","title":"Lab 2: Composite Resource","text":"<pre><code>apiVersion: apiextensions.crossplane.io/v1\nkind: CompositeResourceDefinition\nmetadata:\n  name: databases.platform.example.com\nspec:\n  group: platform.example.com\n  names:\n    kind: Database\n    plural: databases\n  versions:\n  - name: v1\n    served: true\n    referenceable: true\n    schema:\n      openAPIV3Schema:\n        type: object\n        properties:\n          spec:\n            type: object\n            properties:\n              size:\n                type: string\n                enum: [small, medium, large]\n</code></pre>"},{"location":"labs/additional-labs/#additional-resources","title":"Additional Resources","text":"<ul> <li>Killercoda Interactive Scenarios</li> <li>Play with Kubernetes</li> <li>Katacoda Alternatives</li> </ul> <p>\u2190 Back to Home</p>"},{"location":"labs/cka-labs/","title":"CKA Hands-on Lab Exercises","text":"<p>These labs simulate real CKA exam scenarios. Practice these exercises to build hands-on skills for the performance-based exam.</p>"},{"location":"labs/cka-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes cluster (kubeadm, minikube, or kind)</li> <li>kubectl configured</li> <li>Root/sudo access for cluster operations</li> </ul>"},{"location":"labs/cka-labs/#lab-1-cluster-installation-with-kubeadm","title":"Lab 1: Cluster Installation with kubeadm","text":"<p>Objective: Install a Kubernetes cluster using kubeadm</p>"},{"location":"labs/cka-labs/#tasks","title":"Tasks","text":"<ol> <li>Initialize control plane:</li> </ol> <pre><code># On control plane node\nsudo kubeadm init --pod-network-cidr=10.244.0.0/16\n\n# Set up kubeconfig\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\n</code></pre> <ol> <li>Install CNI (Calico):</li> </ol> <pre><code>kubectl apply -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.0/manifests/calico.yaml\n</code></pre> <ol> <li>Join worker nodes:</li> </ol> <pre><code># On worker nodes (use token from kubeadm init output)\nsudo kubeadm join &lt;control-plane-ip&gt;:6443 --token &lt;token&gt; \\\n    --discovery-token-ca-cert-hash sha256:&lt;hash&gt;\n</code></pre> <ol> <li>Verify cluster:</li> </ol> <pre><code>kubectl get nodes\nkubectl get pods -n kube-system\n</code></pre> Expected Outcome  - Control plane initialized successfully - CNI installed and running - Worker nodes joined and Ready - All system pods running"},{"location":"labs/cka-labs/#lab-2-etcd-backup-and-restore","title":"Lab 2: ETCD Backup and Restore","text":"<p>Objective: Backup and restore etcd cluster data</p>"},{"location":"labs/cka-labs/#tasks_1","title":"Tasks","text":"<ol> <li>Create test data:</li> </ol> <pre><code>kubectl create namespace backup-test\nkubectl create deployment nginx --image=nginx -n backup-test\nkubectl get all -n backup-test\n</code></pre> <ol> <li>Backup etcd:</li> </ol> <pre><code># Find etcd pod and get certs location\nkubectl describe pod -n kube-system etcd-&lt;node-name&gt;\n\n# Backup etcd\nETCDCTL_API=3 etcdctl snapshot save /tmp/etcd-backup.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Verify backup\nETCDCTL_API=3 etcdctl snapshot status /tmp/etcd-backup.db --write-out=table\n</code></pre> <ol> <li>Simulate data loss:</li> </ol> <pre><code>kubectl delete namespace backup-test\nkubectl get namespace backup-test  # Should not exist\n</code></pre> <ol> <li>Restore etcd:</li> </ol> <pre><code># Stop kube-apiserver (move manifest)\nsudo mv /etc/kubernetes/manifests/kube-apiserver.yaml /tmp/\n\n# Restore snapshot\nETCDCTL_API=3 etcdctl snapshot restore /tmp/etcd-backup.db \\\n  --data-dir=/var/lib/etcd-restored\n\n# Update etcd manifest to use new data-dir\nsudo sed -i 's|/var/lib/etcd|/var/lib/etcd-restored|g' /etc/kubernetes/manifests/etcd.yaml\n\n# Restore kube-apiserver\nsudo mv /tmp/kube-apiserver.yaml /etc/kubernetes/manifests/\n\n# Verify restoration\nkubectl get namespace backup-test\nkubectl get deployment -n backup-test\n</code></pre> Expected Outcome  - Backup created successfully - After restore, backup-test namespace and deployment exist again"},{"location":"labs/cka-labs/#lab-3-cluster-upgrade","title":"Lab 3: Cluster Upgrade","text":"<p>Objective: Upgrade Kubernetes cluster version</p>"},{"location":"labs/cka-labs/#tasks_2","title":"Tasks","text":"<ol> <li>Check current version:</li> </ol> <pre><code>kubectl get nodes\nkubeadm version\n</code></pre> <ol> <li>Upgrade control plane:</li> </ol> <pre><code># Update package repo\nsudo apt update\nsudo apt-cache madison kubeadm\n\n# Upgrade kubeadm\nsudo apt-mark unhold kubeadm\nsudo apt-get install -y kubeadm=1.28.0-00\nsudo apt-mark hold kubeadm\n\n# Plan upgrade\nsudo kubeadm upgrade plan\n\n# Apply upgrade\nsudo kubeadm upgrade apply v1.28.0\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt-get install -y kubelet=1.28.0-00 kubectl=1.28.0-00\nsudo apt-mark hold kubelet kubectl\n\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n</code></pre> <ol> <li>Upgrade worker nodes:</li> </ol> <pre><code># Drain node\nkubectl drain &lt;worker-node&gt; --ignore-daemonsets --delete-emptydir-data\n\n# On worker node: upgrade kubeadm, kubelet, kubectl\n# Then uncordon\nkubectl uncordon &lt;worker-node&gt;\n</code></pre> <ol> <li>Verify upgrade:</li> </ol> <pre><code>kubectl get nodes\n</code></pre> Expected Outcome  - All nodes upgraded to new version - Cluster functioning normally after upgrade"},{"location":"labs/cka-labs/#lab-4-troubleshooting-broken-cluster","title":"Lab 4: Troubleshooting Broken Cluster","text":"<p>Objective: Diagnose and fix cluster issues</p>"},{"location":"labs/cka-labs/#scenario-1-kubelet-not-running","title":"Scenario 1: Kubelet Not Running","text":"<pre><code># Check kubelet status\nsudo systemctl status kubelet\n\n# Check logs\nsudo journalctl -u kubelet -f\n\n# Common fixes:\nsudo systemctl start kubelet\nsudo systemctl enable kubelet\n</code></pre>"},{"location":"labs/cka-labs/#scenario-2-api-server-not-responding","title":"Scenario 2: API Server Not Responding","text":"<pre><code># Check API server pod\nsudo crictl ps | grep kube-apiserver\n\n# Check manifest\nsudo cat /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Check logs\nsudo crictl logs &lt;container-id&gt;\n</code></pre>"},{"location":"labs/cka-labs/#scenario-3-node-notready","title":"Scenario 3: Node NotReady","text":"<pre><code># Check node conditions\nkubectl describe node &lt;node-name&gt;\n\n# Check kubelet on node\nssh &lt;node&gt; \"sudo systemctl status kubelet\"\n\n# Check CNI\nkubectl get pods -n kube-system | grep -E \"calico|flannel|weave\"\n</code></pre>"},{"location":"labs/cka-labs/#scenario-4-pods-pending","title":"Scenario 4: Pods Pending","text":"<pre><code># Check pod events\nkubectl describe pod &lt;pod-name&gt;\n\n# Check scheduler\nkubectl get pods -n kube-system | grep scheduler\n\n# Check node resources\nkubectl describe nodes | grep -A5 \"Allocated resources\"\n</code></pre> Troubleshooting Checklist  1. Check component status: `kubectl get componentstatuses` 2. Check node status: `kubectl get nodes` 3. Check system pods: `kubectl get pods -n kube-system` 4. Check kubelet: `systemctl status kubelet` 5. Check logs: `journalctl -u kubelet`"},{"location":"labs/cka-labs/#lab-5-workload-scheduling","title":"Lab 5: Workload Scheduling","text":"<p>Objective: Control pod placement using various scheduling methods</p>"},{"location":"labs/cka-labs/#tasks_3","title":"Tasks","text":"<ol> <li>Node Selector:</li> </ol> <pre><code># Label node\nkubectl label node &lt;node-name&gt; disktype=ssd\n\n# Create pod with nodeSelector\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-ssd\nspec:\n  nodeSelector:\n    disktype: ssd\n  containers:\n  - name: nginx\n    image: nginx\nEOF\n\nkubectl get pod nginx-ssd -o wide\n</code></pre> <ol> <li>Node Affinity:</li> </ol> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-affinity\nspec:\n  affinity:\n    nodeAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        nodeSelectorTerms:\n        - matchExpressions:\n          - key: disktype\n            operator: In\n            values:\n            - ssd\n  containers:\n  - name: nginx\n    image: nginx\n</code></pre> <ol> <li>Taints and Tolerations:</li> </ol> <pre><code># Taint a node\nkubectl taint nodes &lt;node-name&gt; dedicated=special:NoSchedule\n\n# Create pod with toleration\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-toleration\nspec:\n  tolerations:\n  - key: \"dedicated\"\n    operator: \"Equal\"\n    value: \"special\"\n    effect: \"NoSchedule\"\n  containers:\n  - name: nginx\n    image: nginx\nEOF\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete pod nginx-ssd nginx-affinity nginx-toleration\nkubectl taint nodes &lt;node-name&gt; dedicated-\nkubectl label node &lt;node-name&gt; disktype-\n</code></pre> Expected Outcome  - Pods scheduled only on nodes matching criteria - Taints prevent scheduling unless tolerated"},{"location":"labs/cka-labs/#lab-6-services-and-networking","title":"Lab 6: Services and Networking","text":"<p>Objective: Configure various service types and network policies</p>"},{"location":"labs/cka-labs/#tasks_4","title":"Tasks","text":"<ol> <li>Create deployment and services:</li> </ol> <pre><code>kubectl create deployment web --image=nginx --replicas=3\n\n# ClusterIP\nkubectl expose deployment web --port=80 --name=web-clusterip\n\n# NodePort\nkubectl expose deployment web --port=80 --type=NodePort --name=web-nodeport\n\n# Verify\nkubectl get svc\n</code></pre> <ol> <li>Create NetworkPolicy:</li> </ol> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: deny-all\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-web\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: web\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          access: allowed\n    ports:\n    - protocol: TCP\n      port: 80\n</code></pre> <ol> <li>Test NetworkPolicy:</li> </ol> <pre><code># This should fail (no label)\nkubectl run test --image=busybox --rm -it --restart=Never -- wget -qO- --timeout=2 http://web-clusterip\n\n# This should work (has label)\nkubectl run test --image=busybox --rm -it --restart=Never --labels=\"access=allowed\" -- wget -qO- http://web-clusterip\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete deployment web\nkubectl delete svc web-clusterip web-nodeport\nkubectl delete networkpolicy deny-all allow-web\n</code></pre>"},{"location":"labs/cka-labs/#lab-7-storage-pv-and-pvc","title":"Lab 7: Storage - PV and PVC","text":"<p>Objective: Configure persistent storage</p>"},{"location":"labs/cka-labs/#tasks_5","title":"Tasks","text":"<ol> <li>Create PersistentVolume:</li> </ol> <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-hostpath\nspec:\n  capacity:\n    storage: 1Gi\n  accessModes:\n  - ReadWriteOnce\n  hostPath:\n    path: /tmp/pv-data\n  persistentVolumeReclaimPolicy: Retain\n</code></pre> <ol> <li>Create PersistentVolumeClaim:</li> </ol> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: pvc-hostpath\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 500Mi\n</code></pre> <ol> <li>Use PVC in Pod:</li> </ol> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: pv-pod\nspec:\n  containers:\n  - name: app\n    image: nginx\n    volumeMounts:\n    - mountPath: /data\n      name: storage\n  volumes:\n  - name: storage\n    persistentVolumeClaim:\n      claimName: pvc-hostpath\n</code></pre> <ol> <li>Verify:</li> </ol> <pre><code>kubectl get pv,pvc\nkubectl exec pv-pod -- ls /data\nkubectl exec pv-pod -- sh -c \"echo 'test data' &gt; /data/test.txt\"\nkubectl exec pv-pod -- cat /data/test.txt\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete pod pv-pod\nkubectl delete pvc pvc-hostpath\nkubectl delete pv pv-hostpath\n</code></pre>"},{"location":"labs/cka-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Killer.sh CKA Simulator (included with exam)</li> <li>Killercoda CKA Scenarios</li> <li>Kubernetes the Hard Way</li> </ul> <p>\u2190 Back to CKA Overview</p>"},{"location":"labs/ckad-labs/","title":"CKAD Hands-on Lab Exercises","text":"<p>These labs simulate real CKAD exam scenarios focused on application development and deployment.</p>"},{"location":"labs/ckad-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes cluster access</li> <li>kubectl configured</li> <li>Familiarity with YAML</li> </ul>"},{"location":"labs/ckad-labs/#lab-1-pod-design-patterns","title":"Lab 1: Pod Design Patterns","text":"<p>Objective: Create pods with various design patterns</p>"},{"location":"labs/ckad-labs/#multi-container-pod","title":"Multi-Container Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: multi-container\nspec:\n  containers:\n  - name: app\n    image: nginx\n    ports:\n    - containerPort: 80\n  - name: sidecar\n    image: busybox\n    command: ['sh', '-c', 'while true; do wget -qO- http://localhost:80 &gt;&gt; /var/log/access.log; sleep 5; done']\n    volumeMounts:\n    - name: logs\n      mountPath: /var/log\n  volumes:\n  - name: logs\n    emptyDir: {}\n</code></pre>"},{"location":"labs/ckad-labs/#init-container","title":"Init Container","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: init-demo\nspec:\n  initContainers:\n  - name: init-service\n    image: busybox\n    command: ['sh', '-c', 'until nslookup myservice; do echo waiting; sleep 2; done']\n  containers:\n  - name: app\n    image: nginx\n</code></pre>"},{"location":"labs/ckad-labs/#tasks","title":"Tasks","text":"<pre><code>kubectl apply -f multi-container.yaml\nkubectl logs multi-container -c sidecar\nkubectl exec multi-container -c app -- cat /usr/share/nginx/html/index.html\n</code></pre> Expected Outcome  - Multi-container pod runs both containers - Init container runs before main container - Sidecar continuously logs access"},{"location":"labs/ckad-labs/#lab-2-deployments-and-rolling-updates","title":"Lab 2: Deployments and Rolling Updates","text":"<p>Objective: Manage deployments with various update strategies</p>"},{"location":"labs/ckad-labs/#tasks_1","title":"Tasks","text":"<ol> <li>Create deployment:</li> </ol> <pre><code>kubectl create deployment webapp --image=nginx:1.19 --replicas=4\nkubectl get deployment webapp -o yaml &gt; webapp.yaml\n</code></pre> <ol> <li>Configure rolling update strategy:</li> </ol> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: webapp\nspec:\n  replicas: 4\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 1\n  selector:\n    matchLabels:\n      app: webapp\n  template:\n    metadata:\n      labels:\n        app: webapp\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.19\n        ports:\n        - containerPort: 80\n        readinessProbe:\n          httpGet:\n            path: /\n            port: 80\n          initialDelaySeconds: 5\n          periodSeconds: 5\n</code></pre> <ol> <li>Perform rolling update:</li> </ol> <pre><code>kubectl set image deployment/webapp nginx=nginx:1.20\nkubectl rollout status deployment/webapp\nkubectl rollout history deployment/webapp\n</code></pre> <ol> <li>Rollback:</li> </ol> <pre><code>kubectl rollout undo deployment/webapp\nkubectl rollout undo deployment/webapp --to-revision=1\n</code></pre> <ol> <li>Pause and resume:</li> </ol> <pre><code>kubectl rollout pause deployment/webapp\nkubectl set image deployment/webapp nginx=nginx:1.21\nkubectl rollout resume deployment/webapp\n</code></pre>"},{"location":"labs/ckad-labs/#lab-3-jobs-and-cronjobs","title":"Lab 3: Jobs and CronJobs","text":"<p>Objective: Create batch workloads</p>"},{"location":"labs/ckad-labs/#job","title":"Job","text":"<pre><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: pi-job\nspec:\n  completions: 3\n  parallelism: 2\n  backoffLimit: 4\n  template:\n    spec:\n      containers:\n      - name: pi\n        image: perl\n        command: [\"perl\", \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"]\n      restartPolicy: Never\n</code></pre>"},{"location":"labs/ckad-labs/#cronjob","title":"CronJob","text":"<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: backup-job\nspec:\n  schedule: \"*/5 * * * *\"\n  successfulJobsHistoryLimit: 3\n  failedJobsHistoryLimit: 1\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: backup\n            image: busybox\n            command: ['sh', '-c', 'echo \"Backup completed at $(date)\"']\n          restartPolicy: OnFailure\n</code></pre>"},{"location":"labs/ckad-labs/#tasks_2","title":"Tasks","text":"<pre><code>kubectl apply -f pi-job.yaml\nkubectl get jobs -w\nkubectl logs job/pi-job\n\nkubectl apply -f backup-job.yaml\nkubectl get cronjobs\nkubectl get jobs --watch\n</code></pre>"},{"location":"labs/ckad-labs/#lab-4-configmaps-and-secrets","title":"Lab 4: ConfigMaps and Secrets","text":"<p>Objective: Manage application configuration</p>"},{"location":"labs/ckad-labs/#configmap-from-file","title":"ConfigMap from file","text":"<pre><code># Create config file\ncat &lt;&lt;EOF &gt; app.properties\ndatabase.host=mysql.default.svc\ndatabase.port=3306\nlog.level=INFO\nEOF\n\nkubectl create configmap app-config --from-file=app.properties\n</code></pre>"},{"location":"labs/ckad-labs/#configmap-as-environment-variables","title":"ConfigMap as environment variables","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: config-env-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'echo \"DB: $DB_HOST:$DB_PORT\" &amp;&amp; sleep 3600']\n    env:\n    - name: DB_HOST\n      valueFrom:\n        configMapKeyRef:\n          name: app-config\n          key: database.host\n    - name: DB_PORT\n      valueFrom:\n        configMapKeyRef:\n          name: app-config\n          key: database.port\n</code></pre>"},{"location":"labs/ckad-labs/#configmap-as-volume","title":"ConfigMap as volume","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: config-vol-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'cat /config/app.properties &amp;&amp; sleep 3600']\n    volumeMounts:\n    - name: config\n      mountPath: /config\n  volumes:\n  - name: config\n    configMap:\n      name: app-config\n</code></pre>"},{"location":"labs/ckad-labs/#secret","title":"Secret","text":"<pre><code>kubectl create secret generic db-credentials \\\n  --from-literal=username=admin \\\n  --from-literal=password=secretpass123\n</code></pre> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'echo \"User: $DB_USER\" &amp;&amp; sleep 3600']\n    env:\n    - name: DB_USER\n      valueFrom:\n        secretKeyRef:\n          name: db-credentials\n          key: username\n    - name: DB_PASS\n      valueFrom:\n        secretKeyRef:\n          name: db-credentials\n          key: password\n</code></pre>"},{"location":"labs/ckad-labs/#lab-5-probes-and-resource-management","title":"Lab 5: Probes and Resource Management","text":"<p>Objective: Configure health checks and resource limits</p>"},{"location":"labs/ckad-labs/#liveness-and-readiness-probes","title":"Liveness and Readiness Probes","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: probe-demo\nspec:\n  containers:\n  - name: app\n    image: nginx\n    ports:\n    - containerPort: 80\n    livenessProbe:\n      httpGet:\n        path: /healthz\n        port: 80\n      initialDelaySeconds: 10\n      periodSeconds: 5\n      failureThreshold: 3\n    readinessProbe:\n      httpGet:\n        path: /ready\n        port: 80\n      initialDelaySeconds: 5\n      periodSeconds: 3\n    resources:\n      requests:\n        memory: \"64Mi\"\n        cpu: \"100m\"\n      limits:\n        memory: \"128Mi\"\n        cpu: \"200m\"\n</code></pre>"},{"location":"labs/ckad-labs/#limitrange","title":"LimitRange","text":"<pre><code>apiVersion: v1\nkind: LimitRange\nmetadata:\n  name: default-limits\nspec:\n  limits:\n  - default:\n      memory: \"256Mi\"\n      cpu: \"200m\"\n    defaultRequest:\n      memory: \"128Mi\"\n      cpu: \"100m\"\n    type: Container\n</code></pre>"},{"location":"labs/ckad-labs/#lab-6-services-and-ingress","title":"Lab 6: Services and Ingress","text":"<p>Objective: Expose applications</p>"},{"location":"labs/ckad-labs/#create-services","title":"Create services","text":"<pre><code>kubectl create deployment web --image=nginx --replicas=3\nkubectl expose deployment web --port=80 --target-port=80 --name=web-svc\nkubectl expose deployment web --port=80 --type=NodePort --name=web-nodeport\n</code></pre>"},{"location":"labs/ckad-labs/#ingress","title":"Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: web-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: web-svc\n            port:\n              number: 80\n      - path: /api\n        pathType: Prefix\n        backend:\n          service:\n            name: api-svc\n            port:\n              number: 8080\n</code></pre>"},{"location":"labs/ckad-labs/#lab-7-security-context","title":"Lab 7: Security Context","text":"<p>Objective: Configure pod security</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: security-demo\nspec:\n  securityContext:\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'id &amp;&amp; sleep 3600']\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n    volumeMounts:\n    - name: tmp\n      mountPath: /tmp\n  volumes:\n  - name: tmp\n    emptyDir: {}\n</code></pre>"},{"location":"labs/ckad-labs/#tasks_3","title":"Tasks","text":"<pre><code>kubectl apply -f security-demo.yaml\nkubectl exec security-demo -- id\nkubectl exec security-demo -- touch /tmp/test  # Should work\nkubectl exec security-demo -- touch /test      # Should fail (read-only)\n</code></pre>"},{"location":"labs/ckad-labs/#lab-8-helm-basics","title":"Lab 8: Helm Basics","text":"<p>Objective: Deploy applications using Helm</p> <pre><code># Add repo\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n\n# Search charts\nhelm search repo nginx\n\n# Install chart\nhelm install my-nginx bitnami/nginx\n\n# List releases\nhelm list\n\n# Upgrade with values\nhelm upgrade my-nginx bitnami/nginx --set replicaCount=3\n\n# Rollback\nhelm rollback my-nginx 1\n\n# Uninstall\nhelm uninstall my-nginx\n</code></pre>"},{"location":"labs/ckad-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Killer.sh CKAD Simulator</li> <li>Killercoda CKAD Scenarios</li> <li>CKAD Exercises GitHub</li> </ul> <p>\u2190 Back to CKAD Overview</p>"},{"location":"labs/cks-labs/","title":"CKS Hands-on Lab Exercises","text":"<p>These labs simulate real CKS exam scenarios focused on Kubernetes security.</p>"},{"location":"labs/cks-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes cluster with admin access</li> <li>kubectl configured</li> <li>Tools: trivy, falco, apparmor, seccomp</li> </ul>"},{"location":"labs/cks-labs/#lab-1-network-policies","title":"Lab 1: Network Policies","text":"<p>Objective: Implement network segmentation</p>"},{"location":"labs/cks-labs/#default-deny-all","title":"Default Deny All","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\n  namespace: secure-ns\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"labs/cks-labs/#allow-specific-traffic","title":"Allow Specific Traffic","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend-to-backend\n  namespace: secure-ns\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"labs/cks-labs/#tasks","title":"Tasks","text":"<pre><code># Create namespace\nkubectl create namespace secure-ns\n\n# Deploy apps\nkubectl create deployment frontend --image=nginx -n secure-ns\nkubectl create deployment backend --image=nginx -n secure-ns\nkubectl label deployment frontend app=frontend -n secure-ns\nkubectl label deployment backend app=backend -n secure-ns\n\n# Apply policies\nkubectl apply -f default-deny-all.yaml\nkubectl apply -f allow-frontend-to-backend.yaml\n\n# Test connectivity\nkubectl exec -n secure-ns deploy/frontend -- curl backend:80 --max-time 2\n</code></pre>"},{"location":"labs/cks-labs/#lab-2-pod-security-standards","title":"Lab 2: Pod Security Standards","text":"<p>Objective: Enforce pod security using admission controllers</p>"},{"location":"labs/cks-labs/#restricted-pod-security-standard","title":"Restricted Pod Security Standard","text":"<pre><code># Label namespace for restricted enforcement\nkubectl label namespace secure-ns \\\n  pod-security.kubernetes.io/enforce=restricted \\\n  pod-security.kubernetes.io/warn=restricted \\\n  pod-security.kubernetes.io/audit=restricted\n</code></pre>"},{"location":"labs/cks-labs/#compliant-pod","title":"Compliant Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\n  namespace: secure-ns\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx\n    securityContext:\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n        - ALL\n      readOnlyRootFilesystem: true\n    volumeMounts:\n    - name: tmp\n      mountPath: /tmp\n    - name: cache\n      mountPath: /var/cache/nginx\n    - name: run\n      mountPath: /var/run\n  volumes:\n  - name: tmp\n    emptyDir: {}\n  - name: cache\n    emptyDir: {}\n  - name: run\n    emptyDir: {}\n</code></pre>"},{"location":"labs/cks-labs/#non-compliant-pod-will-be-rejected","title":"Non-Compliant Pod (will be rejected)","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: insecure-pod\n  namespace: secure-ns\nspec:\n  containers:\n  - name: app\n    image: nginx\n    securityContext:\n      privileged: true  # This will be rejected\n</code></pre>"},{"location":"labs/cks-labs/#lab-3-rbac-configuration","title":"Lab 3: RBAC Configuration","text":"<p>Objective: Implement least-privilege access</p>"},{"location":"labs/cks-labs/#create-serviceaccount-and-role","title":"Create ServiceAccount and Role","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: app-sa\n  namespace: default\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: pod-reader\n  namespace: default\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\"]\n  verbs: [\"get\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: read-pods\n  namespace: default\nsubjects:\n- kind: ServiceAccount\n  name: app-sa\n  namespace: default\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"labs/cks-labs/#test-rbac","title":"Test RBAC","text":"<pre><code># Create resources\nkubectl apply -f rbac.yaml\n\n# Test as service account\nkubectl auth can-i get pods --as=system:serviceaccount:default:app-sa\nkubectl auth can-i delete pods --as=system:serviceaccount:default:app-sa\nkubectl auth can-i get secrets --as=system:serviceaccount:default:app-sa\n</code></pre>"},{"location":"labs/cks-labs/#lab-4-image-security-with-trivy","title":"Lab 4: Image Security with Trivy","text":"<p>Objective: Scan container images for vulnerabilities</p>"},{"location":"labs/cks-labs/#install-trivy","title":"Install Trivy","text":"<pre><code># Install trivy\ncurl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n</code></pre>"},{"location":"labs/cks-labs/#scan-images","title":"Scan Images","text":"<pre><code># Scan nginx image\ntrivy image nginx:latest\n\n# Scan with severity filter\ntrivy image --severity HIGH,CRITICAL nginx:latest\n\n# Scan and fail on critical\ntrivy image --exit-code 1 --severity CRITICAL nginx:latest\n\n# Scan local image\ntrivy image --input myapp.tar\n</code></pre>"},{"location":"labs/cks-labs/#imagepolicywebhook-admission-controller","title":"ImagePolicyWebhook (Admission Controller)","text":"<pre><code>apiVersion: v1\nkind: Config\nclusters:\n- name: image-checker\n  cluster:\n    server: https://image-policy-webhook:443\n    certificate-authority: /etc/kubernetes/pki/webhook-ca.crt\nusers:\n- name: api-server\n  user:\n    client-certificate: /etc/kubernetes/pki/apiserver.crt\n    client-key: /etc/kubernetes/pki/apiserver.key\ncontexts:\n- context:\n    cluster: image-checker\n    user: api-server\n  name: image-checker\ncurrent-context: image-checker\n</code></pre>"},{"location":"labs/cks-labs/#lab-5-runtime-security-with-falco","title":"Lab 5: Runtime Security with Falco","text":"<p>Objective: Detect runtime threats</p>"},{"location":"labs/cks-labs/#install-falco","title":"Install Falco","text":"<pre><code># Add Helm repo\nhelm repo add falcosecurity https://falcosecurity.github.io/charts\nhelm repo update\n\n# Install Falco\nhelm install falco falcosecurity/falco \\\n  --namespace falco --create-namespace \\\n  --set falcosidekick.enabled=true\n</code></pre>"},{"location":"labs/cks-labs/#custom-falco-rules","title":"Custom Falco Rules","text":"<pre><code># Save as custom-rules.yaml\n- rule: Detect Shell in Container\n  desc: Detect shell execution in container\n  condition: &gt;\n    spawned_process and container and\n    proc.name in (bash, sh, zsh, ksh)\n  output: &gt;\n    Shell spawned in container\n    (user=%user.name container=%container.name shell=%proc.name)\n  priority: WARNING\n\n- rule: Detect Sensitive File Access\n  desc: Detect access to sensitive files\n  condition: &gt;\n    open_read and container and\n    fd.name in (/etc/shadow, /etc/passwd)\n  output: &gt;\n    Sensitive file accessed\n    (user=%user.name file=%fd.name container=%container.name)\n  priority: CRITICAL\n</code></pre>"},{"location":"labs/cks-labs/#test-falco","title":"Test Falco","text":"<pre><code># Trigger shell detection\nkubectl exec -it &lt;pod-name&gt; -- /bin/bash\n\n# Check Falco logs\nkubectl logs -n falco -l app.kubernetes.io/name=falco\n</code></pre>"},{"location":"labs/cks-labs/#lab-6-secrets-management","title":"Lab 6: Secrets Management","text":"<p>Objective: Secure secrets handling</p>"},{"location":"labs/cks-labs/#encrypt-secrets-at-rest","title":"Encrypt Secrets at Rest","text":"<pre><code># /etc/kubernetes/enc/enc.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n- resources:\n  - secrets\n  providers:\n  - aescbc:\n      keys:\n      - name: key1\n        secret: &lt;base64-encoded-32-byte-key&gt;\n  - identity: {}\n</code></pre> <pre><code># Generate encryption key\nhead -c 32 /dev/urandom | base64\n\n# Update API server manifest\n# Add to kube-apiserver.yaml:\n# --encryption-provider-config=/etc/kubernetes/enc/enc.yaml\n\n# Verify encryption\nkubectl get secrets -A -o json | kubectl replace -f -\nETCDCTL_API=3 etcdctl get /registry/secrets/default/my-secret | hexdump -C\n</code></pre>"},{"location":"labs/cks-labs/#external-secrets-vault-integration","title":"External Secrets (Vault Integration)","text":"<pre><code>apiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: vault-secret\nspec:\n  refreshInterval: 1h\n  secretStoreRef:\n    name: vault-backend\n    kind: SecretStore\n  target:\n    name: my-secret\n  data:\n  - secretKey: password\n    remoteRef:\n      key: secret/data/myapp\n      property: password\n</code></pre>"},{"location":"labs/cks-labs/#lab-7-audit-logging","title":"Lab 7: Audit Logging","text":"<p>Objective: Configure Kubernetes audit logging</p>"},{"location":"labs/cks-labs/#audit-policy","title":"Audit Policy","text":"<pre><code># /etc/kubernetes/audit-policy.yaml\napiVersion: audit.k8s.io/v1\nkind: Policy\nrules:\n- level: None\n  resources:\n  - group: \"\"\n    resources: [\"endpoints\", \"services\", \"services/status\"]\n- level: None\n  users: [\"system:kube-proxy\"]\n  verbs: [\"watch\"]\n  resources:\n  - group: \"\"\n    resources: [\"endpoints\", \"services\", \"services/status\"]\n- level: RequestResponse\n  resources:\n  - group: \"\"\n    resources: [\"secrets\", \"configmaps\"]\n- level: Metadata\n  resources:\n  - group: \"\"\n    resources: [\"pods\", \"deployments\"]\n- level: Request\n  omitStages:\n  - RequestReceived\n  resources:\n  - group: \"\"\n    resources: [\"pods/log\", \"pods/status\"]\n</code></pre>"},{"location":"labs/cks-labs/#enable-audit-logging","title":"Enable Audit Logging","text":"<pre><code># Add to kube-apiserver.yaml\nspec:\n  containers:\n  - command:\n    - kube-apiserver\n    - --audit-policy-file=/etc/kubernetes/audit-policy.yaml\n    - --audit-log-path=/var/log/kubernetes/audit.log\n    - --audit-log-maxage=30\n    - --audit-log-maxbackup=10\n    - --audit-log-maxsize=100\n</code></pre>"},{"location":"labs/cks-labs/#lab-8-apparmor-and-seccomp","title":"Lab 8: AppArmor and Seccomp","text":"<p>Objective: Apply kernel security profiles</p>"},{"location":"labs/cks-labs/#apparmor-profile","title":"AppArmor Profile","text":"<pre><code># Create AppArmor profile\ncat &lt;&lt;EOF | sudo tee /etc/apparmor.d/k8s-deny-write\n#include &lt;tunables/global&gt;\nprofile k8s-deny-write flags=(attach_disconnected) {\n  #include &lt;abstractions/base&gt;\n  file,\n  deny /tmp/** w,\n  deny /var/tmp/** w,\n}\nEOF\n\n# Load profile\nsudo apparmor_parser -r /etc/apparmor.d/k8s-deny-write\n</code></pre>"},{"location":"labs/cks-labs/#pod-with-apparmor","title":"Pod with AppArmor","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: apparmor-pod\n  annotations:\n    container.apparmor.security.beta.kubernetes.io/app: localhost/k8s-deny-write\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'sleep 3600']\n</code></pre>"},{"location":"labs/cks-labs/#seccomp-profile","title":"Seccomp Profile","text":"<pre><code>{\n  \"defaultAction\": \"SCMP_ACT_ERRNO\",\n  \"architectures\": [\"SCMP_ARCH_X86_64\"],\n  \"syscalls\": [\n    {\n      \"names\": [\"read\", \"write\", \"exit\", \"exit_group\", \"openat\", \"close\", \"fstat\", \"mmap\", \"mprotect\", \"munmap\", \"brk\", \"rt_sigaction\", \"rt_sigprocmask\", \"ioctl\", \"access\", \"pipe\", \"select\", \"sched_yield\", \"mremap\", \"msync\", \"mincore\", \"madvise\", \"shmget\", \"shmat\", \"shmctl\", \"dup\", \"dup2\", \"pause\", \"nanosleep\", \"getitimer\", \"alarm\", \"setitimer\", \"getpid\", \"sendfile\", \"socket\", \"connect\", \"accept\", \"sendto\", \"recvfrom\", \"sendmsg\", \"recvmsg\", \"shutdown\", \"bind\", \"listen\", \"getsockname\", \"getpeername\", \"socketpair\", \"setsockopt\", \"getsockopt\", \"clone\", \"fork\", \"vfork\", \"execve\", \"wait4\", \"kill\", \"uname\", \"semget\", \"semop\", \"semctl\", \"shmdt\", \"msgget\", \"msgsnd\", \"msgrcv\", \"msgctl\", \"fcntl\", \"flock\", \"fsync\", \"fdatasync\", \"truncate\", \"ftruncate\", \"getdents\", \"getcwd\", \"chdir\", \"fchdir\", \"rename\", \"mkdir\", \"rmdir\", \"creat\", \"link\", \"unlink\", \"symlink\", \"readlink\", \"chmod\", \"fchmod\", \"chown\", \"fchown\", \"lchown\", \"umask\", \"gettimeofday\", \"getrlimit\", \"getrusage\", \"sysinfo\", \"times\", \"ptrace\", \"getuid\", \"syslog\", \"getgid\", \"setuid\", \"setgid\", \"geteuid\", \"getegid\", \"setpgid\", \"getppid\", \"getpgrp\", \"setsid\", \"setreuid\", \"setregid\", \"getgroups\", \"setgroups\", \"setresuid\", \"getresuid\", \"setresgid\", \"getresgid\", \"getpgid\", \"setfsuid\", \"setfsgid\", \"getsid\", \"capget\", \"capset\", \"rt_sigpending\", \"rt_sigtimedwait\", \"rt_sigqueueinfo\", \"rt_sigsuspend\", \"sigaltstack\", \"utime\", \"mknod\", \"uselib\", \"personality\", \"ustat\", \"statfs\", \"fstatfs\", \"sysfs\", \"getpriority\", \"setpriority\", \"sched_setparam\", \"sched_getparam\", \"sched_setscheduler\", \"sched_getscheduler\", \"sched_get_priority_max\", \"sched_get_priority_min\", \"sched_rr_get_interval\", \"mlock\", \"munlock\", \"mlockall\", \"munlockall\", \"vhangup\", \"modify_ldt\", \"pivot_root\", \"_sysctl\", \"prctl\", \"arch_prctl\", \"adjtimex\", \"setrlimit\", \"chroot\", \"sync\", \"acct\", \"settimeofday\", \"mount\", \"umount2\", \"swapon\", \"swapoff\", \"reboot\", \"sethostname\", \"setdomainname\", \"ioperm\", \"create_module\", \"init_module\", \"delete_module\", \"get_kernel_syms\", \"query_module\", \"quotactl\", \"nfsservctl\", \"getpmsg\", \"putpmsg\", \"afs_syscall\", \"tuxcall\", \"security\", \"gettid\", \"readahead\", \"setxattr\", \"lsetxattr\", \"fsetxattr\", \"getxattr\", \"lgetxattr\", \"fgetxattr\", \"listxattr\", \"llistxattr\", \"flistxattr\", \"removexattr\", \"lremovexattr\", \"fremovexattr\", \"tkill\", \"time\", \"futex\", \"sched_setaffinity\", \"sched_getaffinity\", \"set_thread_area\", \"io_setup\", \"io_destroy\", \"io_getevents\", \"io_submit\", \"io_cancel\", \"get_thread_area\", \"lookup_dcookie\", \"epoll_create\", \"epoll_ctl_old\", \"epoll_wait_old\", \"remap_file_pages\", \"getdents64\", \"set_tid_address\", \"restart_syscall\", \"semtimedop\", \"fadvise64\", \"timer_create\", \"timer_settime\", \"timer_gettime\", \"timer_getoverrun\", \"timer_delete\", \"clock_settime\", \"clock_gettime\", \"clock_getres\", \"clock_nanosleep\", \"exit_group\", \"epoll_wait\", \"epoll_ctl\", \"tgkill\", \"utimes\", \"vserver\", \"mbind\", \"set_mempolicy\", \"get_mempolicy\", \"mq_open\", \"mq_unlink\", \"mq_timedsend\", \"mq_timedreceive\", \"mq_notify\", \"mq_getsetattr\", \"kexec_load\", \"waitid\", \"add_key\", \"request_key\", \"keyctl\", \"ioprio_set\", \"ioprio_get\", \"inotify_init\", \"inotify_add_watch\", \"inotify_rm_watch\", \"migrate_pages\", \"openat\", \"mkdirat\", \"mknodat\", \"fchownat\", \"futimesat\", \"newfstatat\", \"unlinkat\", \"renameat\", \"linkat\", \"symlinkat\", \"readlinkat\", \"fchmodat\", \"faccessat\", \"pselect6\", \"ppoll\", \"unshare\", \"set_robust_list\", \"get_robust_list\", \"splice\", \"tee\", \"sync_file_range\", \"vmsplice\", \"move_pages\", \"utimensat\", \"epoll_pwait\", \"signalfd\", \"timerfd_create\", \"eventfd\", \"fallocate\", \"timerfd_settime\", \"timerfd_gettime\", \"accept4\", \"signalfd4\", \"eventfd2\", \"epoll_create1\", \"dup3\", \"pipe2\", \"inotify_init1\", \"preadv\", \"pwritev\", \"rt_tgsigqueueinfo\", \"perf_event_open\", \"recvmmsg\", \"fanotify_init\", \"fanotify_mark\", \"prlimit64\", \"name_to_handle_at\", \"open_by_handle_at\", \"clock_adjtime\", \"syncfs\", \"sendmmsg\", \"setns\", \"getcpu\", \"process_vm_readv\", \"process_vm_writev\", \"kcmp\", \"finit_module\", \"sched_setattr\", \"sched_getattr\", \"renameat2\", \"seccomp\", \"getrandom\", \"memfd_create\", \"kexec_file_load\", \"bpf\"],\n      \"action\": \"SCMP_ACT_ALLOW\"\n    }\n  ]\n}\n</code></pre>"},{"location":"labs/cks-labs/#pod-with-seccomp","title":"Pod with Seccomp","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: seccomp-pod\nspec:\n  securityContext:\n    seccompProfile:\n      type: Localhost\n      localhostProfile: profiles/custom.json\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'sleep 3600']\n</code></pre>"},{"location":"labs/cks-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Killer.sh CKS Simulator</li> <li>Killercoda CKS Scenarios</li> <li>Kubernetes Security Documentation</li> </ul> <p>\u2190 Back to CKS Overview</p>"},{"location":"labs/kcna-labs/","title":"KCNA Hands-on Lab Exercises","text":"<p>These labs reinforce KCNA concepts through practical exercises. While KCNA is a multiple-choice exam, hands-on experience helps solidify understanding.</p>"},{"location":"labs/kcna-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Access to a Kubernetes cluster (minikube, kind, or cloud)</li> <li>kubectl installed and configured</li> <li>Basic terminal/command line knowledge</li> </ul>"},{"location":"labs/kcna-labs/#lab-1-kubernetes-architecture-exploration","title":"Lab 1: Kubernetes Architecture Exploration","text":"<p>Objective: Understand Kubernetes cluster components</p>"},{"location":"labs/kcna-labs/#tasks","title":"Tasks","text":"<ol> <li>Explore control plane components:</li> </ol> <pre><code># List all pods in kube-system namespace\nkubectl get pods -n kube-system\n\n# Describe the API server pod\nkubectl describe pod -n kube-system -l component=kube-apiserver\n\n# Check etcd pod\nkubectl describe pod -n kube-system -l component=etcd\n</code></pre> <ol> <li>Examine node components:</li> </ol> <pre><code># List all nodes\nkubectl get nodes -o wide\n\n# Describe a node to see kubelet info\nkubectl describe node &lt;node-name&gt;\n\n# Check node conditions\nkubectl get nodes -o jsonpath='{.items[*].status.conditions}'\n</code></pre> <ol> <li>Verify cluster health:</li> </ol> <pre><code># Check component statuses\nkubectl get componentstatuses\n\n# Check cluster info\nkubectl cluster-info\n</code></pre> Expected Outcome  You should see: - Control plane pods: kube-apiserver, etcd, kube-controller-manager, kube-scheduler - Node components: kubelet, kube-proxy - Cluster is healthy with all components running"},{"location":"labs/kcna-labs/#lab-2-pod-lifecycle-and-management","title":"Lab 2: Pod Lifecycle and Management","text":"<p>Objective: Understand pod creation, states, and lifecycle</p>"},{"location":"labs/kcna-labs/#tasks_1","title":"Tasks","text":"<ol> <li>Create a simple pod:</li> </ol> <pre><code># Create pod imperatively\nkubectl run nginx-pod --image=nginx:latest\n\n# Verify pod is running\nkubectl get pod nginx-pod -w\n</code></pre> <ol> <li>Create pod from YAML:</li> </ol> <pre><code># Save as simple-pod.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: multi-container-pod\n  labels:\n    app: demo\nspec:\n  containers:\n  - name: nginx\n    image: nginx:latest\n    ports:\n    - containerPort: 80\n  - name: sidecar\n    image: busybox\n    command: ['sh', '-c', 'while true; do echo \"sidecar running\"; sleep 10; done']\n</code></pre> <pre><code>kubectl apply -f simple-pod.yaml\nkubectl get pod multi-container-pod\nkubectl logs multi-container-pod -c sidecar\n</code></pre> <ol> <li>Explore pod states:</li> </ol> <pre><code># Create a pod that will fail\nkubectl run failing-pod --image=nonexistent:image\n\n# Watch the pod status\nkubectl get pod failing-pod -w\n\n# Check events\nkubectl describe pod failing-pod\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete pod nginx-pod multi-container-pod failing-pod\n</code></pre> Expected Outcome  - Pods transition through Pending \u2192 ContainerCreating \u2192 Running - Failed pods show ImagePullBackOff or ErrImagePull - Multi-container pods run all containers in same pod"},{"location":"labs/kcna-labs/#lab-3-deployments-and-replicasets","title":"Lab 3: Deployments and ReplicaSets","text":"<p>Objective: Understand deployment strategies and scaling</p>"},{"location":"labs/kcna-labs/#tasks_2","title":"Tasks","text":"<ol> <li>Create a deployment:</li> </ol> <pre><code>kubectl create deployment web-app --image=nginx:1.19 --replicas=3\nkubectl get deployment web-app\nkubectl get replicaset\nkubectl get pods -l app=web-app\n</code></pre> <ol> <li>Scale the deployment:</li> </ol> <pre><code># Scale up\nkubectl scale deployment web-app --replicas=5\nkubectl get pods -l app=web-app\n\n# Scale down\nkubectl scale deployment web-app --replicas=2\nkubectl get pods -l app=web-app\n</code></pre> <ol> <li>Update the deployment:</li> </ol> <pre><code># Update image\nkubectl set image deployment/web-app nginx=nginx:1.20\n\n# Watch rollout\nkubectl rollout status deployment/web-app\n\n# Check rollout history\nkubectl rollout history deployment/web-app\n</code></pre> <ol> <li>Rollback:</li> </ol> <pre><code># Rollback to previous version\nkubectl rollout undo deployment/web-app\n\n# Verify\nkubectl describe deployment web-app | grep Image\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete deployment web-app\n</code></pre> Expected Outcome  - Deployment manages ReplicaSet which manages Pods - Scaling adjusts pod count - Rolling updates replace pods gradually - Rollback reverts to previous ReplicaSet"},{"location":"labs/kcna-labs/#lab-4-services-and-networking","title":"Lab 4: Services and Networking","text":"<p>Objective: Understand Kubernetes service types</p>"},{"location":"labs/kcna-labs/#tasks_3","title":"Tasks","text":"<ol> <li>Create deployment and ClusterIP service:</li> </ol> <pre><code>kubectl create deployment web --image=nginx --replicas=3\nkubectl expose deployment web --port=80 --type=ClusterIP\nkubectl get svc web\n</code></pre> <ol> <li>Test ClusterIP service:</li> </ol> <pre><code># Create a test pod\nkubectl run test-pod --image=busybox --rm -it --restart=Never -- wget -qO- http://web\n</code></pre> <ol> <li>Create NodePort service:</li> </ol> <pre><code>kubectl expose deployment web --port=80 --type=NodePort --name=web-nodeport\nkubectl get svc web-nodeport\n</code></pre> <ol> <li>Explore service endpoints:</li> </ol> <pre><code>kubectl get endpoints web\nkubectl describe svc web\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete deployment web\nkubectl delete svc web web-nodeport\n</code></pre> Expected Outcome  - ClusterIP: Internal cluster access only - NodePort: External access via node IP + port - Services load balance across pod endpoints"},{"location":"labs/kcna-labs/#lab-5-configmaps-and-secrets","title":"Lab 5: ConfigMaps and Secrets","text":"<p>Objective: Understand configuration management</p>"},{"location":"labs/kcna-labs/#tasks_4","title":"Tasks","text":"<ol> <li>Create ConfigMap:</li> </ol> <pre><code># From literal\nkubectl create configmap app-config --from-literal=APP_ENV=production --from-literal=LOG_LEVEL=info\n\n# View ConfigMap\nkubectl get configmap app-config -o yaml\n</code></pre> <ol> <li>Create Secret:</li> </ol> <pre><code># Create secret\nkubectl create secret generic db-secret --from-literal=DB_USER=admin --from-literal=DB_PASS=secretpassword\n\n# View secret (base64 encoded)\nkubectl get secret db-secret -o yaml\n</code></pre> <ol> <li>Use in Pod:</li> </ol> <pre><code># Save as config-pod.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: config-demo\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'echo \"Env: $APP_ENV, User: $DB_USER\" &amp;&amp; sleep 3600']\n    env:\n    - name: APP_ENV\n      valueFrom:\n        configMapKeyRef:\n          name: app-config\n          key: APP_ENV\n    - name: DB_USER\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: DB_USER\n</code></pre> <pre><code>kubectl apply -f config-pod.yaml\nkubectl logs config-demo\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete pod config-demo\nkubectl delete configmap app-config\nkubectl delete secret db-secret\n</code></pre> Expected Outcome  - ConfigMaps store non-sensitive configuration - Secrets store sensitive data (base64 encoded) - Both can be injected as environment variables or volumes"},{"location":"labs/kcna-labs/#lab-6-namespaces-and-resource-quotas","title":"Lab 6: Namespaces and Resource Quotas","text":"<p>Objective: Understand multi-tenancy basics</p>"},{"location":"labs/kcna-labs/#tasks_5","title":"Tasks","text":"<ol> <li>Create namespace:</li> </ol> <pre><code>kubectl create namespace dev-team\nkubectl get namespaces\n</code></pre> <ol> <li>Deploy to namespace:</li> </ol> <pre><code>kubectl create deployment nginx --image=nginx -n dev-team\nkubectl get pods -n dev-team\n</code></pre> <ol> <li>Create ResourceQuota:</li> </ol> <pre><code># Save as quota.yaml\napiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: dev-quota\n  namespace: dev-team\nspec:\n  hard:\n    pods: \"5\"\n    requests.cpu: \"2\"\n    requests.memory: 2Gi\n    limits.cpu: \"4\"\n    limits.memory: 4Gi\n</code></pre> <pre><code>kubectl apply -f quota.yaml\nkubectl describe resourcequota dev-quota -n dev-team\n</code></pre> <ol> <li>Test quota limits:</li> </ol> <pre><code># Try to create more pods than allowed\nkubectl create deployment test --image=nginx --replicas=10 -n dev-team\nkubectl get pods -n dev-team\nkubectl describe deployment test -n dev-team\n</code></pre> <ol> <li>Cleanup:</li> </ol> <pre><code>kubectl delete namespace dev-team\n</code></pre> Expected Outcome  - Namespaces provide logical isolation - ResourceQuotas limit resource consumption per namespace - Pods exceeding quota won't be scheduled"},{"location":"labs/kcna-labs/#cleanup-all-resources","title":"Cleanup All Resources","text":"<pre><code>kubectl delete all --all\nkubectl delete configmap --all\nkubectl delete secret --all\n</code></pre>"},{"location":"labs/kcna-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Killercoda KCNA Scenarios</li> <li>Play with Kubernetes</li> <li>Kubernetes Official Tutorials</li> </ul> <p>\u2190 Back to KCNA Overview</p>"},{"location":"labs/kcsa-labs/","title":"KCSA Hands-on Lab Exercises","text":"<p>These labs reinforce KCSA security concepts. While KCSA is multiple-choice, hands-on experience helps understand security principles.</p>"},{"location":"labs/kcsa-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes cluster access</li> <li>kubectl configured</li> <li>Basic security knowledge</li> </ul>"},{"location":"labs/kcsa-labs/#lab-1-rbac-exploration","title":"Lab 1: RBAC Exploration","text":"<p>Objective: Understand Kubernetes RBAC</p>"},{"location":"labs/kcsa-labs/#tasks","title":"Tasks","text":"<ol> <li>Explore existing roles:</li> </ol> <pre><code># List ClusterRoles\nkubectl get clusterroles | head -20\n\n# Describe admin role\nkubectl describe clusterrole admin\n\n# List RoleBindings\nkubectl get rolebindings -A\nkubectl get clusterrolebindings | head -20\n</code></pre> <ol> <li>Create custom role:</li> </ol> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  name: pod-viewer\n  namespace: default\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n</code></pre> <ol> <li>Test permissions:</li> </ol> <pre><code>kubectl auth can-i list pods --as=system:serviceaccount:default:test-sa\nkubectl auth can-i delete pods --as=system:serviceaccount:default:test-sa\nkubectl auth can-i --list --as=system:serviceaccount:default:test-sa\n</code></pre> Expected Outcome  - Understand role structure and permissions - Can test what actions are allowed for different identities"},{"location":"labs/kcsa-labs/#lab-2-network-policy-basics","title":"Lab 2: Network Policy Basics","text":"<p>Objective: Understand network segmentation</p>"},{"location":"labs/kcsa-labs/#default-deny-policy","title":"Default Deny Policy","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-ingress\n  namespace: test-ns\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n</code></pre>"},{"location":"labs/kcsa-labs/#allow-specific-ingress","title":"Allow Specific Ingress","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-from-frontend\n  namespace: test-ns\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 80\n</code></pre>"},{"location":"labs/kcsa-labs/#tasks_1","title":"Tasks","text":"<pre><code># Create namespace and deploy apps\nkubectl create namespace test-ns\nkubectl create deployment frontend --image=nginx -n test-ns\nkubectl create deployment backend --image=nginx -n test-ns\nkubectl label deployment frontend app=frontend -n test-ns\nkubectl label deployment backend app=backend -n test-ns\n\n# Apply network policies\nkubectl apply -f default-deny-ingress.yaml\nkubectl apply -f allow-from-frontend.yaml\n\n# Test connectivity\nkubectl exec -n test-ns deploy/frontend -- curl backend --max-time 2\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-3-pod-security-context","title":"Lab 3: Pod Security Context","text":"<p>Objective: Understand security contexts</p>"},{"location":"labs/kcsa-labs/#secure-pod-configuration","title":"Secure Pod Configuration","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'id &amp;&amp; sleep 3600']\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n</code></pre>"},{"location":"labs/kcsa-labs/#tasks_2","title":"Tasks","text":"<pre><code>kubectl apply -f secure-pod.yaml\nkubectl exec secure-pod -- id\nkubectl exec secure-pod -- touch /test  # Should fail\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-4-secrets-management","title":"Lab 4: Secrets Management","text":"<p>Objective: Understand Kubernetes secrets</p>"},{"location":"labs/kcsa-labs/#create-and-use-secrets","title":"Create and Use Secrets","text":"<pre><code># Create secret\nkubectl create secret generic db-creds \\\n  --from-literal=username=admin \\\n  --from-literal=password=secret123\n\n# View secret (base64 encoded)\nkubectl get secret db-creds -o yaml\n\n# Decode secret\nkubectl get secret db-creds -o jsonpath='{.data.password}' | base64 -d\n</code></pre>"},{"location":"labs/kcsa-labs/#mount-secret-in-pod","title":"Mount Secret in Pod","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'cat /secrets/password &amp;&amp; sleep 3600']\n    volumeMounts:\n    - name: secret-vol\n      mountPath: /secrets\n      readOnly: true\n  volumes:\n  - name: secret-vol\n    secret:\n      secretName: db-creds\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-5-service-account-security","title":"Lab 5: Service Account Security","text":"<p>Objective: Understand service account tokens</p>"},{"location":"labs/kcsa-labs/#disable-auto-mounting","title":"Disable Auto-mounting","text":"<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: no-token-sa\nautomountServiceAccountToken: false\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: no-token-pod\nspec:\n  serviceAccountName: no-token-sa\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'ls /var/run/secrets/kubernetes.io/serviceaccount/ 2&gt;&amp;1 || echo \"No token mounted\" &amp;&amp; sleep 3600']\n</code></pre>"},{"location":"labs/kcsa-labs/#tasks_3","title":"Tasks","text":"<pre><code>kubectl apply -f no-token-sa.yaml\nkubectl exec no-token-pod -- ls /var/run/secrets/kubernetes.io/serviceaccount/\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-6-image-security","title":"Lab 6: Image Security","text":"<p>Objective: Understand container image security</p>"},{"location":"labs/kcsa-labs/#check-image-details","title":"Check Image Details","text":"<pre><code># Pull and inspect image\ndocker pull nginx:latest\ndocker inspect nginx:latest | jq '.[0].Config'\n\n# Check for vulnerabilities (if trivy installed)\ntrivy image nginx:latest --severity HIGH,CRITICAL\n</code></pre>"},{"location":"labs/kcsa-labs/#use-specific-image-tags","title":"Use Specific Image Tags","text":"<pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: versioned-pod\nspec:\n  containers:\n  - name: app\n    image: nginx:1.25.3  # Use specific version, not :latest\n    imagePullPolicy: IfNotPresent\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-7-audit-logging-review","title":"Lab 7: Audit Logging Review","text":"<p>Objective: Understand Kubernetes audit logs</p>"},{"location":"labs/kcsa-labs/#sample-audit-log-entry","title":"Sample Audit Log Entry","text":"<pre><code>{\n  \"kind\": \"Event\",\n  \"apiVersion\": \"audit.k8s.io/v1\",\n  \"level\": \"RequestResponse\",\n  \"stage\": \"ResponseComplete\",\n  \"requestURI\": \"/api/v1/namespaces/default/secrets\",\n  \"verb\": \"create\",\n  \"user\": {\n    \"username\": \"admin\",\n    \"groups\": [\"system:masters\"]\n  },\n  \"sourceIPs\": [\"192.168.1.100\"],\n  \"objectRef\": {\n    \"resource\": \"secrets\",\n    \"namespace\": \"default\",\n    \"name\": \"my-secret\"\n  },\n  \"responseStatus\": {\n    \"code\": 201\n  }\n}\n</code></pre>"},{"location":"labs/kcsa-labs/#analyze-audit-logs","title":"Analyze Audit Logs","text":"<pre><code># If audit logging is enabled\nsudo cat /var/log/kubernetes/audit.log | jq 'select(.verb==\"create\" and .objectRef.resource==\"secrets\")'\n\n# Count events by verb\nsudo cat /var/log/kubernetes/audit.log | jq -r '.verb' | sort | uniq -c\n</code></pre>"},{"location":"labs/kcsa-labs/#lab-8-supply-chain-security","title":"Lab 8: Supply Chain Security","text":"<p>Objective: Understand software supply chain</p>"},{"location":"labs/kcsa-labs/#verify-image-signatures-cosign","title":"Verify Image Signatures (Cosign)","text":"<pre><code># Install cosign\ngo install github.com/sigstore/cosign/v2/cmd/cosign@latest\n\n# Verify signed image\ncosign verify --key cosign.pub myregistry/myimage:v1\n\n# Sign an image\ncosign sign --key cosign.key myregistry/myimage:v1\n</code></pre>"},{"location":"labs/kcsa-labs/#generate-sbom","title":"Generate SBOM","text":"<pre><code># Using syft\nsyft nginx:latest -o json &gt; nginx-sbom.json\n\n# Using trivy\ntrivy image nginx:latest --format spdx-json &gt; nginx-sbom.spdx.json\n</code></pre>"},{"location":"labs/kcsa-labs/#security-checklist","title":"Security Checklist","text":"<ul> <li>[ ] RBAC configured with least privilege</li> <li>[ ] Network policies restrict pod communication</li> <li>[ ] Pods run as non-root</li> <li>[ ] Secrets encrypted at rest</li> <li>[ ] Service account tokens not auto-mounted when not needed</li> <li>[ ] Images from trusted registries</li> <li>[ ] Image tags are specific (not :latest)</li> <li>[ ] Audit logging enabled</li> <li>[ ] Pod security standards enforced</li> </ul>"},{"location":"labs/kcsa-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Kubernetes Security Documentation</li> <li>CNCF Security Whitepaper</li> <li>Killercoda Security Scenarios</li> </ul> <p>\u2190 Back to KCSA Overview</p>"},{"location":"labs/pca-labs/","title":"PCA Hands-on Lab Exercises","text":"<p>These labs provide hands-on experience with Prometheus and observability concepts for the PCA exam.</p>"},{"location":"labs/pca-labs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker or Kubernetes cluster</li> <li>Prometheus installed</li> <li>Grafana (optional)</li> </ul>"},{"location":"labs/pca-labs/#lab-1-prometheus-setup-and-configuration","title":"Lab 1: Prometheus Setup and Configuration","text":"<p>Objective: Install and configure Prometheus</p>"},{"location":"labs/pca-labs/#docker-setup","title":"Docker Setup","text":"<pre><code># Create prometheus config\ncat &lt;&lt;EOF &gt; prometheus.yml\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\nEOF\n\n# Run Prometheus\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  prom/prometheus\n</code></pre>"},{"location":"labs/pca-labs/#kubernetes-setup","title":"Kubernetes Setup","text":"<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\ndata:\n  prometheus.yml: |\n    global:\n      scrape_interval: 15s\n    scrape_configs:\n      - job_name: 'kubernetes-pods'\n        kubernetes_sd_configs:\n          - role: pod\n        relabel_configs:\n          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n            action: keep\n            regex: true\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prometheus\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: prometheus\n  template:\n    metadata:\n      labels:\n        app: prometheus\n    spec:\n      containers:\n      - name: prometheus\n        image: prom/prometheus:v2.47.0\n        ports:\n        - containerPort: 9090\n        volumeMounts:\n        - name: config\n          mountPath: /etc/prometheus\n      volumes:\n      - name: config\n        configMap:\n          name: prometheus-config\n</code></pre>"},{"location":"labs/pca-labs/#tasks","title":"Tasks","text":"<pre><code># Access Prometheus UI\nopen http://localhost:9090\n\n# Check targets\ncurl http://localhost:9090/api/v1/targets\n\n# Check config\ncurl http://localhost:9090/api/v1/status/config\n</code></pre>"},{"location":"labs/pca-labs/#lab-2-promql-queries","title":"Lab 2: PromQL Queries","text":"<p>Objective: Master PromQL query language</p>"},{"location":"labs/pca-labs/#basic-queries","title":"Basic Queries","text":"<pre><code># Instant vector - current value\nup\n\n# Range vector - values over time\nup[5m]\n\n# Filter by label\nup{job=\"prometheus\"}\n\n# Regex matching\nup{job=~\"prom.*\"}\n\n# Negative matching\nup{job!=\"prometheus\"}\n</code></pre>"},{"location":"labs/pca-labs/#aggregation-functions","title":"Aggregation Functions","text":"<pre><code># Sum all values\nsum(up)\n\n# Sum by label\nsum by (job) (up)\n\n# Count instances\ncount(up)\n\n# Average\navg(rate(http_requests_total[5m]))\n\n# Top 5\ntopk(5, rate(http_requests_total[5m]))\n\n# Bottom 5\nbottomk(5, rate(http_requests_total[5m]))\n</code></pre>"},{"location":"labs/pca-labs/#rate-and-increase","title":"Rate and Increase","text":"<pre><code># Rate - per-second rate of increase\nrate(http_requests_total[5m])\n\n# Irate - instant rate (last two samples)\nirate(http_requests_total[5m])\n\n# Increase - total increase over time range\nincrease(http_requests_total[1h])\n</code></pre>"},{"location":"labs/pca-labs/#mathematical-operations","title":"Mathematical Operations","text":"<pre><code># Percentage\n100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes))\n\n# Division with default\nhttp_requests_total / ignoring(code) group_left http_requests_total{code=\"200\"} or vector(0)\n\n# Offset - compare to past\nrate(http_requests_total[5m]) - rate(http_requests_total[5m] offset 1h)\n</code></pre>"},{"location":"labs/pca-labs/#tasks_1","title":"Tasks","text":"<pre><code># Execute queries via API\ncurl 'http://localhost:9090/api/v1/query?query=up'\ncurl 'http://localhost:9090/api/v1/query_range?query=up&amp;start=2023-01-01T00:00:00Z&amp;end=2023-01-01T01:00:00Z&amp;step=15s'\n</code></pre>"},{"location":"labs/pca-labs/#lab-3-recording-rules","title":"Lab 3: Recording Rules","text":"<p>Objective: Create recording rules for efficiency</p>"},{"location":"labs/pca-labs/#recording-rules-configuration","title":"Recording Rules Configuration","text":"<pre><code># rules/recording_rules.yml\ngroups:\n  - name: example_recording_rules\n    interval: 30s\n    rules:\n      - record: job:http_requests_total:rate5m\n        expr: sum by (job) (rate(http_requests_total[5m]))\n\n      - record: instance:node_cpu_utilization:ratio\n        expr: 1 - avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m]))\n\n      - record: instance:node_memory_utilization:ratio\n        expr: 1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)\n</code></pre>"},{"location":"labs/pca-labs/#update-prometheus-config","title":"Update Prometheus Config","text":"<pre><code># prometheus.yml\nglobal:\n  scrape_interval: 15s\n\nrule_files:\n  - \"rules/*.yml\"\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n</code></pre>"},{"location":"labs/pca-labs/#tasks_2","title":"Tasks","text":"<pre><code># Reload Prometheus config\ncurl -X POST http://localhost:9090/-/reload\n\n# Check rules\ncurl http://localhost:9090/api/v1/rules\n\n# Query recorded metric\ncurl 'http://localhost:9090/api/v1/query?query=job:http_requests_total:rate5m'\n</code></pre>"},{"location":"labs/pca-labs/#lab-4-alerting-rules","title":"Lab 4: Alerting Rules","text":"<p>Objective: Configure alerting rules</p>"},{"location":"labs/pca-labs/#alert-rules-configuration","title":"Alert Rules Configuration","text":"<pre><code># rules/alerting_rules.yml\ngroups:\n  - name: example_alerts\n    rules:\n      - alert: HighErrorRate\n        expr: rate(http_requests_total{status=~\"5..\"}[5m]) / rate(http_requests_total[5m]) &gt; 0.1\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"High error rate detected\"\n          description: \"Error rate is {{ $value | humanizePercentage }} for {{ $labels.instance }}\"\n\n      - alert: InstanceDown\n        expr: up == 0\n        for: 1m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Instance {{ $labels.instance }} down\"\n          description: \"{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 1 minute.\"\n\n      - alert: HighMemoryUsage\n        expr: instance:node_memory_utilization:ratio &gt; 0.9\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High memory usage on {{ $labels.instance }}\"\n          description: \"Memory usage is {{ $value | humanizePercentage }}\"\n</code></pre>"},{"location":"labs/pca-labs/#alertmanager-configuration","title":"Alertmanager Configuration","text":"<pre><code># alertmanager.yml\nglobal:\n  resolve_timeout: 5m\n\nroute:\n  group_by: ['alertname', 'severity']\n  group_wait: 10s\n  group_interval: 10s\n  repeat_interval: 1h\n  receiver: 'slack-notifications'\n  routes:\n    - match:\n        severity: critical\n      receiver: 'pagerduty'\n\nreceivers:\n  - name: 'slack-notifications'\n    slack_configs:\n      - api_url: 'https://hooks.slack.com/services/xxx'\n        channel: '#alerts'\n\n  - name: 'pagerduty'\n    pagerduty_configs:\n      - service_key: 'xxx'\n\ninhibit_rules:\n  - source_match:\n      severity: 'critical'\n    target_match:\n      severity: 'warning'\n    equal: ['alertname', 'instance']\n</code></pre>"},{"location":"labs/pca-labs/#tasks_3","title":"Tasks","text":"<pre><code># Check alerts\ncurl http://localhost:9090/api/v1/alerts\n\n# Check Alertmanager\ncurl http://localhost:9093/api/v2/alerts\n</code></pre>"},{"location":"labs/pca-labs/#lab-5-exporters","title":"Lab 5: Exporters","text":"<p>Objective: Deploy and configure exporters</p>"},{"location":"labs/pca-labs/#node-exporter","title":"Node Exporter","text":"<pre><code># Docker\ndocker run -d \\\n  --name node-exporter \\\n  -p 9100:9100 \\\n  --pid=\"host\" \\\n  -v \"/:/host:ro,rslave\" \\\n  prom/node-exporter \\\n  --path.rootfs=/host\n</code></pre>"},{"location":"labs/pca-labs/#blackbox-exporter","title":"Blackbox Exporter","text":"<pre><code># blackbox.yml\nmodules:\n  http_2xx:\n    prober: http\n    timeout: 5s\n    http:\n      valid_http_versions: [\"HTTP/1.1\", \"HTTP/2.0\"]\n      valid_status_codes: []\n      method: GET\n      follow_redirects: true\n\n  tcp_connect:\n    prober: tcp\n    timeout: 5s\n</code></pre> <pre><code># Run Blackbox Exporter\ndocker run -d \\\n  --name blackbox-exporter \\\n  -p 9115:9115 \\\n  -v $(pwd)/blackbox.yml:/config/blackbox.yml \\\n  prom/blackbox-exporter \\\n  --config.file=/config/blackbox.yml\n</code></pre>"},{"location":"labs/pca-labs/#prometheus-config-for-blackbox","title":"Prometheus Config for Blackbox","text":"<pre><code>scrape_configs:\n  - job_name: 'blackbox-http'\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n        - https://google.com\n        - https://github.com\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox-exporter:9115\n</code></pre>"},{"location":"labs/pca-labs/#lab-6-application-instrumentation","title":"Lab 6: Application Instrumentation","text":"<p>Objective: Instrument applications with Prometheus metrics</p>"},{"location":"labs/pca-labs/#python-application","title":"Python Application","text":"<pre><code>from prometheus_client import start_http_server, Counter, Histogram, Gauge\nimport time\nimport random\n\n# Define metrics\nREQUEST_COUNT = Counter('app_requests_total', 'Total requests', ['method', 'endpoint'])\nREQUEST_LATENCY = Histogram('app_request_latency_seconds', 'Request latency', ['endpoint'])\nACTIVE_REQUESTS = Gauge('app_active_requests', 'Active requests')\n\n@REQUEST_LATENCY.labels(endpoint='/api').time()\ndef process_request():\n    ACTIVE_REQUESTS.inc()\n    REQUEST_COUNT.labels(method='GET', endpoint='/api').inc()\n    time.sleep(random.uniform(0.1, 0.5))\n    ACTIVE_REQUESTS.dec()\n\nif __name__ == '__main__':\n    start_http_server(8000)\n    while True:\n        process_request()\n        time.sleep(1)\n</code></pre>"},{"location":"labs/pca-labs/#go-application","title":"Go Application","text":"<pre><code>package main\n\nimport (\n    \"net/http\"\n    \"github.com/prometheus/client_golang/prometheus\"\n    \"github.com/prometheus/client_golang/prometheus/promhttp\"\n)\n\nvar (\n    requestsTotal = prometheus.NewCounterVec(\n        prometheus.CounterOpts{\n            Name: \"app_requests_total\",\n            Help: \"Total number of requests\",\n        },\n        []string{\"method\", \"endpoint\"},\n    )\n\n    requestDuration = prometheus.NewHistogramVec(\n        prometheus.HistogramOpts{\n            Name:    \"app_request_duration_seconds\",\n            Help:    \"Request duration in seconds\",\n            Buckets: prometheus.DefBuckets,\n        },\n        []string{\"endpoint\"},\n    )\n)\n\nfunc init() {\n    prometheus.MustRegister(requestsTotal)\n    prometheus.MustRegister(requestDuration)\n}\n\nfunc main() {\n    http.Handle(\"/metrics\", promhttp.Handler())\n    http.ListenAndServe(\":8080\", nil)\n}\n</code></pre>"},{"location":"labs/pca-labs/#lab-7-grafana-dashboards","title":"Lab 7: Grafana Dashboards","text":"<p>Objective: Create Grafana dashboards</p>"},{"location":"labs/pca-labs/#run-grafana","title":"Run Grafana","text":"<pre><code>docker run -d \\\n  --name grafana \\\n  -p 3000:3000 \\\n  grafana/grafana\n</code></pre>"},{"location":"labs/pca-labs/#dashboard-json","title":"Dashboard JSON","text":"<pre><code>{\n  \"dashboard\": {\n    \"title\": \"Application Metrics\",\n    \"panels\": [\n      {\n        \"title\": \"Request Rate\",\n        \"type\": \"graph\",\n        \"targets\": [\n          {\n            \"expr\": \"rate(app_requests_total[5m])\",\n            \"legendFormat\": \"{{method}} {{endpoint}}\"\n          }\n        ]\n      },\n      {\n        \"title\": \"Request Latency P99\",\n        \"type\": \"stat\",\n        \"targets\": [\n          {\n            \"expr\": \"histogram_quantile(0.99, rate(app_request_latency_seconds_bucket[5m]))\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"labs/pca-labs/#additional-practice-resources","title":"Additional Practice Resources","text":"<ul> <li>Prometheus Documentation</li> <li>PromQL Tutorial</li> <li>Grafana Tutorials</li> </ul> <p>\u2190 Back to PCA Overview</p>"},{"location":"lfcs/","title":"LFCS - Linux Foundation Certified SysAdmin","text":"<p>The Linux Foundation Certified SysAdmin (LFCS) exam demonstrates a candidate's proficiency in Linux system administration.</p>"},{"location":"lfcs/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Performance-based (hands-on) Duration 2 hours Passing Score 66% Certification Validity 3 years Cost $395 USD Retake Policy 1 free retake Distribution Ubuntu 22.04 or AlmaLinux 9"},{"location":"lfcs/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Essential Commands 25% Operation of Running Systems 20% User and Group Management 10% Networking 12% Service Configuration 20% Storage Management 13%"},{"location":"lfcs/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Linux command line</li> <li>Familiarity with text editors (vim, nano)</li> <li>Understanding of file systems and permissions</li> <li>Basic networking knowledge</li> </ul>"},{"location":"lfcs/#study-resources","title":"Study Resources","text":""},{"location":"lfcs/#official-resources","title":"Official Resources","text":"<ul> <li>LFCS Exam Curriculum</li> <li>Linux Documentation</li> <li>Ubuntu Documentation</li> </ul>"},{"location":"lfcs/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Linux System Administration Essentials (LFS207)</li> <li>Essentials of Linux System Administration (LFS201)</li> </ul>"},{"location":"lfcs/#practice-resources","title":"Practice Resources","text":"<ul> <li>Linux Journey</li> <li>OverTheWire Bandit</li> </ul>"},{"location":"lfcs/#exam-tips","title":"Exam Tips","text":"<ol> <li>Practice on Ubuntu/AlmaLinux: Use the same distribution as the exam</li> <li>Master vim/nano: You'll need to edit files quickly</li> <li>Know systemd: Service management is crucial</li> <li>Understand permissions: File and directory permissions</li> <li>Practice networking: IP configuration, firewall rules</li> <li>Learn LVM: Logical Volume Management is important</li> </ol>"},{"location":"lfcs/#key-topics-to-master","title":"Key Topics to Master","text":""},{"location":"lfcs/#essential-commands","title":"Essential Commands","text":"<ul> <li>File manipulation (cp, mv, rm, find, grep)</li> <li>Text processing (sed, awk, cut, sort)</li> <li>Archive and compression (tar, gzip, bzip2)</li> <li>File permissions and ownership</li> </ul>"},{"location":"lfcs/#system-operations","title":"System Operations","text":"<ul> <li>Boot process and systemd</li> <li>Process management</li> <li>System logging</li> <li>Scheduling tasks (cron, at)</li> </ul>"},{"location":"lfcs/#networking","title":"Networking","text":"<ul> <li>Network configuration</li> <li>Firewall management (firewalld, iptables)</li> <li>SSH configuration</li> <li>DNS and hostname resolution</li> </ul>"},{"location":"lfcs/#storage","title":"Storage","text":"<ul> <li>Partition management</li> <li>LVM operations</li> <li>File system creation and mounting</li> <li>RAID configuration</li> </ul>"},{"location":"lfcs/#navigation","title":"Navigation","text":"<ul> <li>Next: Essential Commands \u2192</li> </ul>"},{"location":"lfcs/01-essential-commands/","title":"Essential Commands (25%)","text":""},{"location":"lfcs/01-essential-commands/#file-and-directory-operations","title":"File and Directory Operations","text":""},{"location":"lfcs/01-essential-commands/#basic-commands","title":"Basic Commands","text":"<pre><code># List files\nls -la                    # Long listing with hidden files\nls -lh                    # Human-readable sizes\nls -ltr                   # Sort by time, reverse\n\n# Change directory\ncd /path/to/dir\ncd ~                      # Home directory\ncd -                      # Previous directory\n\n# Create directories\nmkdir mydir\nmkdir -p parent/child/grandchild\n\n# Copy files\ncp file1 file2\ncp -r dir1 dir2           # Recursive copy\ncp -p file1 file2         # Preserve attributes\n\n# Move/rename\nmv oldname newname\nmv file /path/to/dest/\n\n# Remove\nrm file\nrm -r directory           # Recursive\nrm -rf directory          # Force recursive\n</code></pre>"},{"location":"lfcs/01-essential-commands/#file-content-commands","title":"File Content Commands","text":"<pre><code># View files\ncat file\nless file\nhead -n 20 file\ntail -n 20 file\ntail -f /var/log/syslog   # Follow log\n\n# Word/line count\nwc -l file                # Line count\nwc -w file                # Word count\nwc -c file                # Byte count\n</code></pre>"},{"location":"lfcs/01-essential-commands/#finding-files","title":"Finding Files","text":""},{"location":"lfcs/01-essential-commands/#find-command","title":"find Command","text":"<pre><code># Find by name\nfind /path -name \"*.txt\"\nfind /home -name \"file.txt\"\n\n# Find by type\nfind /var -type f         # Files only\nfind /var -type d         # Directories only\nfind /var -type l         # Symbolic links\n\n# Find by size\nfind /var -size +100M     # Larger than 100MB\nfind /var -size -1k       # Smaller than 1KB\n\n# Find by time\nfind /var -mtime -7       # Modified in last 7 days\nfind /var -atime +30      # Accessed more than 30 days ago\n\n# Find and execute\nfind /tmp -name \"*.tmp\" -exec rm {} \\;\nfind /var/log -name \"*.log\" -exec gzip {} \\;\n\n# Find by permissions\nfind /home -perm 777\nfind /home -perm /u+x     # User executable\n</code></pre>"},{"location":"lfcs/01-essential-commands/#locate-command","title":"locate Command","text":"<pre><code># Update database\nsudo updatedb\n\n# Search\nlocate filename\nlocate -i filename        # Case insensitive\n</code></pre>"},{"location":"lfcs/01-essential-commands/#text-processing","title":"Text Processing","text":""},{"location":"lfcs/01-essential-commands/#grep","title":"grep","text":"<pre><code># Basic search\ngrep \"pattern\" file\ngrep -i \"pattern\" file    # Case insensitive\ngrep -r \"pattern\" /dir    # Recursive\ngrep -v \"pattern\" file    # Invert match\ngrep -n \"pattern\" file    # Show line numbers\ngrep -c \"pattern\" file    # Count matches\ngrep -l \"pattern\" *.txt   # List files with matches\n\n# Extended regex\ngrep -E \"pattern1|pattern2\" file\negrep \"pattern1|pattern2\" file\n</code></pre>"},{"location":"lfcs/01-essential-commands/#sed","title":"sed","text":"<pre><code># Substitute\nsed 's/old/new/' file           # First occurrence\nsed 's/old/new/g' file          # All occurrences\nsed -i 's/old/new/g' file       # In-place edit\n\n# Delete lines\nsed '/pattern/d' file           # Delete matching lines\nsed '5d' file                   # Delete line 5\nsed '1,5d' file                 # Delete lines 1-5\n\n# Print specific lines\nsed -n '5p' file                # Print line 5\nsed -n '1,10p' file             # Print lines 1-10\n</code></pre>"},{"location":"lfcs/01-essential-commands/#awk","title":"awk","text":"<pre><code># Print columns\nawk '{print $1}' file           # First column\nawk '{print $1, $3}' file       # First and third columns\nawk -F: '{print $1}' /etc/passwd # Custom delimiter\n\n# Conditions\nawk '$3 &gt; 100 {print $1}' file\nawk '/pattern/ {print $0}' file\n\n# Built-in variables\nawk '{print NR, $0}' file       # Line numbers\nawk 'END {print NR}' file       # Total lines\n</code></pre>"},{"location":"lfcs/01-essential-commands/#other-text-tools","title":"Other Text Tools","text":"<pre><code># Sort\nsort file\nsort -n file              # Numeric sort\nsort -r file              # Reverse\nsort -k2 file             # Sort by column 2\nsort -u file              # Unique\n\n# Unique\nuniq file                 # Remove adjacent duplicates\nuniq -c file              # Count occurrences\nsort file | uniq          # Remove all duplicates\n\n# Cut\ncut -d: -f1 /etc/passwd   # First field, colon delimiter\ncut -c1-10 file           # Characters 1-10\n\n# tr (translate)\ntr 'a-z' 'A-Z' &lt; file     # Lowercase to uppercase\ntr -d '\\n' &lt; file         # Delete newlines\n</code></pre>"},{"location":"lfcs/01-essential-commands/#archive-and-compression","title":"Archive and Compression","text":""},{"location":"lfcs/01-essential-commands/#tar","title":"tar","text":"<pre><code># Create archive\ntar -cvf archive.tar files/\ntar -czvf archive.tar.gz files/   # With gzip\ntar -cjvf archive.tar.bz2 files/  # With bzip2\n\n# Extract\ntar -xvf archive.tar\ntar -xzvf archive.tar.gz\ntar -xjvf archive.tar.bz2\ntar -xvf archive.tar -C /dest/    # Extract to directory\n\n# List contents\ntar -tvf archive.tar\n</code></pre>"},{"location":"lfcs/01-essential-commands/#compression-tools","title":"Compression Tools","text":"<pre><code># gzip\ngzip file                 # Compress (replaces original)\ngunzip file.gz            # Decompress\ngzip -k file              # Keep original\n\n# bzip2\nbzip2 file\nbunzip2 file.bz2\n\n# xz\nxz file\nunxz file.xz\n\n# zip\nzip archive.zip file1 file2\nzip -r archive.zip directory/\nunzip archive.zip\n</code></pre>"},{"location":"lfcs/01-essential-commands/#file-permissions","title":"File Permissions","text":""},{"location":"lfcs/01-essential-commands/#understanding-permissions","title":"Understanding Permissions","text":"<pre><code>-rwxr-xr-x  1 user group  size date filename\n\u2502\u2514\u252c\u2518\u2514\u252c\u2518\u2514\u252c\u2518\n\u2502 \u2502  \u2502  \u2514\u2500\u2500 Others: r-x (read, execute)\n\u2502 \u2502  \u2514\u2500\u2500\u2500\u2500\u2500 Group: r-x (read, execute)\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 User: rwx (read, write, execute)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 File type: - (regular file)\n</code></pre>"},{"location":"lfcs/01-essential-commands/#chmod","title":"chmod","text":"<pre><code># Symbolic mode\nchmod u+x file            # Add execute for user\nchmod g-w file            # Remove write for group\nchmod o=r file            # Set others to read only\nchmod a+x file            # Add execute for all\n\n# Numeric mode\nchmod 755 file            # rwxr-xr-x\nchmod 644 file            # rw-r--r--\nchmod 700 file            # rwx------\n\n# Recursive\nchmod -R 755 directory/\n</code></pre>"},{"location":"lfcs/01-essential-commands/#chown-and-chgrp","title":"chown and chgrp","text":"<pre><code># Change owner\nchown user file\nchown user:group file\nchown -R user:group directory/\n\n# Change group\nchgrp group file\nchgrp -R group directory/\n</code></pre>"},{"location":"lfcs/01-essential-commands/#special-permissions","title":"Special Permissions","text":"<pre><code># SUID (4)\nchmod u+s file\nchmod 4755 file\n\n# SGID (2)\nchmod g+s directory\nchmod 2755 directory\n\n# Sticky bit (1)\nchmod +t directory\nchmod 1755 directory\n</code></pre>"},{"location":"lfcs/01-essential-commands/#links","title":"Links","text":"<pre><code># Hard link\nln file hardlink\n\n# Symbolic link\nln -s /path/to/file symlink\nln -s /path/to/dir symlink\n\n# View link target\nreadlink symlink\nreadlink -f symlink       # Full path\n</code></pre>"},{"location":"lfcs/01-essential-commands/#inputoutput-redirection","title":"Input/Output Redirection","text":"<pre><code># Output redirection\ncommand &gt; file            # Overwrite\ncommand &gt;&gt; file           # Append\n\n# Error redirection\ncommand 2&gt; error.log\ncommand 2&gt;&amp;1              # Stderr to stdout\n\n# Combined\ncommand &gt; output.log 2&gt;&amp;1\ncommand &amp;&gt; output.log     # Both stdout and stderr\n\n# Input redirection\ncommand &lt; file\n\n# Here document\ncat &lt;&lt; EOF &gt; file\nline 1\nline 2\nEOF\n\n# Pipes\ncommand1 | command2\nls -l | grep \"pattern\" | wc -l\n</code></pre>"},{"location":"lfcs/01-essential-commands/#practice-questions","title":"Practice Questions","text":"<ol> <li>Find all files larger than 100MB in /var</li> <li>Replace all occurrences of \"old\" with \"new\" in a file</li> <li>Create a compressed tar archive of /etc</li> <li>Set permissions to rwxr-x--- on a directory recursively</li> <li>Find all files modified in the last 24 hours</li> </ol>"},{"location":"lfcs/01-essential-commands/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Overview</li> <li>Next: Operation of Running Systems \u2192</li> </ul>"},{"location":"lfcs/sample-questions/","title":"LFCS Sample Practice Questions","text":""},{"location":"lfcs/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Linux Journey</li> <li>OverTheWire Bandit</li> <li>killer.sh LFCS Simulator</li> </ul>"},{"location":"lfcs/sample-questions/#section-1-essential-commands-25","title":"Section 1: Essential Commands (25%)","text":""},{"location":"lfcs/sample-questions/#question-11","title":"Question 1.1","text":"<p>Find all files in /var larger than 50MB and list them with their sizes.</p> Show Solution <pre><code>find /var -type f -size +50M -exec ls -lh {} \\;\n# Or\nfind /var -type f -size +50M -ls\n</code></pre>"},{"location":"lfcs/sample-questions/#question-12","title":"Question 1.2","text":"<p>Replace all occurrences of \"error\" with \"warning\" in /var/log/app.log without creating a backup.</p> Show Solution <pre><code>sed -i 's/error/warning/g' /var/log/app.log\n</code></pre>"},{"location":"lfcs/sample-questions/#question-13","title":"Question 1.3","text":"<p>Create a compressed tar archive of /etc named etc-backup.tar.gz.</p> Show Solution <pre><code>tar -czvf etc-backup.tar.gz /etc\n</code></pre>"},{"location":"lfcs/sample-questions/#question-14","title":"Question 1.4","text":"<p>Set permissions on /data directory so owner has full access, group has read/execute, others have no access. Apply recursively.</p> Show Solution <pre><code>chmod -R 750 /data\n</code></pre>"},{"location":"lfcs/sample-questions/#section-2-operation-of-running-systems-20","title":"Section 2: Operation of Running Systems (20%)","text":""},{"location":"lfcs/sample-questions/#question-21","title":"Question 2.1","text":"<p>List all running services and their status.</p> Show Solution <pre><code>systemctl list-units --type=service --state=running\n</code></pre>"},{"location":"lfcs/sample-questions/#question-22","title":"Question 2.2","text":"<p>Configure the nginx service to start automatically at boot.</p> Show Solution <pre><code>systemctl enable nginx\n</code></pre>"},{"location":"lfcs/sample-questions/#question-23","title":"Question 2.3","text":"<p>Find the process using the most CPU and kill it.</p> Show Solution <pre><code># Find top CPU process\nps aux --sort=-%cpu | head -2\n\n# Or use top/htop to identify PID, then:\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"lfcs/sample-questions/#question-24","title":"Question 2.4","text":"<p>Schedule a script /opt/backup.sh to run every day at 2:30 AM.</p> Show Solution <pre><code>crontab -e\n# Add line:\n30 2 * * * /opt/backup.sh\n</code></pre>"},{"location":"lfcs/sample-questions/#section-3-user-and-group-management-10","title":"Section 3: User and Group Management (10%)","text":""},{"location":"lfcs/sample-questions/#question-31","title":"Question 3.1","text":"<p>Create a user \"developer\" with home directory /home/developer and shell /bin/bash.</p> Show Solution <pre><code>useradd -m -d /home/developer -s /bin/bash developer\n</code></pre>"},{"location":"lfcs/sample-questions/#question-32","title":"Question 3.2","text":"<p>Add user \"developer\" to the \"docker\" group as a secondary group.</p> Show Solution <pre><code>usermod -aG docker developer\n</code></pre>"},{"location":"lfcs/sample-questions/#question-33","title":"Question 3.3","text":"<p>Set password expiry for user \"developer\" to 90 days.</p> Show Solution <pre><code>chage -M 90 developer\n</code></pre>"},{"location":"lfcs/sample-questions/#section-4-networking-12","title":"Section 4: Networking (12%)","text":""},{"location":"lfcs/sample-questions/#question-41","title":"Question 4.1","text":"<p>Display all network interfaces and their IP addresses.</p> Show Solution <pre><code>ip addr show\n# Or\nip a\n</code></pre>"},{"location":"lfcs/sample-questions/#question-42","title":"Question 4.2","text":"<p>Add a static route to network 10.0.0.0/24 via gateway 192.168.1.1.</p> Show Solution <pre><code>ip route add 10.0.0.0/24 via 192.168.1.1\n</code></pre>"},{"location":"lfcs/sample-questions/#question-43","title":"Question 4.3","text":"<p>Open port 8080/tcp in the firewall permanently.</p> Show Solution <pre><code># firewalld\nfirewall-cmd --permanent --add-port=8080/tcp\nfirewall-cmd --reload\n\n# Or iptables\niptables -A INPUT -p tcp --dport 8080 -j ACCEPT\n</code></pre>"},{"location":"lfcs/sample-questions/#question-44","title":"Question 4.4","text":"<p>Configure the system to use DNS server 8.8.8.8.</p> Show Solution <pre><code># Edit /etc/resolv.conf\necho \"nameserver 8.8.8.8\" &gt;&gt; /etc/resolv.conf\n\n# Or for permanent (systemd-resolved)\n# Edit /etc/systemd/resolved.conf and add:\n# DNS=8.8.8.8\n</code></pre>"},{"location":"lfcs/sample-questions/#section-5-service-configuration-20","title":"Section 5: Service Configuration (20%)","text":""},{"location":"lfcs/sample-questions/#question-51","title":"Question 5.1","text":"<p>Configure SSH to disable root login.</p> Show Solution <pre><code># Edit /etc/ssh/sshd_config\n# Set: PermitRootLogin no\n\nsed -i 's/^#*PermitRootLogin.*/PermitRootLogin no/' /etc/ssh/sshd_config\nsystemctl restart sshd\n</code></pre>"},{"location":"lfcs/sample-questions/#question-52","title":"Question 5.2","text":"<p>Configure NTP to sync time with pool.ntp.org.</p> Show Solution <pre><code># For systemd-timesyncd\n# Edit /etc/systemd/timesyncd.conf\n# NTP=pool.ntp.org\n\n# Or for chrony\n# Edit /etc/chrony/chrony.conf\n# server pool.ntp.org iburst\n\nsystemctl restart systemd-timesyncd\n# Or\nsystemctl restart chronyd\n</code></pre>"},{"location":"lfcs/sample-questions/#question-53","title":"Question 5.3","text":"<p>Set up a basic Apache virtual host for domain example.com serving content from /var/www/example.</p> Show Solution <pre><code># Create /etc/apache2/sites-available/example.com.conf (Ubuntu)\n# Or /etc/httpd/conf.d/example.com.conf (RHEL)\n\ncat &lt;&lt; EOF &gt; /etc/apache2/sites-available/example.com.conf\n&lt;VirtualHost *:80&gt;\n    ServerName example.com\n    DocumentRoot /var/www/example\n    &lt;Directory /var/www/example&gt;\n        AllowOverride All\n        Require all granted\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\nEOF\n\na2ensite example.com.conf\nsystemctl reload apache2\n</code></pre>"},{"location":"lfcs/sample-questions/#section-6-storage-management-13","title":"Section 6: Storage Management (13%)","text":""},{"location":"lfcs/sample-questions/#question-61","title":"Question 6.1","text":"<p>Create a new partition on /dev/sdb using all available space.</p> Show Solution <pre><code>fdisk /dev/sdb\n# n (new partition)\n# p (primary)\n# 1 (partition number)\n# Enter (default first sector)\n# Enter (default last sector)\n# w (write)\n\n# Or with parted\nparted /dev/sdb mklabel gpt\nparted /dev/sdb mkpart primary 0% 100%\n</code></pre>"},{"location":"lfcs/sample-questions/#question-62","title":"Question 6.2","text":"<p>Create an ext4 filesystem on /dev/sdb1 and mount it at /data.</p> Show Solution <pre><code>mkfs.ext4 /dev/sdb1\nmkdir -p /data\nmount /dev/sdb1 /data\n\n# For persistent mount, add to /etc/fstab:\necho \"/dev/sdb1 /data ext4 defaults 0 2\" &gt;&gt; /etc/fstab\n</code></pre>"},{"location":"lfcs/sample-questions/#question-63","title":"Question 6.3","text":"<p>Create an LVM logical volume named \"data\" of 10GB from volume group \"vg01\".</p> Show Solution <pre><code>lvcreate -L 10G -n data vg01\n</code></pre>"},{"location":"lfcs/sample-questions/#question-64","title":"Question 6.4","text":"<p>Extend logical volume /dev/vg01/data by 5GB and resize the filesystem.</p> Show Solution <pre><code>lvextend -L +5G /dev/vg01/data\nresize2fs /dev/vg01/data    # For ext4\n# Or\nxfs_growfs /dev/vg01/data   # For XFS\n</code></pre>"},{"location":"lfcs/sample-questions/#quick-reference-commands","title":"Quick Reference Commands","text":"<pre><code># System info\nuname -a\nhostnamectl\ncat /etc/os-release\n\n# Disk usage\ndf -h\ndu -sh /path\n\n# Memory\nfree -h\n\n# Processes\nps aux\ntop\nhtop\n\n# Services\nsystemctl status service\nsystemctl start/stop/restart service\nsystemctl enable/disable service\n\n# Logs\njournalctl -u service\ntail -f /var/log/syslog\n\n# Network\nip addr\nip route\nss -tulpn\nnetstat -tulpn\n</code></pre>"},{"location":"lfcs/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know your editor: vim or nano - be fast</li> <li>Use tab completion: Save time and avoid typos</li> <li>Check man pages: <code>man command</code> is your friend</li> <li>Verify your work: Always check if changes took effect</li> <li>Time management: Don't spend too long on one question</li> <li>Read carefully: Understand what's being asked</li> </ol> <p>\u2190 Back to LFCS Overview</p>"},{"location":"otca/","title":"OTCA - OpenTelemetry Certified Associate","text":"<p>The OpenTelemetry Certified Associate (OTCA) exam demonstrates knowledge of observability concepts and OpenTelemetry implementation.</p>"},{"location":"otca/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"otca/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Observability Concepts 16% OpenTelemetry API 24% OpenTelemetry SDK 16% OpenTelemetry Collector 24% Instrumentation 20%"},{"location":"otca/#key-topics","title":"Key Topics","text":""},{"location":"otca/#signals","title":"Signals","text":"<ul> <li>Traces, Metrics, Logs</li> <li>Context propagation</li> <li>Baggage</li> </ul>"},{"location":"otca/#collector","title":"Collector","text":"<ul> <li>Receivers, Processors, Exporters</li> <li>Pipeline configuration</li> <li>Deployment patterns</li> </ul>"},{"location":"otca/#instrumentation","title":"Instrumentation","text":"<ul> <li>Auto-instrumentation</li> <li>Manual instrumentation</li> <li>SDK configuration</li> </ul>"},{"location":"otca/#study-resources","title":"Study Resources","text":"<ul> <li>OpenTelemetry Documentation</li> <li>OTCA Curriculum</li> <li>OpenTelemetry Demo</li> </ul>"},{"location":"otca/#navigation","title":"Navigation","text":"<ul> <li>Next: Sample Questions \u2192</li> </ul>"},{"location":"otca/01-opentelemetry-fundamentals/","title":"OpenTelemetry Fundamentals","text":"<p>Comprehensive guide to OpenTelemetry for OTCA certification.</p>"},{"location":"otca/01-opentelemetry-fundamentals/#overview","title":"Overview","text":"<p>OpenTelemetry is a collection of tools, APIs, and SDKs for:</p> <ul> <li>Traces - Distributed tracing across services</li> <li>Metrics - Numerical measurements over time</li> <li>Logs - Structured log data (emerging)</li> </ul>"},{"location":"otca/01-opentelemetry-fundamentals/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Application                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502              OpenTelemetry SDK                   \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502   \u2502\n\u2502  \u2502  \u2502 Tracer  \u2502  \u2502  Meter  \u2502  \u2502 Logger  \u2502        \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc OTLP\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 OpenTelemetry Collector                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502Receivers\u2502\u2192 \u2502 Processors  \u2502\u2192 \u2502  Exporters  \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u25bc                 \u25bc                 \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Jaeger \u2502      \u2502Prometheus\u2502      \u2502  Zipkin \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#key-concepts","title":"Key Concepts","text":""},{"location":"otca/01-opentelemetry-fundamentals/#traces","title":"Traces","text":"<ul> <li>Trace - End-to-end request flow</li> <li>Span - Single operation within a trace</li> <li>SpanContext - Trace ID, Span ID, flags</li> <li>Attributes - Key-value pairs on spans</li> </ul>"},{"location":"otca/01-opentelemetry-fundamentals/#metrics","title":"Metrics","text":"<ul> <li>Counter - Monotonically increasing value</li> <li>Gauge - Current value at a point in time</li> <li>Histogram - Distribution of values</li> </ul>"},{"location":"otca/01-opentelemetry-fundamentals/#context-propagation","title":"Context Propagation","text":"<ul> <li>W3C Trace Context - Standard propagation format</li> <li>Baggage - User-defined key-value pairs</li> </ul>"},{"location":"otca/01-opentelemetry-fundamentals/#opentelemetry-collector","title":"OpenTelemetry Collector","text":""},{"location":"otca/01-opentelemetry-fundamentals/#configuration","title":"Configuration","text":"<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n        endpoint: 0.0.0.0:4317\n      http:\n        endpoint: 0.0.0.0:4318\n\nprocessors:\n  batch:\n    timeout: 1s\n    send_batch_size: 1024\n  memory_limiter:\n    check_interval: 1s\n    limit_mib: 1000\n\nexporters:\n  logging:\n    loglevel: debug\n  jaeger:\n    endpoint: jaeger:14250\n    tls:\n      insecure: true\n  prometheus:\n    endpoint: \"0.0.0.0:8889\"\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [memory_limiter, batch]\n      exporters: [jaeger, logging]\n    metrics:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [prometheus]\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#deployment","title":"Deployment","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: otel-collector\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: otel-collector\n  template:\n    metadata:\n      labels:\n        app: otel-collector\n    spec:\n      containers:\n      - name: collector\n        image: otel/opentelemetry-collector:latest\n        ports:\n        - containerPort: 4317  # OTLP gRPC\n        - containerPort: 4318  # OTLP HTTP\n        - containerPort: 8889  # Prometheus metrics\n        volumeMounts:\n        - name: config\n          mountPath: /etc/otel\n      volumes:\n      - name: config\n        configMap:\n          name: otel-collector-config\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#instrumentation","title":"Instrumentation","text":""},{"location":"otca/01-opentelemetry-fundamentals/#python","title":"Python","text":"<pre><code>from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\n\n# Setup\ntrace.set_tracer_provider(TracerProvider())\ntracer = trace.get_tracer(__name__)\n\n# Export to collector\notlp_exporter = OTLPSpanExporter(endpoint=\"localhost:4317\", insecure=True)\nspan_processor = BatchSpanProcessor(otlp_exporter)\ntrace.get_tracer_provider().add_span_processor(span_processor)\n\n# Create spans\nwith tracer.start_as_current_span(\"main\") as span:\n    span.set_attribute(\"user.id\", \"12345\")\n    with tracer.start_as_current_span(\"child\"):\n        # Do work\n        pass\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#go","title":"Go","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"go.opentelemetry.io/otel\"\n    \"go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc\"\n    \"go.opentelemetry.io/otel/sdk/trace\"\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // Create exporter\n    exporter, _ := otlptracegrpc.New(ctx,\n        otlptracegrpc.WithEndpoint(\"localhost:4317\"),\n        otlptracegrpc.WithInsecure(),\n    )\n\n    // Create provider\n    tp := trace.NewTracerProvider(\n        trace.WithBatcher(exporter),\n    )\n    otel.SetTracerProvider(tp)\n\n    // Create tracer\n    tracer := otel.Tracer(\"myapp\")\n\n    // Create span\n    ctx, span := tracer.Start(ctx, \"operation\")\n    defer span.End()\n}\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#auto-instrumentation","title":"Auto-instrumentation","text":"<pre><code># Python\npip install opentelemetry-distro opentelemetry-exporter-otlp\nopentelemetry-bootstrap -a install\nopentelemetry-instrument python myapp.py\n\n# Java\njava -javaagent:opentelemetry-javaagent.jar \\\n  -Dotel.service.name=myapp \\\n  -Dotel.exporter.otlp.endpoint=http://localhost:4317 \\\n  -jar myapp.jar\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#semantic-conventions","title":"Semantic Conventions","text":"<p>Standard attribute names:</p> <pre><code># Service\nservice.name: myapp\nservice.version: 1.0.0\n\n# HTTP\nhttp.method: GET\nhttp.url: https://example.com/api\nhttp.status_code: 200\n\n# Database\ndb.system: postgresql\ndb.name: mydb\ndb.statement: SELECT * FROM users\n\n# Messaging\nmessaging.system: kafka\nmessaging.destination: my-topic\n</code></pre>"},{"location":"otca/01-opentelemetry-fundamentals/#best-practices","title":"Best Practices","text":"<ol> <li>Use semantic conventions for consistent attributes</li> <li>Sample appropriately to manage data volume</li> <li>Propagate context across service boundaries</li> <li>Add meaningful attributes for debugging</li> <li>Use batch processors for efficiency</li> </ol> <p>\u2190 Back to OTCA Overview</p>"},{"location":"otca/sample-questions/","title":"OTCA Sample Practice Questions","text":""},{"location":"otca/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>OpenTelemetry Documentation</li> <li>OpenTelemetry Demo</li> </ul>"},{"location":"otca/sample-questions/#observability-concepts-16","title":"Observability Concepts (16%)","text":""},{"location":"otca/sample-questions/#question-1","title":"Question 1","text":"<p>What are the three pillars of observability in OpenTelemetry?</p> Show Solution  1. **Traces** - Distributed tracing showing request flow 2. **Metrics** - Numerical measurements over time 3. **Logs** - Timestamped text records of events  OpenTelemetry also supports **Baggage** for context propagation."},{"location":"otca/sample-questions/#question-2","title":"Question 2","text":"<p>What is the difference between a Trace and a Span?</p> Show Solution  - **Trace** - Complete journey of a request through a distributed system, identified by a unique trace ID - **Span** - Single operation within a trace, with start time, duration, and attributes  A trace contains multiple spans in a parent-child hierarchy: <pre><code>Trace (trace_id: abc123)\n\u251c\u2500\u2500 Span A (root span)\n\u2502   \u251c\u2500\u2500 Span B (child of A)\n\u2502   \u2514\u2500\u2500 Span C (child of A)\n\u2502       \u2514\u2500\u2500 Span D (child of C)\n</code></pre>"},{"location":"otca/sample-questions/#question-3","title":"Question 3","text":"<p>What is context propagation?</p> Show Solution  Context propagation passes trace context between services to correlate spans across service boundaries.  Components: - **Context** - Carries trace ID, span ID, trace flags - **Propagators** - Inject/extract context from carriers (HTTP headers) - **W3C Trace Context** - Standard format for propagation  Example headers: <pre><code>traceparent: 00-&lt;trace-id&gt;-&lt;span-id&gt;-&lt;flags&gt;\ntracestate: vendor1=value1,vendor2=value2\n</code></pre>"},{"location":"otca/sample-questions/#opentelemetry-api-24","title":"OpenTelemetry API (24%)","text":""},{"location":"otca/sample-questions/#question-4","title":"Question 4","text":"<p>How do you create a span manually?</p> Show Solution <pre><code>from opentelemetry import trace\n\ntracer = trace.get_tracer(__name__)\n\nwith tracer.start_as_current_span(\"my-operation\") as span:\n    span.set_attribute(\"key\", \"value\")\n    span.add_event(\"processing started\")\n    # Do work\n    span.set_status(trace.Status(trace.StatusCode.OK))\n</code></pre> <pre><code>Tracer tracer = GlobalOpenTelemetry.getTracer(\"my-app\");\nSpan span = tracer.spanBuilder(\"my-operation\").startSpan();\ntry (Scope scope = span.makeCurrent()) {\n    span.setAttribute(\"key\", \"value\");\n    // Do work\n} finally {\n    span.end();\n}\n</code></pre>"},{"location":"otca/sample-questions/#question-5","title":"Question 5","text":"<p>How do you record metrics with OpenTelemetry?</p> Show Solution <pre><code>from opentelemetry import metrics\n\nmeter = metrics.get_meter(__name__)\n\n# Counter - only increases\ncounter = meter.create_counter(\"requests_total\")\ncounter.add(1, {\"method\": \"GET\"})\n\n# UpDownCounter - can increase or decrease\ngauge = meter.create_up_down_counter(\"active_connections\")\ngauge.add(1)\ngauge.add(-1)\n\n# Histogram - distribution of values\nhistogram = meter.create_histogram(\"request_duration\")\nhistogram.record(0.5, {\"endpoint\": \"/api\"})\n</code></pre>"},{"location":"otca/sample-questions/#question-6","title":"Question 6","text":"<p>What are span attributes vs span events?</p> Show Solution  **Attributes** - Key-value pairs describing the span - Set once, describe the operation - Examples: http.method, http.url, db.system  **Events** - Timestamped logs within a span - Can have multiple events per span - Examples: \"cache miss\", \"retry attempt\"  <pre><code>span.set_attribute(\"http.method\", \"GET\")\nspan.add_event(\"cache_miss\", {\"key\": \"user:123\"})\n</code></pre>"},{"location":"otca/sample-questions/#opentelemetry-sdk-16","title":"OpenTelemetry SDK (16%)","text":""},{"location":"otca/sample-questions/#question-7","title":"Question 7","text":"<p>What are the main SDK components?</p> Show Solution  **Trace SDK:** - TracerProvider - Creates tracers - SpanProcessor - Processes spans (batch, simple) - SpanExporter - Exports spans to backends  **Metrics SDK:** - MeterProvider - Creates meters - MetricReader - Reads metrics periodically - MetricExporter - Exports metrics  **Common:** - Resource - Describes the entity producing telemetry - Sampler - Decides which traces to sample"},{"location":"otca/sample-questions/#question-8","title":"Question 8","text":"<p>Configure the OpenTelemetry SDK with OTLP exporter.</p> Show Solution <pre><code>from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\nfrom opentelemetry.sdk.resources import Resource\n\nresource = Resource.create({\"service.name\": \"my-service\"})\n\nprovider = TracerProvider(resource=resource)\nprocessor = BatchSpanProcessor(OTLPSpanExporter(endpoint=\"localhost:4317\"))\nprovider.add_span_processor(processor)\ntrace.set_tracer_provider(provider)\n</code></pre>"},{"location":"otca/sample-questions/#question-9","title":"Question 9","text":"<p>What is sampling and what are the sampling strategies?</p> Show Solution  **Sampling** decides which traces to record to reduce overhead.  Strategies: - **AlwaysOn** - Record all traces - **AlwaysOff** - Record no traces - **TraceIdRatioBased** - Sample based on trace ID ratio - **ParentBased** - Follow parent's sampling decision  <pre><code>from opentelemetry.sdk.trace.sampling import TraceIdRatioBased\n\nsampler = TraceIdRatioBased(0.1)  # Sample 10%\nprovider = TracerProvider(sampler=sampler)\n</code></pre>"},{"location":"otca/sample-questions/#opentelemetry-collector-24","title":"OpenTelemetry Collector (24%)","text":""},{"location":"otca/sample-questions/#question-10","title":"Question 10","text":"<p>What are the main components of the OTel Collector?</p> Show Solution  1. **Receivers** - Accept data (OTLP, Jaeger, Prometheus) 2. **Processors** - Transform data (batch, filter, attributes) 3. **Exporters** - Send data to backends (OTLP, Jaeger, Prometheus) 4. **Extensions** - Additional capabilities (health check, pprof) 5. **Connectors** - Connect pipelines (count spans to metrics)  Pipeline: Receivers \u2192 Processors \u2192 Exporters"},{"location":"otca/sample-questions/#question-11","title":"Question 11","text":"<p>Write a basic Collector configuration.</p> Show Solution <pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n        endpoint: 0.0.0.0:4317\n      http:\n        endpoint: 0.0.0.0:4318\n\nprocessors:\n  batch:\n    timeout: 10s\n    send_batch_size: 1000\n  memory_limiter:\n    limit_mib: 512\n\nexporters:\n  otlp:\n    endpoint: jaeger:4317\n    tls:\n      insecure: true\n  prometheus:\n    endpoint: 0.0.0.0:8889\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [memory_limiter, batch]\n      exporters: [otlp]\n    metrics:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [prometheus]\n</code></pre>"},{"location":"otca/sample-questions/#question-12","title":"Question 12","text":"<p>What are common Collector deployment patterns?</p> Show Solution  1. **No Collector (Direct)** - Apps export directly to backend 2. **Agent** - Collector as sidecar/daemonset per node 3. **Gateway** - Centralized Collector cluster 4. **Agent + Gateway** - Two-tier architecture  Best practices: - Use Agent for collection, Gateway for processing - Enable memory_limiter processor - Use batch processor for efficiency"},{"location":"otca/sample-questions/#instrumentation-20","title":"Instrumentation (20%)","text":""},{"location":"otca/sample-questions/#question-13","title":"Question 13","text":"<p>What is the difference between auto and manual instrumentation?</p> Show Solution  **Auto-instrumentation:** - Automatic, no code changes - Uses agents or libraries - Covers common frameworks - Less control  **Manual instrumentation:** - Requires code changes - Full control over spans/metrics - Custom business logic - More effort  Best practice: Use auto-instrumentation as base, add manual for business logic."},{"location":"otca/sample-questions/#question-14","title":"Question 14","text":"<p>How do you enable auto-instrumentation in Python?</p> Show Solution <pre><code># Install\npip install opentelemetry-distro opentelemetry-exporter-otlp\nopentelemetry-bootstrap -a install\n\n# Run with auto-instrumentation\nopentelemetry-instrument \\\n  --service_name my-service \\\n  --traces_exporter otlp \\\n  --metrics_exporter otlp \\\n  --exporter_otlp_endpoint http://localhost:4317 \\\n  python app.py\n</code></pre>  Or with environment variables: <pre><code>export OTEL_SERVICE_NAME=my-service\nexport OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317\nopentelemetry-instrument python app.py\n</code></pre>"},{"location":"otca/sample-questions/#question-15","title":"Question 15","text":"<p>What semantic conventions should you follow?</p> Show Solution  Semantic conventions standardize attribute names:  **HTTP:** - `http.method` - GET, POST - `http.url` - Full URL - `http.status_code` - 200, 404  **Database:** - `db.system` - mysql, postgresql - `db.statement` - SQL query - `db.name` - Database name  **Service:** - `service.name` - Service identifier - `service.version` - Version string  Following conventions enables better correlation across tools."},{"location":"otca/sample-questions/#exam-tips","title":"Exam Tips","text":"<ol> <li>Know the three signals - Traces, Metrics, Logs</li> <li>Understand Collector architecture - Receivers, Processors, Exporters</li> <li>Know SDK components - Providers, Processors, Exporters</li> <li>Practice configuration - Collector YAML, SDK setup</li> <li>Understand context propagation - W3C Trace Context</li> </ol> <p>\u2190 Back to OTCA Overview</p>"},{"location":"pca/","title":"PCA - Prometheus Certified Associate","text":"<p>The Prometheus Certified Associate (PCA) exam demonstrates an engineer's foundational knowledge of observability and skills using Prometheus, the open source systems monitoring and alerting toolkit.</p>"},{"location":"pca/#exam-overview","title":"Exam Overview","text":"Detail Information Exam Format Multiple Choice Number of Questions 60 Duration 90 minutes Passing Score 75% Certification Validity 3 years Cost $250 USD Retake Policy 1 free retake"},{"location":"pca/#exam-domains-weights","title":"Exam Domains &amp; Weights","text":"Domain Weight Observability Concepts 18% Prometheus Fundamentals 20% PromQL 28% Instrumentation and Exporters 16% Alerting &amp; Dashboarding 18%"},{"location":"pca/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Linux command line</li> <li>Familiarity with containerized environments (Docker/Kubernetes)</li> <li>General understanding of monitoring concepts</li> <li>Basic knowledge of YAML configuration</li> </ul>"},{"location":"pca/#study-resources","title":"Study Resources","text":""},{"location":"pca/#official-resources","title":"Official Resources","text":"<ul> <li>PCA Exam Curriculum</li> <li>Prometheus Documentation</li> <li>Prometheus GitHub Repository</li> </ul>"},{"location":"pca/#recommended-courses","title":"Recommended Courses","text":"<ul> <li>Monitoring Systems and Services with Prometheus (LFS241)</li> <li>PromLabs Training</li> </ul>"},{"location":"pca/#practice-resources","title":"Practice Resources","text":"<ul> <li>Prometheus Playground</li> <li>PromQL Basics</li> <li>Grafana Play</li> </ul>"},{"location":"pca/#exam-tips","title":"Exam Tips","text":"<ol> <li>Understand the Three Pillars of Observability: Logs, Metrics, and Traces</li> <li>Master PromQL: This is 28% of the exam - practice writing queries</li> <li>Know SLA/SLO/SLI: Understand the differences and relationships</li> <li>Practice with Real Prometheus: Set up a local instance and experiment</li> <li>Understand Push vs Pull: Know when to use each approach</li> <li>Learn Alertmanager: Configuration, routing, and notification channels</li> </ol>"},{"location":"pca/#key-topics-to-master","title":"Key Topics to Master","text":""},{"location":"pca/#observability-concepts","title":"Observability Concepts","text":"<ul> <li>Metrics, Logs, and Traces</li> <li>Push vs Pull model</li> <li>Service Discovery</li> <li>SLAs, SLOs, and SLIs</li> </ul>"},{"location":"pca/#prometheus-architecture","title":"Prometheus Architecture","text":"<ul> <li>Prometheus Server components</li> <li>Time Series Database (TSDB)</li> <li>Scrape configuration</li> <li>Data model and labels</li> </ul>"},{"location":"pca/#promql","title":"PromQL","text":"<ul> <li>Selectors and matchers</li> <li>Aggregation operators</li> <li>Rate and increase functions</li> <li>Histogram queries</li> </ul>"},{"location":"pca/#exporters","title":"Exporters","text":"<ul> <li>Node Exporter</li> <li>Blackbox Exporter</li> <li>Custom exporters</li> <li>Client libraries</li> </ul>"},{"location":"pca/#alerting","title":"Alerting","text":"<ul> <li>Alert rules</li> <li>Alertmanager configuration</li> <li>Routing and grouping</li> <li>Notification channels</li> </ul>"},{"location":"pca/#navigation","title":"Navigation","text":"<ul> <li>Next: Observability Concepts \u2192</li> </ul>"},{"location":"pca/01-observability-concepts/","title":"Observability Concepts (18%)","text":""},{"location":"pca/01-observability-concepts/#overview","title":"Overview","text":"<p>This domain covers the foundational concepts of observability, including the three pillars (metrics, logs, traces), service discovery, and understanding SLAs, SLOs, and SLIs.</p>"},{"location":"pca/01-observability-concepts/#the-three-pillars-of-observability","title":"The Three Pillars of Observability","text":""},{"location":"pca/01-observability-concepts/#1-metrics","title":"1. Metrics","text":"<p>Metrics are numerical values that measure some aspect of a system over intervals of time.</p> <p>Characteristics: - Aggregatable and compressible - Low storage overhead - Good for alerting and trending - Examples: CPU usage, request count, error rate</p> <p>Prometheus Metric Types: <pre><code># Counter - only increases (resets on restart)\nhttp_requests_total{method=\"GET\", status=\"200\"} 1234\n\n# Gauge - can go up or down\ntemperature_celsius{location=\"server_room\"} 23.5\n\n# Histogram - samples observations into buckets\nhttp_request_duration_seconds_bucket{le=\"0.1\"} 24054\nhttp_request_duration_seconds_bucket{le=\"0.5\"} 33444\nhttp_request_duration_seconds_sum 53423\nhttp_request_duration_seconds_count 144320\n\n# Summary - similar to histogram with quantiles\ngo_gc_duration_seconds{quantile=\"0.5\"} 0.000107458\ngo_gc_duration_seconds{quantile=\"0.9\"} 0.000262326\n</code></pre></p>"},{"location":"pca/01-observability-concepts/#2-logs","title":"2. Logs","text":"<p>Logs are immutable records that describe discrete events that have happened over time.</p> <p>Characteristics: - High cardinality data - Detailed context for debugging - Higher storage requirements - Examples: Application errors, access logs, audit trails</p> <p>Log Levels: - DEBUG: Detailed information for debugging - INFO: General operational information - WARN: Warning conditions - ERROR: Error conditions - FATAL/CRITICAL: Severe errors causing shutdown</p>"},{"location":"pca/01-observability-concepts/#3-traces","title":"3. Traces","text":"<p>Traces are records of the full paths or sequences of events that occur as requests flow through a system.</p> <p>Key Concepts: - Trace: Complete journey of a request through the system - Span: A single operation within a trace - Context Propagation: Passing trace context between services</p> <pre><code>Trace ID: abc123\n\u251c\u2500\u2500 Span 1: API Gateway (10ms)\n\u2502   \u251c\u2500\u2500 Span 2: Auth Service (5ms)\n\u2502   \u2514\u2500\u2500 Span 3: Backend Service (50ms)\n\u2502       \u251c\u2500\u2500 Span 4: Database Query (30ms)\n\u2502       \u2514\u2500\u2500 Span 5: Cache Lookup (2ms)\n</code></pre>"},{"location":"pca/01-observability-concepts/#push-vs-pull-model","title":"Push vs Pull Model","text":""},{"location":"pca/01-observability-concepts/#pull-model-prometheus-default","title":"Pull Model (Prometheus Default)","text":"<p>Prometheus actively scrapes metrics from targets at regular intervals.</p> <p>Advantages: - Prometheus controls scrape timing - Easy to detect if a target is down - No need for targets to know about Prometheus - Simpler target configuration</p> <p>Configuration Example: <pre><code>scrape_configs:\n  - job_name: 'node'\n    static_configs:\n      - targets: ['localhost:9100']\n    scrape_interval: 15s\n</code></pre></p>"},{"location":"pca/01-observability-concepts/#push-model-pushgateway","title":"Push Model (Pushgateway)","text":"<p>Applications push metrics to an intermediary (Pushgateway).</p> <p>Use Cases: - Short-lived batch jobs - Jobs behind firewalls - Legacy systems that can't expose endpoints</p> <p>When to Use Push: <pre><code># Push metrics to Pushgateway\necho \"job_completion_time $(date +%s)\" | curl --data-binary @- http://pushgateway:9091/metrics/job/batch_job\n</code></pre></p> <p>Important: Pushgateway should NOT be used as a general metrics aggregator.</p>"},{"location":"pca/01-observability-concepts/#service-discovery","title":"Service Discovery","text":"<p>Service discovery automatically finds and monitors targets without manual configuration.</p>"},{"location":"pca/01-observability-concepts/#static-configuration","title":"Static Configuration","text":"<pre><code>scrape_configs:\n  - job_name: 'static_targets'\n    static_configs:\n      - targets: ['server1:9090', 'server2:9090']\n</code></pre>"},{"location":"pca/01-observability-concepts/#kubernetes-service-discovery","title":"Kubernetes Service Discovery","text":"<pre><code>scrape_configs:\n  - job_name: 'kubernetes-pods'\n    kubernetes_sd_configs:\n      - role: pod\n    relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n        action: keep\n        regex: true\n</code></pre>"},{"location":"pca/01-observability-concepts/#file-based-service-discovery","title":"File-based Service Discovery","text":"<pre><code>scrape_configs:\n  - job_name: 'file_sd'\n    file_sd_configs:\n      - files:\n          - '/etc/prometheus/targets/*.json'\n        refresh_interval: 5m\n</code></pre>"},{"location":"pca/01-observability-concepts/#dns-service-discovery","title":"DNS Service Discovery","text":"<pre><code>scrape_configs:\n  - job_name: 'dns_sd'\n    dns_sd_configs:\n      - names:\n          - 'myservice.example.com'\n        type: 'A'\n        port: 9090\n</code></pre>"},{"location":"pca/01-observability-concepts/#slas-slos-and-slis","title":"SLAs, SLOs, and SLIs","text":""},{"location":"pca/01-observability-concepts/#service-level-agreement-sla","title":"Service Level Agreement (SLA)","text":"<p>A formal agreement between a service provider and customer defining expected service levels.</p> <p>Example:</p> <p>\"The service will be available 99.9% of the time, measured monthly. If availability falls below this threshold, customers will receive a 10% credit.\"</p>"},{"location":"pca/01-observability-concepts/#service-level-objective-slo","title":"Service Level Objective (SLO)","text":"<p>Internal targets that teams aim to achieve to meet SLAs.</p> <p>Example: <pre><code>SLO: 99.95% availability (stricter than SLA)\nSLO: 95th percentile latency &lt; 200ms\nSLO: Error rate &lt; 0.1%\n</code></pre></p>"},{"location":"pca/01-observability-concepts/#service-level-indicator-sli","title":"Service Level Indicator (SLI)","text":"<p>The actual metrics used to measure service performance.</p> <p>Common SLIs: <pre><code># Availability SLI\nsum(rate(http_requests_total{status!~\"5..\"}[5m])) / sum(rate(http_requests_total[5m]))\n\n# Latency SLI (95th percentile)\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n\n# Error Rate SLI\nsum(rate(http_requests_total{status=~\"5..\"}[5m])) / sum(rate(http_requests_total[5m]))\n</code></pre></p>"},{"location":"pca/01-observability-concepts/#error-budgets","title":"Error Budgets","text":"<p>The acceptable amount of unreliability based on SLO.</p> <pre><code>SLO: 99.9% availability\nError Budget: 0.1% (43.2 minutes/month)\n\nIf error budget is exhausted:\n- Freeze feature releases\n- Focus on reliability improvements\n</code></pre>"},{"location":"pca/01-observability-concepts/#key-concepts-summary","title":"Key Concepts Summary","text":"Concept Description Example Metrics Numerical measurements over time CPU usage, request count Logs Discrete event records Error messages, access logs Traces Request flow through system Distributed transaction path Pull Prometheus scrapes targets Default Prometheus model Push Targets push to gateway Batch jobs, short-lived processes SLA Customer agreement 99.9% uptime guarantee SLO Internal target 99.95% availability target SLI Actual measurement Current availability percentage"},{"location":"pca/01-observability-concepts/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the three pillars of observability?</li> <li>When should you use the Pushgateway instead of the pull model?</li> <li>What is the difference between an SLA and an SLO?</li> <li>Name three types of service discovery supported by Prometheus.</li> <li>What is a span in the context of distributed tracing?</li> </ol>"},{"location":"pca/01-observability-concepts/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Overview</li> <li>Next: Prometheus Fundamentals \u2192</li> </ul>"},{"location":"pca/02-prometheus-fundamentals/","title":"Prometheus Fundamentals (20%)","text":""},{"location":"pca/02-prometheus-fundamentals/#overview","title":"Overview","text":"<p>This domain covers Prometheus architecture, configuration, scraping, data model, labels, and understanding Prometheus limitations.</p>"},{"location":"pca/02-prometheus-fundamentals/#prometheus-architecture","title":"Prometheus Architecture","text":""},{"location":"pca/02-prometheus-fundamentals/#core-components","title":"Core Components","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Prometheus Server                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Retrieval  \u2502  \u2502    TSDB     \u2502  \u2502    HTTP Server      \u2502 \u2502\n\u2502  \u2502  (Scraper)  \u2502\u2500\u2500\u2502  (Storage)  \u2502\u2500\u2500\u2502  (PromQL, API)      \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                      \u2502\n         \u25bc                                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Targets     \u2502                  \u2502   Visualization     \u2502\n\u2502  (Exporters,    \u2502                  \u2502   (Grafana, etc.)   \u2502\n\u2502   Applications) \u2502                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n         \u2502                                    \u25bc\n         \u25bc                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502   Alertmanager      \u2502\n\u2502   Pushgateway   \u2502                 \u2502   (Notifications)   \u2502\n\u2502  (Short-lived   \u2502                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502   jobs)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#component-descriptions","title":"Component Descriptions","text":"Component Purpose Prometheus Server Core component that scrapes and stores metrics TSDB Time Series Database for efficient storage Retrieval Scrapes metrics from configured targets HTTP Server Serves PromQL queries and API requests Alertmanager Handles alerts, routing, and notifications Pushgateway Accepts pushed metrics from short-lived jobs Exporters Expose metrics from third-party systems"},{"location":"pca/02-prometheus-fundamentals/#configuration","title":"Configuration","text":""},{"location":"pca/02-prometheus-fundamentals/#basic-configuration-structure","title":"Basic Configuration Structure","text":"<pre><code># prometheus.yml\nglobal:\n  scrape_interval: 15s      # How often to scrape targets\n  evaluation_interval: 15s  # How often to evaluate rules\n  scrape_timeout: 10s       # Timeout for scrape requests\n\n# Alertmanager configuration\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n            - alertmanager:9093\n\n# Rule files\nrule_files:\n  - \"rules/*.yml\"\n  - \"alerts/*.yml\"\n\n# Scrape configurations\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#scrape-configuration-options","title":"Scrape Configuration Options","text":"<pre><code>scrape_configs:\n  - job_name: 'example'\n    # Override global settings\n    scrape_interval: 30s\n    scrape_timeout: 10s\n\n    # Metrics path (default: /metrics)\n    metrics_path: /metrics\n\n    # Scheme (http or https)\n    scheme: https\n\n    # Basic authentication\n    basic_auth:\n      username: admin\n      password: secret\n\n    # TLS configuration\n    tls_config:\n      ca_file: /path/to/ca.crt\n      cert_file: /path/to/client.crt\n      key_file: /path/to/client.key\n\n    # Static targets\n    static_configs:\n      - targets: ['host1:9090', 'host2:9090']\n        labels:\n          env: production\n          team: backend\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#relabeling-configuration","title":"Relabeling Configuration","text":"<p>Relabeling allows modifying labels before scraping or storing.</p> <pre><code>scrape_configs:\n  - job_name: 'kubernetes-pods'\n    kubernetes_sd_configs:\n      - role: pod\n\n    relabel_configs:\n      # Keep only pods with annotation\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n        action: keep\n        regex: true\n\n      # Replace metrics path\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]\n        action: replace\n        target_label: __metrics_path__\n        regex: (.+)\n\n      # Add namespace label\n      - source_labels: [__meta_kubernetes_namespace]\n        action: replace\n        target_label: namespace\n\n      # Drop specific labels\n      - action: labeldrop\n        regex: __meta_kubernetes_pod_label_(.+)\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#data-model","title":"Data Model","text":""},{"location":"pca/02-prometheus-fundamentals/#time-series-structure","title":"Time Series Structure","text":"<p>Every time series is uniquely identified by: - Metric name: Describes what is being measured - Labels: Key-value pairs for dimensions</p> <pre><code>&lt;metric_name&gt;{&lt;label_name&gt;=&lt;label_value&gt;, ...}\n\n# Examples\nhttp_requests_total{method=\"GET\", status=\"200\", path=\"/api\"}\nnode_cpu_seconds_total{cpu=\"0\", mode=\"idle\"}\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#metric-naming-conventions","title":"Metric Naming Conventions","text":"<pre><code># Format: &lt;namespace&gt;_&lt;name&gt;_&lt;unit&gt;_&lt;suffix&gt;\n\n# Good examples\nhttp_requests_total              # Counter\nhttp_request_duration_seconds    # Histogram\nnode_memory_bytes_total          # Gauge\nprocess_cpu_seconds_total        # Counter\n\n# Suffixes\n_total    - Counter\n_count    - Number of observations (histogram/summary)\n_sum      - Sum of observations (histogram/summary)\n_bucket   - Histogram bucket\n_info     - Info metric (gauge with value 1)\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#label-best-practices","title":"Label Best Practices","text":"<pre><code># Good labels - low cardinality\nhttp_requests_total{method=\"GET\", status=\"200\"}\nhttp_requests_total{method=\"POST\", status=\"201\"}\n\n# Bad labels - high cardinality (avoid!)\nhttp_requests_total{user_id=\"12345\", request_id=\"abc-123\"}\n</code></pre> <p>Cardinality Warning: Each unique label combination creates a new time series. High cardinality can cause performance issues.</p>"},{"location":"pca/02-prometheus-fundamentals/#metric-types","title":"Metric Types","text":""},{"location":"pca/02-prometheus-fundamentals/#counter","title":"Counter","text":"<p>A cumulative metric that only increases (or resets to zero on restart).</p> <pre><code># Raw counter value\nhttp_requests_total\n\n# Rate of increase per second\nrate(http_requests_total[5m])\n\n# Total increase over time window\nincrease(http_requests_total[1h])\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#gauge","title":"Gauge","text":"<p>A metric that can go up or down.</p> <pre><code># Current value\nnode_memory_MemAvailable_bytes\n\n# Changes over time\ndelta(node_memory_MemAvailable_bytes[1h])\n\n# Derivative (rate of change)\nderiv(node_memory_MemAvailable_bytes[1h])\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#histogram","title":"Histogram","text":"<p>Samples observations and counts them in configurable buckets.</p> <pre><code># Bucket counts\nhttp_request_duration_seconds_bucket{le=\"0.1\"}\nhttp_request_duration_seconds_bucket{le=\"0.5\"}\nhttp_request_duration_seconds_bucket{le=\"+Inf\"}\n\n# Calculate percentiles\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n\n# Average duration\nrate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#summary","title":"Summary","text":"<p>Similar to histogram but calculates quantiles on the client side.</p> <pre><code># Pre-calculated quantiles\ngo_gc_duration_seconds{quantile=\"0.5\"}\ngo_gc_duration_seconds{quantile=\"0.9\"}\ngo_gc_duration_seconds{quantile=\"0.99\"}\n</code></pre> <p>Histogram vs Summary: | Feature | Histogram | Summary | |---------|-----------|---------| | Quantile calculation | Server-side (PromQL) | Client-side | | Aggregatable | Yes | No | | Bucket configuration | Required | Not needed | | Accuracy | Depends on buckets | Configurable |</p>"},{"location":"pca/02-prometheus-fundamentals/#exposition-format","title":"Exposition Format","text":""},{"location":"pca/02-prometheus-fundamentals/#text-format","title":"Text Format","text":"<pre><code># HELP http_requests_total Total number of HTTP requests\n# TYPE http_requests_total counter\nhttp_requests_total{method=\"GET\",status=\"200\"} 1234 1609459200000\nhttp_requests_total{method=\"POST\",status=\"201\"} 567\n\n# HELP node_cpu_seconds_total CPU time spent in each mode\n# TYPE node_cpu_seconds_total counter\nnode_cpu_seconds_total{cpu=\"0\",mode=\"idle\"} 123456.78\nnode_cpu_seconds_total{cpu=\"0\",mode=\"user\"} 45678.90\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#format-components","title":"Format Components","text":"<pre><code># HELP &lt;metric_name&gt; &lt;description&gt;\n# TYPE &lt;metric_name&gt; &lt;type&gt;\n&lt;metric_name&gt;{&lt;labels&gt;} &lt;value&gt; [&lt;timestamp&gt;]\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#prometheus-limitations","title":"Prometheus Limitations","text":""},{"location":"pca/02-prometheus-fundamentals/#storage-limitations","title":"Storage Limitations","text":"<ul> <li>Local storage only: No built-in clustering</li> <li>Retention: Limited by disk space</li> <li>No long-term storage: Use remote write for long-term</li> </ul> <pre><code># Storage configuration\nstorage:\n  tsdb:\n    path: /prometheus/data\n    retention.time: 15d\n    retention.size: 50GB\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#scalability-limitations","title":"Scalability Limitations","text":"<ul> <li>Single server: Prometheus is designed for single-server operation</li> <li>High availability: Requires running multiple instances</li> <li>Federation: For hierarchical scaling</li> </ul> <pre><code># Federation configuration\nscrape_configs:\n  - job_name: 'federate'\n    honor_labels: true\n    metrics_path: '/federate'\n    params:\n      'match[]':\n        - '{job=\"prometheus\"}'\n        - '{__name__=~\"job:.*\"}'\n    static_configs:\n      - targets:\n          - 'prometheus-1:9090'\n          - 'prometheus-2:9090'\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#other-limitations","title":"Other Limitations","text":"Limitation Workaround No event logging Use logging systems (Loki, ELK) Pull-only model Pushgateway for batch jobs No built-in auth Use reverse proxy Single-node Federation, Thanos, Cortex"},{"location":"pca/02-prometheus-fundamentals/#remote-writeread","title":"Remote Write/Read","text":""},{"location":"pca/02-prometheus-fundamentals/#remote-write-configuration","title":"Remote Write Configuration","text":"<pre><code>remote_write:\n  - url: \"http://remote-storage:9201/write\"\n    queue_config:\n      max_samples_per_send: 1000\n      batch_send_deadline: 5s\n    write_relabel_configs:\n      - source_labels: [__name__]\n        regex: 'expensive_metric_.*'\n        action: drop\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#remote-read-configuration","title":"Remote Read Configuration","text":"<pre><code>remote_read:\n  - url: \"http://remote-storage:9201/read\"\n    read_recent: true\n</code></pre>"},{"location":"pca/02-prometheus-fundamentals/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the main components of Prometheus architecture?</li> <li>What is the difference between <code>scrape_interval</code> and <code>evaluation_interval</code>?</li> <li>How do you configure basic authentication for a scrape target?</li> <li>What is the purpose of relabeling in Prometheus?</li> <li>What are the four metric types in Prometheus?</li> <li>Why should you avoid high-cardinality labels?</li> <li>What is the difference between histogram and summary metrics?</li> <li>How can you scale Prometheus for high availability?</li> </ol>"},{"location":"pca/02-prometheus-fundamentals/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Observability Concepts</li> <li>Next: PromQL \u2192</li> </ul>"},{"location":"pca/03-promql/","title":"PromQL (28%)","text":""},{"location":"pca/03-promql/#overview","title":"Overview","text":"<p>PromQL (Prometheus Query Language) is the most heavily weighted domain in the PCA exam. This section covers selecting data, rates, aggregations, binary operators, and histogram queries.</p>"},{"location":"pca/03-promql/#data-types","title":"Data Types","text":""},{"location":"pca/03-promql/#instant-vector","title":"Instant Vector","text":"<p>A set of time series with a single sample value at a given timestamp.</p> <pre><code># Returns current value for all matching series\nhttp_requests_total\nhttp_requests_total{method=\"GET\"}\n</code></pre>"},{"location":"pca/03-promql/#range-vector","title":"Range Vector","text":"<p>A set of time series with a range of samples over time.</p> <pre><code># Returns samples from the last 5 minutes\nhttp_requests_total[5m]\nhttp_requests_total{method=\"GET\"}[1h]\n</code></pre>"},{"location":"pca/03-promql/#scalar","title":"Scalar","text":"<p>A simple numeric floating-point value.</p> <pre><code># Scalar values\n42\n3.14\n</code></pre>"},{"location":"pca/03-promql/#string","title":"String","text":"<p>A simple string value (rarely used).</p> <pre><code>\"hello world\"\n</code></pre>"},{"location":"pca/03-promql/#selectors-and-matchers","title":"Selectors and Matchers","text":""},{"location":"pca/03-promql/#label-matchers","title":"Label Matchers","text":"<pre><code># Exact match\nhttp_requests_total{method=\"GET\"}\n\n# Not equal\nhttp_requests_total{method!=\"GET\"}\n\n# Regex match\nhttp_requests_total{method=~\"GET|POST\"}\n\n# Regex not match\nhttp_requests_total{method!~\"DELETE|PUT\"}\n\n# Multiple matchers (AND logic)\nhttp_requests_total{method=\"GET\", status=\"200\"}\n</code></pre>"},{"location":"pca/03-promql/#metric-name-matching","title":"Metric Name Matching","text":"<pre><code># Match metric name with regex\n{__name__=~\"http_.*\"}\n\n# All metrics with specific label\n{job=\"prometheus\"}\n</code></pre>"},{"location":"pca/03-promql/#time-ranges-and-offsets","title":"Time Ranges and Offsets","text":""},{"location":"pca/03-promql/#range-vectors","title":"Range Vectors","text":"<pre><code># Last 5 minutes\nhttp_requests_total[5m]\n\n# Last 1 hour\nhttp_requests_total[1h]\n\n# Last 1 day\nhttp_requests_total[1d]\n</code></pre>"},{"location":"pca/03-promql/#time-units","title":"Time Units","text":"Unit Description <code>ms</code> Milliseconds <code>s</code> Seconds <code>m</code> Minutes <code>h</code> Hours <code>d</code> Days <code>w</code> Weeks <code>y</code> Years"},{"location":"pca/03-promql/#offset-modifier","title":"Offset Modifier","text":"<pre><code># Value from 1 hour ago\nhttp_requests_total offset 1h\n\n# Rate from 1 day ago\nrate(http_requests_total[5m] offset 1d)\n\n# Compare current to yesterday\nhttp_requests_total - http_requests_total offset 1d\n</code></pre>"},{"location":"pca/03-promql/#modifier","title":"@ Modifier","text":"<pre><code># Value at specific timestamp\nhttp_requests_total @ 1609459200\n\n# Value at start of query range\nhttp_requests_total @ start()\n\n# Value at end of query range\nhttp_requests_total @ end()\n</code></pre>"},{"location":"pca/03-promql/#rates-and-derivatives","title":"Rates and Derivatives","text":""},{"location":"pca/03-promql/#rate","title":"rate()","text":"<p>Calculates per-second average rate of increase for counters.</p> <pre><code># Requests per second over 5 minutes\nrate(http_requests_total[5m])\n\n# CPU usage rate\nrate(node_cpu_seconds_total{mode=\"user\"}[5m])\n</code></pre>"},{"location":"pca/03-promql/#irate","title":"irate()","text":"<p>Instant rate - uses last two data points (more volatile).</p> <pre><code># Instant rate (more responsive to spikes)\nirate(http_requests_total[5m])\n</code></pre>"},{"location":"pca/03-promql/#increase","title":"increase()","text":"<p>Total increase over the time range.</p> <pre><code># Total requests in last hour\nincrease(http_requests_total[1h])\n\n# Total errors in last day\nincrease(http_errors_total[1d])\n</code></pre>"},{"location":"pca/03-promql/#delta","title":"delta()","text":"<p>Difference between first and last value (for gauges).</p> <pre><code># Memory change over 1 hour\ndelta(node_memory_MemAvailable_bytes[1h])\n</code></pre>"},{"location":"pca/03-promql/#deriv","title":"deriv()","text":"<p>Per-second derivative using linear regression (for gauges).</p> <pre><code># Rate of memory change\nderiv(node_memory_MemAvailable_bytes[1h])\n</code></pre>"},{"location":"pca/03-promql/#rate-vs-irate-vs-increase","title":"Rate vs irate vs increase","text":"Function Use Case Behavior <code>rate()</code> General rate calculation Average over range <code>irate()</code> Volatile metrics, graphs Last two points only <code>increase()</code> Total count over period Total increase"},{"location":"pca/03-promql/#aggregation-operators","title":"Aggregation Operators","text":""},{"location":"pca/03-promql/#basic-aggregations","title":"Basic Aggregations","text":"<pre><code># Sum all values\nsum(http_requests_total)\n\n# Average\navg(http_requests_total)\n\n# Minimum\nmin(http_requests_total)\n\n# Maximum\nmax(http_requests_total)\n\n# Count of series\ncount(http_requests_total)\n\n# Standard deviation\nstddev(http_requests_total)\n\n# Standard variance\nstdvar(http_requests_total)\n</code></pre>"},{"location":"pca/03-promql/#aggregation-with-dimensions","title":"Aggregation with Dimensions","text":"<pre><code># Sum by specific label\nsum by (method) (rate(http_requests_total[5m]))\n\n# Sum excluding specific label\nsum without (instance) (rate(http_requests_total[5m]))\n\n# Multiple dimensions\nsum by (method, status) (rate(http_requests_total[5m]))\n</code></pre>"},{"location":"pca/03-promql/#topk-and-bottomk","title":"topk and bottomk","text":"<pre><code># Top 5 by request rate\ntopk(5, rate(http_requests_total[5m]))\n\n# Bottom 3 by memory usage\nbottomk(3, node_memory_MemAvailable_bytes)\n</code></pre>"},{"location":"pca/03-promql/#count_values","title":"count_values","text":"<pre><code># Count occurrences of each value\ncount_values(\"version\", build_info)\n</code></pre>"},{"location":"pca/03-promql/#quantile","title":"quantile","text":"<pre><code># 90th percentile of values\nquantile(0.9, http_request_duration_seconds)\n</code></pre>"},{"location":"pca/03-promql/#aggregation-over-time","title":"Aggregation Over Time","text":"<pre><code># Average over time range\navg_over_time(node_cpu_seconds_total[1h])\n\n# Sum over time range\nsum_over_time(http_requests_total[1h])\n\n# Min/Max over time range\nmin_over_time(temperature_celsius[1d])\nmax_over_time(temperature_celsius[1d])\n\n# Count samples in range\ncount_over_time(up[1h])\n\n# Quantile over time\nquantile_over_time(0.95, http_request_duration_seconds[1h])\n\n# Standard deviation over time\nstddev_over_time(response_time_seconds[1h])\n\n# Last value in range\nlast_over_time(up[5m])\n\n# Check if present in range\npresent_over_time(up[5m])\n</code></pre>"},{"location":"pca/03-promql/#binary-operators","title":"Binary Operators","text":""},{"location":"pca/03-promql/#arithmetic-operators","title":"Arithmetic Operators","text":"<pre><code># Addition\nnode_memory_MemTotal_bytes + node_memory_SwapTotal_bytes\n\n# Subtraction\nnode_memory_MemTotal_bytes - node_memory_MemAvailable_bytes\n\n# Multiplication\nrate(http_requests_total[5m]) * 100\n\n# Division\nnode_memory_MemAvailable_bytes / node_memory_MemTotal_bytes\n\n# Modulo\nhttp_requests_total % 100\n\n# Power\n2 ^ 10\n</code></pre>"},{"location":"pca/03-promql/#comparison-operators","title":"Comparison Operators","text":"<pre><code># Greater than\nhttp_requests_total &gt; 1000\n\n# Less than\nnode_memory_MemAvailable_bytes &lt; 1073741824\n\n# Equal\nup == 1\n\n# Not equal\nup != 0\n\n# Greater than or equal\nrate(http_requests_total[5m]) &gt;= 10\n\n# Less than or equal\nerror_rate &lt;= 0.01\n</code></pre>"},{"location":"pca/03-promql/#logical-operators","title":"Logical Operators","text":"<pre><code># AND - returns left side where both sides have matching labels\nhttp_requests_total and on(instance) up\n\n# OR - returns all series from both sides\nhttp_requests_total or http_errors_total\n\n# UNLESS - returns left side where right side doesn't match\nhttp_requests_total unless on(instance) up == 0\n</code></pre>"},{"location":"pca/03-promql/#vector-matching","title":"Vector Matching","text":"<pre><code># One-to-one matching\nhttp_requests_total / on(instance, job) http_requests_duration_sum\n\n# Many-to-one matching\nhttp_requests_total / ignoring(status) group_left http_requests_duration_sum\n\n# One-to-many matching\nhttp_requests_duration_sum * ignoring(status) group_right http_requests_total\n</code></pre>"},{"location":"pca/03-promql/#histogram-functions","title":"Histogram Functions","text":""},{"location":"pca/03-promql/#histogram_quantile","title":"histogram_quantile()","text":"<p>Calculate quantiles from histogram buckets.</p> <pre><code># 95th percentile latency\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n\n# 50th percentile (median) by endpoint\nhistogram_quantile(0.50, sum by (le, endpoint) (rate(http_request_duration_seconds_bucket[5m])))\n\n# Multiple quantiles\nhistogram_quantile(0.99, rate(http_request_duration_seconds_bucket[5m]))\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\nhistogram_quantile(0.50, rate(http_request_duration_seconds_bucket[5m]))\n</code></pre>"},{"location":"pca/03-promql/#average-from-histogram","title":"Average from Histogram","text":"<pre><code># Average request duration\nrate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])\n</code></pre>"},{"location":"pca/03-promql/#histogram-bucket-analysis","title":"Histogram Bucket Analysis","text":"<pre><code># Requests under 100ms\nrate(http_request_duration_seconds_bucket{le=\"0.1\"}[5m])\n\n# Percentage of requests under 500ms\nrate(http_request_duration_seconds_bucket{le=\"0.5\"}[5m]) / rate(http_request_duration_seconds_count[5m])\n</code></pre>"},{"location":"pca/03-promql/#useful-functions","title":"Useful Functions","text":""},{"location":"pca/03-promql/#label-functions","title":"Label Functions","text":"<pre><code># Add/modify labels\nlabel_replace(up, \"host\", \"$1\", \"instance\", \"(.*):.*\")\n\n# Join labels\nlabel_join(up, \"full_name\", \"-\", \"job\", \"instance\")\n</code></pre>"},{"location":"pca/03-promql/#math-functions","title":"Math Functions","text":"<pre><code># Absolute value\nabs(delta(temperature[1h]))\n\n# Ceiling\nceil(http_requests_total / 100)\n\n# Floor\nfloor(http_requests_total / 100)\n\n# Round\nround(http_requests_total / 100, 0.1)\n\n# Clamp values\nclamp(cpu_usage, 0, 100)\nclamp_min(value, 0)\nclamp_max(value, 100)\n</code></pre>"},{"location":"pca/03-promql/#time-functions","title":"Time Functions","text":"<pre><code># Current timestamp\ntime()\n\n# Day of month (1-31)\nday_of_month()\n\n# Day of week (0-6, Sunday=0)\nday_of_week()\n\n# Hour (0-23)\nhour()\n\n# Minute (0-59)\nminute()\n\n# Month (1-12)\nmonth()\n\n# Year\nyear()\n</code></pre>"},{"location":"pca/03-promql/#sorting","title":"Sorting","text":"<pre><code># Sort ascending\nsort(http_requests_total)\n\n# Sort descending\nsort_desc(http_requests_total)\n</code></pre>"},{"location":"pca/03-promql/#other-functions","title":"Other Functions","text":"<pre><code># Check if vector is empty\nabsent(nonexistent_metric)\n\n# Check if specific series is absent\nabsent(up{job=\"missing\"})\n\n# Changes in value\nchanges(process_start_time_seconds[1h])\n\n# Resets (counter resets)\nresets(http_requests_total[1h])\n</code></pre>"},{"location":"pca/03-promql/#common-query-patterns","title":"Common Query Patterns","text":""},{"location":"pca/03-promql/#error-rate","title":"Error Rate","text":"<pre><code># Error percentage\nsum(rate(http_requests_total{status=~\"5..\"}[5m])) / sum(rate(http_requests_total[5m])) * 100\n</code></pre>"},{"location":"pca/03-promql/#availability","title":"Availability","text":"<pre><code># Service availability\navg(up{job=\"myservice\"}) * 100\n</code></pre>"},{"location":"pca/03-promql/#saturation","title":"Saturation","text":"<pre><code># CPU saturation\n100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)\n</code></pre>"},{"location":"pca/03-promql/#request-rate","title":"Request Rate","text":"<pre><code># Requests per second by endpoint\nsum by (endpoint) (rate(http_requests_total[5m]))\n</code></pre>"},{"location":"pca/03-promql/#latency-percentiles","title":"Latency Percentiles","text":"<pre><code># P50, P95, P99 latencies\nhistogram_quantile(0.50, sum by (le) (rate(http_request_duration_seconds_bucket[5m])))\nhistogram_quantile(0.95, sum by (le) (rate(http_request_duration_seconds_bucket[5m])))\nhistogram_quantile(0.99, sum by (le) (rate(http_request_duration_seconds_bucket[5m])))\n</code></pre>"},{"location":"pca/03-promql/#practice-questions","title":"Practice Questions","text":"<ol> <li>What is the difference between an instant vector and a range vector?</li> <li>How do you calculate the per-second rate of a counter?</li> <li>What is the difference between <code>rate()</code> and <code>irate()</code>?</li> <li>How do you aggregate metrics by a specific label?</li> <li>Write a query to get the 95th percentile latency from a histogram.</li> <li>How do you compare current values to values from 1 hour ago?</li> <li>What does the <code>absent()</code> function do?</li> <li>How do you calculate error rate as a percentage?</li> </ol>"},{"location":"pca/03-promql/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Prometheus Fundamentals</li> <li>Next: Instrumentation and Exporters \u2192</li> </ul>"},{"location":"pca/04-instrumentation-exporters/","title":"Instrumentation and Exporters (16%)","text":""},{"location":"pca/04-instrumentation-exporters/#overview","title":"Overview","text":"<p>This domain covers client libraries, instrumentation best practices, exporters, and metric naming conventions.</p>"},{"location":"pca/04-instrumentation-exporters/#client-libraries","title":"Client Libraries","text":"<p>Prometheus provides official client libraries for instrumenting your applications.</p>"},{"location":"pca/04-instrumentation-exporters/#official-libraries","title":"Official Libraries","text":"Language Library Go <code>prometheus/client_golang</code> Java <code>prometheus/client_java</code> Python <code>prometheus/client_python</code> Ruby <code>prometheus/client_ruby</code> Rust <code>prometheus/client_rust</code>"},{"location":"pca/04-instrumentation-exporters/#go-client-example","title":"Go Client Example","text":"<pre><code>package main\n\nimport (\n    \"net/http\"\n    \"github.com/prometheus/client_golang/prometheus\"\n    \"github.com/prometheus/client_golang/prometheus/promhttp\"\n)\n\nvar (\n    // Counter\n    httpRequestsTotal = prometheus.NewCounterVec(\n        prometheus.CounterOpts{\n            Name: \"http_requests_total\",\n            Help: \"Total number of HTTP requests\",\n        },\n        []string{\"method\", \"status\"},\n    )\n\n    // Gauge\n    activeConnections = prometheus.NewGauge(\n        prometheus.GaugeOpts{\n            Name: \"active_connections\",\n            Help: \"Number of active connections\",\n        },\n    )\n\n    // Histogram\n    requestDuration = prometheus.NewHistogramVec(\n        prometheus.HistogramOpts{\n            Name:    \"http_request_duration_seconds\",\n            Help:    \"HTTP request duration in seconds\",\n            Buckets: prometheus.DefBuckets,\n        },\n        []string{\"method\", \"path\"},\n    )\n)\n\nfunc init() {\n    prometheus.MustRegister(httpRequestsTotal)\n    prometheus.MustRegister(activeConnections)\n    prometheus.MustRegister(requestDuration)\n}\n\nfunc main() {\n    http.Handle(\"/metrics\", promhttp.Handler())\n    http.ListenAndServe(\":8080\", nil)\n}\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#python-client-example","title":"Python Client Example","text":"<pre><code>from prometheus_client import Counter, Gauge, Histogram, start_http_server\n\n# Counter\nhttp_requests_total = Counter(\n    'http_requests_total',\n    'Total HTTP requests',\n    ['method', 'status']\n)\n\n# Gauge\nactive_connections = Gauge(\n    'active_connections',\n    'Number of active connections'\n)\n\n# Histogram\nrequest_duration = Histogram(\n    'http_request_duration_seconds',\n    'HTTP request duration',\n    ['method', 'path'],\n    buckets=[0.01, 0.05, 0.1, 0.5, 1.0, 5.0]\n)\n\n# Usage\nhttp_requests_total.labels(method='GET', status='200').inc()\nactive_connections.set(42)\n\nwith request_duration.labels(method='GET', path='/api').time():\n    # Your code here\n    pass\n\n# Start metrics server\nstart_http_server(8000)\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#java-client-example","title":"Java Client Example","text":"<pre><code>import io.prometheus.client.Counter;\nimport io.prometheus.client.Gauge;\nimport io.prometheus.client.Histogram;\nimport io.prometheus.client.exporter.HTTPServer;\n\npublic class Application {\n    static final Counter requests = Counter.build()\n        .name(\"http_requests_total\")\n        .help(\"Total HTTP requests\")\n        .labelNames(\"method\", \"status\")\n        .register();\n\n    static final Gauge connections = Gauge.build()\n        .name(\"active_connections\")\n        .help(\"Active connections\")\n        .register();\n\n    static final Histogram duration = Histogram.build()\n        .name(\"http_request_duration_seconds\")\n        .help(\"Request duration\")\n        .labelNames(\"method\", \"path\")\n        .buckets(0.01, 0.05, 0.1, 0.5, 1.0, 5.0)\n        .register();\n\n    public static void main(String[] args) throws Exception {\n        HTTPServer server = new HTTPServer(8080);\n\n        // Usage\n        requests.labels(\"GET\", \"200\").inc();\n        connections.set(42);\n\n        Histogram.Timer timer = duration.labels(\"GET\", \"/api\").startTimer();\n        try {\n            // Your code here\n        } finally {\n            timer.observeDuration();\n        }\n    }\n}\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#instrumentation-best-practices","title":"Instrumentation Best Practices","text":""},{"location":"pca/04-instrumentation-exporters/#what-to-instrument","title":"What to Instrument","text":"<p>The Four Golden Signals (Google SRE):</p> <ol> <li>Latency: Time to service a request</li> <li>Traffic: Demand on your system (requests/second)</li> <li>Errors: Rate of failed requests</li> <li>Saturation: How \"full\" your service is</li> </ol> <p>RED Method (for services):</p> <ul> <li>Rate: Requests per second</li> <li>Errors: Failed requests per second</li> <li>Duration: Time per request</li> </ul> <p>USE Method (for resources):</p> <ul> <li>Utilization: Percentage of resource used</li> <li>Saturation: Amount of work queued</li> <li>Errors: Error events</li> </ul>"},{"location":"pca/04-instrumentation-exporters/#counter-best-practices","title":"Counter Best Practices","text":"<pre><code>// Good: Use _total suffix\nhttp_requests_total\n\n// Good: Include relevant labels\nhttp_requests_total{method=\"GET\", status=\"200\"}\n\n// Bad: Don't use counters for values that can decrease\n// Use gauge instead for things like queue size\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#gauge-best-practices","title":"Gauge Best Practices","text":"<pre><code>// Good: Current state metrics\nactive_connections\nqueue_size\ntemperature_celsius\n\n// Good: Use for values that go up and down\nmemory_usage_bytes\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#histogram-best-practices","title":"Histogram Best Practices","text":"<pre><code>// Good: Choose appropriate buckets for your use case\nprometheus.HistogramOpts{\n    Name:    \"http_request_duration_seconds\",\n    Buckets: []float64{0.001, 0.005, 0.01, 0.05, 0.1, 0.5, 1, 5, 10},\n}\n\n// Good: Use seconds as the base unit\nhttp_request_duration_seconds\n\n// Bad: Don't use milliseconds\nhttp_request_duration_milliseconds  // Avoid this\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#label-best-practices","title":"Label Best Practices","text":"<pre><code>// Good: Low cardinality labels\nhttp_requests_total{method=\"GET\", status=\"200\"}\n\n// Bad: High cardinality labels (avoid!)\nhttp_requests_total{user_id=\"12345\", request_id=\"abc-123\"}\n\n// Good: Bounded set of values\nhttp_requests_total{status_class=\"2xx\"}\n\n// Bad: Unbounded values\nhttp_requests_total{path=\"/users/12345/orders/67890\"}\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#metric-naming-conventions","title":"Metric Naming Conventions","text":""},{"location":"pca/04-instrumentation-exporters/#format","title":"Format","text":"<pre><code>&lt;namespace&gt;_&lt;name&gt;_&lt;unit&gt;_&lt;suffix&gt;\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#examples","title":"Examples","text":"<pre><code># Application namespace\nmyapp_http_requests_total\nmyapp_database_connections_active\n\n# Unit in name\nhttp_request_duration_seconds\nnode_memory_bytes_total\nprocess_cpu_seconds_total\n\n# Suffixes\n_total      # Counter\n_count      # Histogram/Summary count\n_sum        # Histogram/Summary sum\n_bucket     # Histogram bucket\n_info       # Info metric (value always 1)\n_created    # Creation timestamp\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#naming-rules","title":"Naming Rules","text":"<ol> <li>Use snake_case</li> <li>Include unit in name (seconds, bytes, etc.)</li> <li>Use base units (seconds not milliseconds, bytes not kilobytes)</li> <li>Use <code>_total</code> suffix for counters</li> <li>Don't include label names in metric name</li> </ol>"},{"location":"pca/04-instrumentation-exporters/#exporters","title":"Exporters","text":"<p>Exporters expose metrics from third-party systems in Prometheus format.</p>"},{"location":"pca/04-instrumentation-exporters/#node-exporter","title":"Node Exporter","text":"<p>Exposes hardware and OS metrics from Linux/Unix systems.</p> <pre><code># Install and run\n./node_exporter --web.listen-address=\":9100\"\n\n# Key metrics\nnode_cpu_seconds_total\nnode_memory_MemTotal_bytes\nnode_memory_MemAvailable_bytes\nnode_filesystem_size_bytes\nnode_network_receive_bytes_total\nnode_load1, node_load5, node_load15\n</code></pre> <p>Prometheus Configuration:</p> <pre><code>scrape_configs:\n  - job_name: 'node'\n    static_configs:\n      - targets: ['localhost:9100']\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#blackbox-exporter","title":"Blackbox Exporter","text":"<p>Probes endpoints over HTTP, HTTPS, DNS, TCP, ICMP.</p> <pre><code># blackbox.yml\nmodules:\n  http_2xx:\n    prober: http\n    timeout: 5s\n    http:\n      valid_http_versions: [\"HTTP/1.1\", \"HTTP/2.0\"]\n      valid_status_codes: [200, 201, 202]\n      method: GET\n\n  tcp_connect:\n    prober: tcp\n    timeout: 5s\n\n  dns_lookup:\n    prober: dns\n    timeout: 5s\n    dns:\n      query_name: \"example.com\"\n</code></pre> <p>Prometheus Configuration:</p> <pre><code>scrape_configs:\n  - job_name: 'blackbox'\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n          - https://example.com\n          - https://api.example.com\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox-exporter:9115\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#other-common-exporters","title":"Other Common Exporters","text":"Exporter Purpose Default Port node_exporter Linux/Unix system metrics 9100 blackbox_exporter Endpoint probing 9115 mysqld_exporter MySQL metrics 9104 postgres_exporter PostgreSQL metrics 9187 redis_exporter Redis metrics 9121 nginx_exporter NGINX metrics 9113 kafka_exporter Kafka metrics 9308 mongodb_exporter MongoDB metrics 9216 elasticsearch_exporter Elasticsearch metrics 9114 cloudwatch_exporter AWS CloudWatch metrics 9106"},{"location":"pca/04-instrumentation-exporters/#writing-custom-exporters","title":"Writing Custom Exporters","text":"<pre><code>from prometheus_client import Gauge, start_http_server\nimport time\nimport random\n\n# Define metrics\ncustom_metric = Gauge(\n    'custom_application_metric',\n    'A custom metric from our application',\n    ['environment', 'service']\n)\n\ndef collect_metrics():\n    \"\"\"Collect metrics from your data source\"\"\"\n    while True:\n        # Simulate collecting data\n        value = random.random() * 100\n        custom_metric.labels(\n            environment='production',\n            service='api'\n        ).set(value)\n        time.sleep(15)\n\nif __name__ == '__main__':\n    start_http_server(8000)\n    collect_metrics()\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#pushgateway","title":"Pushgateway","text":"<p>For short-lived jobs that can't be scraped.</p>"},{"location":"pca/04-instrumentation-exporters/#when-to-use","title":"When to Use","text":"<ul> <li>Batch jobs</li> <li>Cron jobs</li> <li>Short-lived processes</li> <li>Jobs behind firewalls</li> </ul>"},{"location":"pca/04-instrumentation-exporters/#pushing-metrics","title":"Pushing Metrics","text":"<pre><code># Push a single metric\necho \"job_last_success_timestamp $(date +%s)\" | \\\n  curl --data-binary @- http://pushgateway:9091/metrics/job/batch_job\n\n# Push multiple metrics\ncat &lt;&lt;EOF | curl --data-binary @- http://pushgateway:9091/metrics/job/batch_job/instance/host1\n# TYPE job_duration_seconds gauge\njob_duration_seconds 42.5\n# TYPE job_records_processed counter\njob_records_processed 1234\nEOF\n\n# Delete metrics for a job\ncurl -X DELETE http://pushgateway:9091/metrics/job/batch_job\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#python-example","title":"Python Example","text":"<pre><code>from prometheus_client import CollectorRegistry, Gauge, push_to_gateway\n\nregistry = CollectorRegistry()\n\nduration = Gauge(\n    'job_duration_seconds',\n    'Duration of batch job',\n    registry=registry\n)\nduration.set(42.5)\n\nrecords = Gauge(\n    'job_records_processed',\n    'Records processed by batch job',\n    registry=registry\n)\nrecords.set(1234)\n\npush_to_gateway(\n    'pushgateway:9091',\n    job='batch_job',\n    registry=registry\n)\n</code></pre>"},{"location":"pca/04-instrumentation-exporters/#pushgateway-caveats","title":"Pushgateway Caveats","text":"<ul> <li>Metrics persist until deleted</li> <li>No automatic cleanup</li> <li>Single point of failure</li> <li>Not for general metrics collection</li> </ul>"},{"location":"pca/04-instrumentation-exporters/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the four golden signals of monitoring?</li> <li>Name three official Prometheus client libraries.</li> <li>What is the difference between the RED and USE methods?</li> <li>When should you use the Pushgateway?</li> <li>What metrics does the Node Exporter provide?</li> <li>How do you configure the Blackbox Exporter to probe HTTP endpoints?</li> <li>What are the naming conventions for Prometheus metrics?</li> <li>Why should you avoid high-cardinality labels?</li> </ol>"},{"location":"pca/04-instrumentation-exporters/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to PromQL</li> <li>Next: Alerting &amp; Dashboarding \u2192</li> </ul>"},{"location":"pca/05-alerting-dashboarding/","title":"Alerting &amp; Dashboarding (18%)","text":""},{"location":"pca/05-alerting-dashboarding/#overview","title":"Overview","text":"<p>This domain covers configuring alerting rules, understanding Alertmanager, and dashboarding basics with Grafana.</p>"},{"location":"pca/05-alerting-dashboarding/#alerting-rules","title":"Alerting Rules","text":""},{"location":"pca/05-alerting-dashboarding/#rule-configuration","title":"Rule Configuration","text":"<p>Alert rules are defined in YAML files and loaded by Prometheus.</p> <pre><code># alerts.yml\ngroups:\n  - name: example-alerts\n    rules:\n      - alert: HighErrorRate\n        expr: rate(http_requests_total{status=~\"5..\"}[5m]) / rate(http_requests_total[5m]) &gt; 0.05\n        for: 5m\n        labels:\n          severity: critical\n          team: backend\n        annotations:\n          summary: \"High error rate detected\"\n          description: \"Error rate is {{ $value | humanizePercentage }} for {{ $labels.instance }}\"\n\n      - alert: InstanceDown\n        expr: up == 0\n        for: 1m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Instance {{ $labels.instance }} is down\"\n          description: \"{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 1 minute.\"\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#rule-components","title":"Rule Components","text":"Component Description <code>alert</code> Name of the alert <code>expr</code> PromQL expression that triggers the alert <code>for</code> Duration the condition must be true before firing <code>labels</code> Additional labels to attach to the alert <code>annotations</code> Informational labels (summary, description, runbook)"},{"location":"pca/05-alerting-dashboarding/#alert-states","title":"Alert States","text":"<ol> <li>Inactive: Condition is not met</li> <li>Pending: Condition is met but <code>for</code> duration hasn't elapsed</li> <li>Firing: Condition met for the <code>for</code> duration</li> </ol> <pre><code>Inactive \u2192 Pending \u2192 Firing\n              \u2193\n           Inactive (if condition becomes false)\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#recording-rules","title":"Recording Rules","text":"<p>Pre-compute frequently used or expensive expressions.</p> <pre><code>groups:\n  - name: recording-rules\n    rules:\n      - record: job:http_requests_total:rate5m\n        expr: sum by (job) (rate(http_requests_total[5m]))\n\n      - record: instance:node_cpu_utilization:ratio\n        expr: 1 - avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m]))\n\n      - record: job:http_request_duration_seconds:p95\n        expr: histogram_quantile(0.95, sum by (job, le) (rate(http_request_duration_seconds_bucket[5m])))\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#prometheus-configuration","title":"Prometheus Configuration","text":"<pre><code># prometheus.yml\nrule_files:\n  - \"rules/*.yml\"\n  - \"alerts/*.yml\"\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n            - alertmanager:9093\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#alertmanager","title":"Alertmanager","text":""},{"location":"pca/05-alerting-dashboarding/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Prometheus \u2502\u2500\u2500\u2500\u2500\u25b6\u2502            Alertmanager                  \u2502\n\u2502   (alerts)  \u2502     \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502  \u2502 Routing \u2502\u2500\u25b6\u2502 Grouping \u2502\u2500\u25b6\u2502 Notify \u2502 \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                      \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502                                 \u2502         \u2502\n                    \u25bc                                 \u25bc         \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Email   \u2502                    \u2502  Slack   \u2502 \u2502PagerDuty\u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#configuration-structure","title":"Configuration Structure","text":"<pre><code># alertmanager.yml\nglobal:\n  resolve_timeout: 5m\n  smtp_smarthost: 'smtp.example.com:587'\n  smtp_from: 'alertmanager@example.com'\n\nroute:\n  receiver: 'default-receiver'\n  group_by: ['alertname', 'cluster']\n  group_wait: 30s\n  group_interval: 5m\n  repeat_interval: 4h\n  routes:\n    - match:\n        severity: critical\n      receiver: 'pagerduty-critical'\n    - match:\n        severity: warning\n      receiver: 'slack-warnings'\n\nreceivers:\n  - name: 'default-receiver'\n    email_configs:\n      - to: 'team@example.com'\n\n  - name: 'pagerduty-critical'\n    pagerduty_configs:\n      - service_key: '&lt;pagerduty-service-key&gt;'\n\n  - name: 'slack-warnings'\n    slack_configs:\n      - api_url: 'https://hooks.slack.com/services/xxx/yyy/zzz'\n        channel: '#alerts'\n\ninhibit_rules:\n  - source_match:\n      severity: 'critical'\n    target_match:\n      severity: 'warning'\n    equal: ['alertname', 'cluster']\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#routing","title":"Routing","text":"<p>Routes determine which receiver handles an alert.</p> <pre><code>route:\n  receiver: 'default'\n  routes:\n    # Critical alerts go to PagerDuty\n    - match:\n        severity: critical\n      receiver: 'pagerduty'\n      continue: false\n\n    # Database alerts go to DBA team\n    - match_re:\n        alertname: ^(MySQL|Postgres).*\n      receiver: 'dba-team'\n\n    # Multiple matchers (AND logic)\n    - match:\n        team: backend\n        severity: warning\n      receiver: 'backend-slack'\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#grouping","title":"Grouping","text":"<p>Groups related alerts together to reduce notification noise.</p> <pre><code>route:\n  group_by: ['alertname', 'cluster', 'service']\n  group_wait: 30s      # Wait before sending first notification\n  group_interval: 5m   # Wait before sending updates to group\n  repeat_interval: 4h  # Wait before re-sending same alert\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#silences","title":"Silences","text":"<p>Temporarily mute alerts.</p> <pre><code># Create silence via API\ncurl -X POST http://alertmanager:9093/api/v2/silences \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"matchers\": [\n      {\"name\": \"alertname\", \"value\": \"HighMemoryUsage\", \"isRegex\": false},\n      {\"name\": \"instance\", \"value\": \"server1\", \"isRegex\": false}\n    ],\n    \"startsAt\": \"2024-01-01T00:00:00Z\",\n    \"endsAt\": \"2024-01-01T06:00:00Z\",\n    \"createdBy\": \"admin\",\n    \"comment\": \"Maintenance window\"\n  }'\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#inhibition","title":"Inhibition","text":"<p>Suppress alerts when related alerts are firing.</p> <pre><code>inhibit_rules:\n  # If critical alert fires, suppress warning for same alertname\n  - source_match:\n      severity: 'critical'\n    target_match:\n      severity: 'warning'\n    equal: ['alertname', 'instance']\n\n  # If cluster is down, suppress all other cluster alerts\n  - source_match:\n      alertname: 'ClusterDown'\n    target_match_re:\n      alertname: '.+'\n    equal: ['cluster']\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#receivers","title":"Receivers","text":""},{"location":"pca/05-alerting-dashboarding/#email","title":"Email","text":"<pre><code>receivers:\n  - name: 'email-team'\n    email_configs:\n      - to: 'team@example.com'\n        from: 'alertmanager@example.com'\n        smarthost: 'smtp.example.com:587'\n        auth_username: 'alertmanager'\n        auth_password: 'password'\n        require_tls: true\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#slack","title":"Slack","text":"<pre><code>receivers:\n  - name: 'slack-notifications'\n    slack_configs:\n      - api_url: 'https://hooks.slack.com/services/xxx/yyy/zzz'\n        channel: '#alerts'\n        username: 'Alertmanager'\n        icon_emoji: ':warning:'\n        title: '{{ .Status | toUpper }}: {{ .CommonAnnotations.summary }}'\n        text: '{{ range .Alerts }}{{ .Annotations.description }}{{ end }}'\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#pagerduty","title":"PagerDuty","text":"<pre><code>receivers:\n  - name: 'pagerduty'\n    pagerduty_configs:\n      - service_key: '&lt;integration-key&gt;'\n        severity: '{{ if eq .Status \"firing\" }}critical{{ else }}info{{ end }}'\n        description: '{{ .CommonAnnotations.summary }}'\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#webhook","title":"Webhook","text":"<pre><code>receivers:\n  - name: 'webhook'\n    webhook_configs:\n      - url: 'http://webhook-handler:8080/alerts'\n        send_resolved: true\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#dashboarding-with-grafana","title":"Dashboarding with Grafana","text":""},{"location":"pca/05-alerting-dashboarding/#data-source-configuration","title":"Data Source Configuration","text":"<pre><code># Grafana datasource provisioning\napiVersion: 1\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    access: proxy\n    url: http://prometheus:9090\n    isDefault: true\n    editable: false\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#panel-types","title":"Panel Types","text":"Panel Type Use Case Time Series Metrics over time Stat Single value display Gauge Value with thresholds Bar Gauge Horizontal/vertical bars Table Tabular data Heatmap Distribution over time Logs Log data display"},{"location":"pca/05-alerting-dashboarding/#common-dashboard-patterns","title":"Common Dashboard Patterns","text":""},{"location":"pca/05-alerting-dashboarding/#request-rate-panel","title":"Request Rate Panel","text":"<pre><code>sum(rate(http_requests_total[5m])) by (service)\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#error-rate-panel","title":"Error Rate Panel","text":"<pre><code>sum(rate(http_requests_total{status=~\"5..\"}[5m])) by (service) \n/ \nsum(rate(http_requests_total[5m])) by (service) * 100\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#latency-percentiles-panel","title":"Latency Percentiles Panel","text":"<pre><code>histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))\nhistogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))\nhistogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#resource-utilization-panel","title":"Resource Utilization Panel","text":"<pre><code># CPU Usage\n100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)\n\n# Memory Usage\n(1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100\n\n# Disk Usage\n(1 - node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#variables-template-variables","title":"Variables (Template Variables)","text":"<pre><code># Query variable for instances\nName: instance\nType: Query\nQuery: label_values(up, instance)\n\n# Custom variable for time ranges\nName: interval\nType: Custom\nValues: 1m,5m,15m,1h\n\n# Using variables in queries\nrate(http_requests_total{instance=\"$instance\"}[$interval])\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#dashboard-best-practices","title":"Dashboard Best Practices","text":"<ol> <li>Use consistent naming: Follow a naming convention</li> <li>Add descriptions: Document what each panel shows</li> <li>Set appropriate time ranges: Match to your SLOs</li> <li>Use variables: Make dashboards reusable</li> <li>Group related panels: Use rows to organize</li> <li>Set thresholds: Visual indicators for good/bad states</li> <li>Include links: Link to runbooks and related dashboards</li> </ol>"},{"location":"pca/05-alerting-dashboarding/#alerting-best-practices","title":"Alerting Best Practices","text":""},{"location":"pca/05-alerting-dashboarding/#when-to-alert","title":"When to Alert","text":"<p>Alert on symptoms, not causes:</p> <pre><code># Good: Alert on user-facing impact\n- alert: HighErrorRate\n  expr: rate(http_errors_total[5m]) / rate(http_requests_total[5m]) &gt; 0.01\n\n# Avoid: Alerting on every possible cause\n- alert: HighCPU\n  expr: cpu_usage &gt; 80  # May not indicate a problem\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#alert-fatigue-prevention","title":"Alert Fatigue Prevention","text":"<ol> <li>Set appropriate thresholds: Not too sensitive</li> <li>Use <code>for</code> duration: Avoid flapping alerts</li> <li>Group related alerts: Reduce notification volume</li> <li>Use inhibition: Suppress redundant alerts</li> <li>Regular review: Remove or tune noisy alerts</li> </ol>"},{"location":"pca/05-alerting-dashboarding/#alert-annotations","title":"Alert Annotations","text":"<pre><code>annotations:\n  summary: \"Brief description of the alert\"\n  description: \"Detailed information with {{ $labels.instance }} and {{ $value }}\"\n  runbook_url: \"https://wiki.example.com/runbooks/high-error-rate\"\n  dashboard_url: \"https://grafana.example.com/d/abc123\"\n</code></pre>"},{"location":"pca/05-alerting-dashboarding/#practice-questions","title":"Practice Questions","text":"<ol> <li>What are the three states of an alert in Prometheus?</li> <li>What is the purpose of the <code>for</code> clause in an alert rule?</li> <li>How does Alertmanager group alerts?</li> <li>What is the difference between silences and inhibition?</li> <li>Name three notification channels supported by Alertmanager.</li> <li>What is a recording rule and when should you use one?</li> <li>How do you configure routing in Alertmanager?</li> <li>What are template variables in Grafana used for?</li> </ol>"},{"location":"pca/05-alerting-dashboarding/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Instrumentation and Exporters</li> <li>Next: Sample Practice Questions \u2192</li> </ul>"},{"location":"pca/sample-questions/","title":"PCA Sample Practice Questions","text":""},{"location":"pca/sample-questions/#practice-resources","title":"Practice Resources","text":"<ul> <li>Prometheus Documentation</li> <li>PromLabs Training</li> <li>Prometheus Playground</li> </ul>"},{"location":"pca/sample-questions/#domain-1-observability-concepts-18","title":"Domain 1: Observability Concepts (18%)","text":""},{"location":"pca/sample-questions/#question-1","title":"Question 1","text":"<p>What are the three pillars of observability?</p> Show Answer  **Answer:** Metrics, Logs, and Traces  - **Metrics**: Numerical values that measure aspects of a system over time - **Logs**: Immutable records of discrete events - **Traces**: Records of request paths through distributed systems"},{"location":"pca/sample-questions/#question-2","title":"Question 2","text":"<p>What is the difference between an SLA, SLO, and SLI?</p> Show Answer  - **SLA (Service Level Agreement)**: A formal agreement with customers defining expected service levels - **SLO (Service Level Objective)**: Internal targets that teams aim to achieve - **SLI (Service Level Indicator)**: The actual metrics used to measure service performance  Example: SLA promises 99.9% uptime, SLO targets 99.95%, SLI measures actual availability."},{"location":"pca/sample-questions/#question-3","title":"Question 3","text":"<p>When should you use the Push model (Pushgateway) instead of the Pull model?</p> Show Answer  Use Pushgateway for: - Short-lived batch jobs - Cron jobs that complete before scraping - Jobs behind firewalls that can't be scraped - Legacy systems that can't expose endpoints  **Important**: Pushgateway should NOT be used as a general metrics aggregator."},{"location":"pca/sample-questions/#question-4","title":"Question 4","text":"<p>What is a span in the context of distributed tracing?</p> Show Answer  A **span** represents a single operation within a trace. It provides: - Start and end timestamps - Operation name - Tags/labels - Logs/events - Parent span reference  Multiple spans together form a complete trace showing the request flow through a system."},{"location":"pca/sample-questions/#domain-2-prometheus-fundamentals-20","title":"Domain 2: Prometheus Fundamentals (20%)","text":""},{"location":"pca/sample-questions/#question-5","title":"Question 5","text":"<p>What are the four metric types in Prometheus?</p> Show Answer  1. **Counter**: Cumulative metric that only increases (resets on restart) 2. **Gauge**: Metric that can go up or down 3. **Histogram**: Samples observations into configurable buckets 4. **Summary**: Similar to histogram but calculates quantiles client-side"},{"location":"pca/sample-questions/#question-6","title":"Question 6","text":"<p>What is the purpose of relabeling in Prometheus?</p> Show Answer  Relabeling allows you to: - Modify labels before scraping (`relabel_configs`) - Filter which targets to scrape - Modify labels before storing (`metric_relabel_configs`) - Drop unwanted metrics - Rename labels - Extract values from labels using regex"},{"location":"pca/sample-questions/#question-7","title":"Question 7","text":"<p>Why should you avoid high-cardinality labels?</p> Show Answer  High-cardinality labels (like user IDs or request IDs) create problems because: - Each unique label combination creates a new time series - Increases memory usage significantly - Slows down queries - Can cause Prometheus to run out of memory  **Best practice**: Use labels with bounded, low-cardinality values."},{"location":"pca/sample-questions/#question-8","title":"Question 8","text":"<p>What is the difference between <code>scrape_interval</code> and <code>evaluation_interval</code>?</p> Show Answer  - **scrape_interval**: How often Prometheus scrapes targets for metrics (default: 1m) - **evaluation_interval**: How often Prometheus evaluates recording and alerting rules (default: 1m)  These can be set globally and overridden per scrape job."},{"location":"pca/sample-questions/#domain-3-promql-28","title":"Domain 3: PromQL (28%)","text":""},{"location":"pca/sample-questions/#question-9","title":"Question 9","text":"<p>What is the difference between <code>rate()</code> and <code>irate()</code>?</p> Show Answer  - **rate()**: Calculates per-second average rate over the entire range   - More stable, better for alerting   - Uses all data points in the range  - **irate()**: Calculates instant rate using only the last two data points   - More responsive to changes   - Better for volatile metrics in graphs   - Can miss spikes between scrapes"},{"location":"pca/sample-questions/#question-10","title":"Question 10","text":"<p>Write a PromQL query to calculate the 95th percentile latency from a histogram.</p> Show Answer <pre><code>histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n</code></pre>  Or with aggregation by service: <pre><code>histogram_quantile(0.95, sum by (service, le) (rate(http_request_duration_seconds_bucket[5m])))\n</code></pre>"},{"location":"pca/sample-questions/#question-11","title":"Question 11","text":"<p>How do you calculate error rate as a percentage?</p> Show Answer <pre><code>sum(rate(http_requests_total{status=~\"5..\"}[5m])) \n/ \nsum(rate(http_requests_total[5m])) \n* 100\n</code></pre>  This divides error requests by total requests and multiplies by 100 for percentage."},{"location":"pca/sample-questions/#question-12","title":"Question 12","text":"<p>What does the <code>absent()</code> function do?</p> Show Answer  `absent()` returns 1 if the vector has no elements, otherwise returns nothing.  Use cases: - Alert when a metric is missing - Detect when a service stops reporting  <pre><code># Alert if no data from job\nabsent(up{job=\"myservice\"})\n</code></pre>"},{"location":"pca/sample-questions/#question-13","title":"Question 13","text":"<p>How do you compare current values to values from 1 hour ago?</p> Show Answer  Use the `offset` modifier:  <pre><code># Difference from 1 hour ago\nhttp_requests_total - http_requests_total offset 1h\n\n# Percentage change\n(http_requests_total - http_requests_total offset 1h) / http_requests_total offset 1h * 100\n</code></pre>"},{"location":"pca/sample-questions/#question-14","title":"Question 14","text":"<p>What is the difference between <code>sum by</code> and <code>sum without</code>?</p> Show Answer  - **sum by (label)**: Aggregates and keeps only the specified labels - **sum without (label)**: Aggregates and removes the specified labels, keeping all others  <pre><code># Keep only 'method' label\nsum by (method) (rate(http_requests_total[5m]))\n\n# Remove 'instance' label, keep everything else\nsum without (instance) (rate(http_requests_total[5m]))\n</code></pre>"},{"location":"pca/sample-questions/#domain-4-instrumentation-and-exporters-16","title":"Domain 4: Instrumentation and Exporters (16%)","text":""},{"location":"pca/sample-questions/#question-15","title":"Question 15","text":"<p>What are the Four Golden Signals of monitoring?</p> Show Answer  From Google SRE: 1. **Latency**: Time to service a request 2. **Traffic**: Demand on your system (requests/second) 3. **Errors**: Rate of failed requests 4. **Saturation**: How \"full\" your service is"},{"location":"pca/sample-questions/#question-16","title":"Question 16","text":"<p>What metrics does the Node Exporter provide?</p> Show Answer  Node Exporter provides hardware and OS metrics: - CPU usage (`node_cpu_seconds_total`) - Memory (`node_memory_*`) - Disk (`node_filesystem_*`, `node_disk_*`) - Network (`node_network_*`) - Load average (`node_load1`, `node_load5`, `node_load15`) - System info"},{"location":"pca/sample-questions/#question-17","title":"Question 17","text":"<p>What is the correct naming convention for Prometheus metrics?</p> Show Answer  Format: `___`  Rules: - Use snake_case - Include unit in name (seconds, bytes) - Use base units (seconds not milliseconds) - Use `_total` suffix for counters - Use `_info` suffix for info metrics  Examples: - `http_requests_total` - `http_request_duration_seconds` - `node_memory_bytes_total`"},{"location":"pca/sample-questions/#question-18","title":"Question 18","text":"<p>When should you use the Blackbox Exporter?</p> Show Answer  Use Blackbox Exporter for: - HTTP/HTTPS endpoint probing - TCP port checks - DNS lookups - ICMP ping checks - SSL certificate expiry monitoring  It's useful for monitoring external services or endpoints where you can't install an exporter."},{"location":"pca/sample-questions/#domain-5-alerting-dashboarding-18","title":"Domain 5: Alerting &amp; Dashboarding (18%)","text":""},{"location":"pca/sample-questions/#question-19","title":"Question 19","text":"<p>What are the three states of an alert in Prometheus?</p> Show Answer  1. **Inactive**: The alert condition is not met 2. **Pending**: Condition is met but `for` duration hasn't elapsed 3. **Firing**: Condition has been true for the `for` duration"},{"location":"pca/sample-questions/#question-20","title":"Question 20","text":"<p>What is the purpose of the <code>for</code> clause in an alert rule?</p> Show Answer  The `for` clause specifies how long the condition must be true before the alert fires.  Benefits: - Prevents flapping alerts - Reduces false positives from brief spikes - Ensures the issue is persistent  <pre><code>- alert: HighErrorRate\n  expr: error_rate &gt; 0.05\n  for: 5m  # Must be true for 5 minutes\n</code></pre>"},{"location":"pca/sample-questions/#question-21","title":"Question 21","text":"<p>What is the difference between silences and inhibition in Alertmanager?</p> Show Answer  **Silences**: - Manually created to mute specific alerts - Time-bounded (start and end time) - Used for maintenance windows - Created via UI or API  **Inhibition**: - Automatic suppression based on rules - Suppresses alerts when related alerts are firing - Configured in alertmanager.yml - Example: Suppress warnings when critical is firing"},{"location":"pca/sample-questions/#question-22","title":"Question 22","text":"<p>What is a recording rule and when should you use one?</p> Show Answer  Recording rules pre-compute frequently used or expensive PromQL expressions.  Use when: - Query is computationally expensive - Query is used in multiple dashboards/alerts - You need to aggregate across federation - Query performance is critical  <pre><code>- record: job:http_requests:rate5m\n  expr: sum by (job) (rate(http_requests_total[5m]))\n</code></pre>"},{"location":"pca/sample-questions/#question-23","title":"Question 23","text":"<p>How does Alertmanager group alerts?</p> Show Answer  Alertmanager groups alerts based on: - `group_by` labels in the route configuration - Alerts with matching group labels are batched together  Configuration: <pre><code>route:\n  group_by: ['alertname', 'cluster']\n  group_wait: 30s      # Wait before first notification\n  group_interval: 5m   # Wait between group updates\n  repeat_interval: 4h  # Wait before re-sending\n</code></pre>"},{"location":"pca/sample-questions/#question-24","title":"Question 24","text":"<p>What notification channels does Alertmanager support?</p> Show Answer  Built-in receivers: - Email (SMTP) - Slack - PagerDuty - OpsGenie - VictorOps - Webhook (for custom integrations) - Pushover - WeChat - Telegram  Custom integrations can be built using the webhook receiver."},{"location":"pca/sample-questions/#bonus-questions","title":"Bonus Questions","text":""},{"location":"pca/sample-questions/#question-25","title":"Question 25","text":"<p>What is meta-monitoring?</p> Show Answer  Meta-monitoring is monitoring the monitoring system itself (Prometheus monitoring Prometheus).  Important metrics to monitor: - `prometheus_tsdb_head_series` - Number of time series - `prometheus_engine_query_duration_seconds` - Query performance - `prometheus_target_scrape_pool_sync_total` - Scrape health - `up{job=\"prometheus\"}` - Prometheus availability"},{"location":"pca/sample-questions/#question-26","title":"Question 26","text":"<p>How can you scale Prometheus for high availability?</p> Show Answer  Options for scaling: 1. **Multiple instances**: Run identical Prometheus servers 2. **Federation**: Hierarchical Prometheus setup 3. **Remote storage**: Thanos, Cortex, Mimir for long-term storage 4. **Sharding**: Split targets across multiple Prometheus instances  Note: Prometheus itself doesn't support clustering natively."},{"location":"pca/sample-questions/#navigation","title":"Navigation","text":"<ul> <li>\u2190 Back to Alerting &amp; Dashboarding</li> <li>Back to Overview</li> </ul>"},{"location":"troubleshooting/cluster-troubleshooting/","title":"Cluster Troubleshooting Scenarios","text":"<p>Real-world troubleshooting scenarios for CKA/CKS exam preparation.</p>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-1-node-notready","title":"Scenario 1: Node NotReady","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem","title":"Problem","text":"<pre><code>$ kubectl get nodes\nNAME      STATUS     ROLES           AGE   VERSION\nmaster    Ready      control-plane   10d   v1.28.0\nworker1   NotReady   &lt;none&gt;          10d   v1.28.0\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps","title":"Diagnosis Steps","text":"<pre><code># 1. Check node conditions\nkubectl describe node worker1 | grep -A5 Conditions\n\n# 2. SSH to node and check kubelet\nssh worker1\nsudo systemctl status kubelet\nsudo journalctl -u kubelet -f\n\n# 3. Check container runtime\nsudo systemctl status containerd\nsudo crictl ps\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#common-causes-solutions","title":"Common Causes &amp; Solutions","text":"Kubelet not running <pre><code>sudo systemctl start kubelet\nsudo systemctl enable kubelet\n</code></pre> Container runtime issue <pre><code>sudo systemctl restart containerd\nsudo systemctl status containerd\n</code></pre> Network plugin issue <pre><code># Check CNI pods\nkubectl get pods -n kube-system | grep -E \"calico|flannel|weave\"\n\n# Reinstall CNI if needed\nkubectl apply -f &lt;cni-manifest.yaml&gt;\n</code></pre> Disk pressure <pre><code># Check disk usage\ndf -h\n\n# Clean up unused images\nsudo crictl rmi --prune\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-2-pod-stuck-in-pending","title":"Scenario 2: Pod Stuck in Pending","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem_1","title":"Problem","text":"<pre><code>$ kubectl get pods\nNAME    READY   STATUS    RESTARTS   AGE\nnginx   0/1     Pending   0          5m\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps_1","title":"Diagnosis Steps","text":"<pre><code># 1. Check pod events\nkubectl describe pod nginx\n\n# 2. Check node resources\nkubectl describe nodes | grep -A5 \"Allocated resources\"\n\n# 3. Check scheduler\nkubectl get pods -n kube-system | grep scheduler\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#common-causes-solutions_1","title":"Common Causes &amp; Solutions","text":"Insufficient resources <pre><code># Check resource requests vs available\nkubectl describe nodes | grep -A10 \"Allocated resources\"\n\n# Solution: Scale down other pods or add nodes\nkubectl scale deployment other-app --replicas=1\n</code></pre> No matching node (nodeSelector/affinity) <pre><code># Check pod spec\nkubectl get pod nginx -o yaml | grep -A5 nodeSelector\n\n# Add label to node\nkubectl label node worker1 disktype=ssd\n</code></pre> Taints preventing scheduling <pre><code># Check node taints\nkubectl describe node worker1 | grep Taints\n\n# Add toleration to pod or remove taint\nkubectl taint nodes worker1 key:NoSchedule-\n</code></pre> PVC not bound <pre><code># Check PVC status\nkubectl get pvc\n\n# Check PV availability\nkubectl get pv\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-3-pod-crashloopbackoff","title":"Scenario 3: Pod CrashLoopBackOff","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem_2","title":"Problem","text":"<pre><code>$ kubectl get pods\nNAME    READY   STATUS             RESTARTS   AGE\napp     0/1     CrashLoopBackOff   5          10m\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps_2","title":"Diagnosis Steps","text":"<pre><code># 1. Check pod logs\nkubectl logs app\nkubectl logs app --previous\n\n# 2. Check pod events\nkubectl describe pod app\n\n# 3. Check container exit code\nkubectl get pod app -o jsonpath='{.status.containerStatuses[0].lastState.terminated.exitCode}'\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#common-causes-solutions_2","title":"Common Causes &amp; Solutions","text":"Application error <pre><code># Check logs for errors\nkubectl logs app --previous\n\n# Fix application code or configuration\n</code></pre> Missing ConfigMap/Secret <pre><code># Check if referenced ConfigMap exists\nkubectl get configmap myconfig\n\n# Create missing ConfigMap\nkubectl create configmap myconfig --from-literal=key=value\n</code></pre> Liveness probe failing <pre><code># Check probe configuration\nkubectl get pod app -o yaml | grep -A10 livenessProbe\n\n# Adjust probe settings or fix application health endpoint\n</code></pre> Resource limits too low <pre><code># Check OOMKilled\nkubectl describe pod app | grep OOMKilled\n\n# Increase memory limits\nkubectl set resources deployment app --limits=memory=512Mi\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-4-service-not-accessible","title":"Scenario 4: Service Not Accessible","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem_3","title":"Problem","text":"<pre><code>$ kubectl exec test-pod -- curl http://my-service:80\ncurl: (7) Failed to connect\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps_3","title":"Diagnosis Steps","text":"<pre><code># 1. Check service exists\nkubectl get svc my-service\n\n# 2. Check endpoints\nkubectl get endpoints my-service\n\n# 3. Check pod labels match service selector\nkubectl get pods --show-labels\nkubectl get svc my-service -o yaml | grep -A5 selector\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#common-causes-solutions_3","title":"Common Causes &amp; Solutions","text":"No endpoints (selector mismatch) <pre><code># Check service selector\nkubectl get svc my-service -o jsonpath='{.spec.selector}'\n\n# Check pod labels\nkubectl get pods --show-labels\n\n# Fix labels\nkubectl label pod my-pod app=myapp\n</code></pre> Pod not ready <pre><code># Check pod readiness\nkubectl get pods\n\n# Check readiness probe\nkubectl describe pod my-pod | grep -A5 Readiness\n</code></pre> NetworkPolicy blocking traffic <pre><code># Check network policies\nkubectl get networkpolicy\n\n# Check if policy allows traffic\nkubectl describe networkpolicy\n</code></pre> Wrong port configuration <pre><code># Check service port vs target port\nkubectl get svc my-service -o yaml\n\n# Check container port\nkubectl get pod my-pod -o yaml | grep containerPort\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-5-api-server-not-responding","title":"Scenario 5: API Server Not Responding","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem_4","title":"Problem","text":"<pre><code>$ kubectl get nodes\nThe connection to the server was refused\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps_4","title":"Diagnosis Steps","text":"<pre><code># 1. Check API server pod (on control plane)\nsudo crictl ps | grep kube-apiserver\n\n# 2. Check API server logs\nsudo crictl logs &lt;apiserver-container-id&gt;\n\n# 3. Check manifest\nsudo cat /etc/kubernetes/manifests/kube-apiserver.yaml\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#common-causes-solutions_4","title":"Common Causes &amp; Solutions","text":"API server not running <pre><code># Check static pod manifest\nsudo ls /etc/kubernetes/manifests/\n\n# Check for syntax errors\nsudo cat /etc/kubernetes/manifests/kube-apiserver.yaml | head -50\n\n# Check kubelet logs\nsudo journalctl -u kubelet | grep apiserver\n</code></pre> Certificate issues <pre><code># Check certificate expiry\nsudo openssl x509 -in /etc/kubernetes/pki/apiserver.crt -noout -dates\n\n# Renew certificates\nsudo kubeadm certs renew all\n</code></pre> etcd not accessible <pre><code># Check etcd pod\nsudo crictl ps | grep etcd\n\n# Check etcd health\nETCDCTL_API=3 etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#scenario-6-etcd-issues","title":"Scenario 6: etcd Issues","text":""},{"location":"troubleshooting/cluster-troubleshooting/#problem_5","title":"Problem","text":"<p>etcd cluster unhealthy or data corruption</p>"},{"location":"troubleshooting/cluster-troubleshooting/#diagnosis-steps_5","title":"Diagnosis Steps","text":"<pre><code># 1. Check etcd pod\nkubectl get pods -n kube-system | grep etcd\n\n# 2. Check etcd health\nETCDCTL_API=3 etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# 3. Check etcd logs\nsudo crictl logs &lt;etcd-container-id&gt;\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#solutions","title":"Solutions","text":"Restore from backup <pre><code># Stop API server\nsudo mv /etc/kubernetes/manifests/kube-apiserver.yaml /tmp/\n\n# Restore etcd\nETCDCTL_API=3 etcdctl snapshot restore /backup/etcd-snapshot.db \\\n  --data-dir=/var/lib/etcd-restored\n\n# Update etcd manifest to use new data-dir\nsudo sed -i 's|/var/lib/etcd|/var/lib/etcd-restored|g' \\\n  /etc/kubernetes/manifests/etcd.yaml\n\n# Restore API server\nsudo mv /tmp/kube-apiserver.yaml /etc/kubernetes/manifests/\n</code></pre>"},{"location":"troubleshooting/cluster-troubleshooting/#quick-troubleshooting-commands","title":"Quick Troubleshooting Commands","text":"<pre><code># Overall cluster health\nkubectl get componentstatuses\nkubectl get nodes\nkubectl get pods -A\n\n# Events sorted by time\nkubectl get events --sort-by='.lastTimestamp' -A\n\n# Resource usage\nkubectl top nodes\nkubectl top pods -A\n\n# Logs\nkubectl logs &lt;pod&gt; -f\nkubectl logs &lt;pod&gt; --previous\nkubectl logs &lt;pod&gt; -c &lt;container&gt;\n\n# Debug pod\nkubectl run debug --image=busybox --rm -it --restart=Never -- sh\n\n# Check DNS\nkubectl run dns-test --image=busybox --rm -it --restart=Never -- nslookup kubernetes\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"troubleshooting/networking-troubleshooting/","title":"Networking Troubleshooting Scenarios","text":"<p>Real-world networking troubleshooting scenarios for CKA/CKS exam preparation.</p>"},{"location":"troubleshooting/networking-troubleshooting/#scenario-1-dns-resolution-failing","title":"Scenario 1: DNS Resolution Failing","text":""},{"location":"troubleshooting/networking-troubleshooting/#problem","title":"Problem","text":"<pre><code>$ kubectl exec test-pod -- nslookup kubernetes\n;; connection timed out; no servers could be reached\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#diagnosis-steps","title":"Diagnosis Steps","text":"<pre><code># 1. Check CoreDNS pods\nkubectl get pods -n kube-system -l k8s-app=kube-dns\n\n# 2. Check CoreDNS logs\nkubectl logs -n kube-system -l k8s-app=kube-dns\n\n# 3. Check CoreDNS service\nkubectl get svc -n kube-system kube-dns\n\n# 4. Check endpoints\nkubectl get endpoints -n kube-system kube-dns\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#solutions","title":"Solutions","text":"CoreDNS pods not running <pre><code># Check pod status\nkubectl get pods -n kube-system -l k8s-app=kube-dns\n\n# Restart CoreDNS\nkubectl rollout restart deployment coredns -n kube-system\n</code></pre> CoreDNS ConfigMap issue <pre><code># Check ConfigMap\nkubectl get configmap coredns -n kube-system -o yaml\n\n# Fix configuration errors\nkubectl edit configmap coredns -n kube-system\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#scenario-2-pod-cannot-reach-external-network","title":"Scenario 2: Pod Cannot Reach External Network","text":""},{"location":"troubleshooting/networking-troubleshooting/#problem_1","title":"Problem","text":"<pre><code>$ kubectl exec test-pod -- curl https://google.com\ncurl: (6) Could not resolve host: google.com\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#diagnosis-steps_1","title":"Diagnosis Steps","text":"<pre><code># 1. Check pod DNS config\nkubectl exec test-pod -- cat /etc/resolv.conf\n\n# 2. Check if pod can reach DNS\nkubectl exec test-pod -- nslookup google.com\n\n# 3. Check network policies\nkubectl get networkpolicy -A\n\n# 4. Check node networking\nkubectl get nodes -o wide\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#solutions_1","title":"Solutions","text":"NetworkPolicy blocking egress <pre><code># Allow egress to external\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-external\nspec:\n  podSelector:\n    matchLabels:\n      app: test\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - ipBlock:\n        cidr: 0.0.0.0/0\n        except:\n        - 10.0.0.0/8\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#scenario-3-service-clusterip-not-working","title":"Scenario 3: Service ClusterIP Not Working","text":""},{"location":"troubleshooting/networking-troubleshooting/#problem_2","title":"Problem","text":"<pre><code>$ kubectl exec test-pod -- curl http://my-service:80\ncurl: (7) Failed to connect to my-service port 80\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#diagnosis-steps_2","title":"Diagnosis Steps","text":"<pre><code># 1. Check service\nkubectl get svc my-service -o wide\n\n# 2. Check endpoints\nkubectl get endpoints my-service\n\n# 3. Check kube-proxy\nkubectl get pods -n kube-system -l k8s-app=kube-proxy\n\n# 4. Check iptables rules\nsudo iptables -t nat -L KUBE-SERVICES | grep my-service\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#solutions_2","title":"Solutions","text":"No endpoints <pre><code># Check selector matches pod labels\nkubectl get svc my-service -o jsonpath='{.spec.selector}'\nkubectl get pods --show-labels\n\n# Fix pod labels\nkubectl label pod my-pod app=myapp --overwrite\n</code></pre> kube-proxy not running <pre><code># Check kube-proxy pods\nkubectl get pods -n kube-system -l k8s-app=kube-proxy\n\n# Restart kube-proxy\nkubectl rollout restart daemonset kube-proxy -n kube-system\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#scenario-4-ingress-not-routing-traffic","title":"Scenario 4: Ingress Not Routing Traffic","text":""},{"location":"troubleshooting/networking-troubleshooting/#problem_3","title":"Problem","text":"<pre><code>$ curl http://myapp.example.com\n502 Bad Gateway\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#diagnosis-steps_3","title":"Diagnosis Steps","text":"<pre><code># 1. Check Ingress resource\nkubectl get ingress myapp-ingress -o yaml\n\n# 2. Check Ingress controller pods\nkubectl get pods -n ingress-nginx\n\n# 3. Check Ingress controller logs\nkubectl logs -n ingress-nginx -l app.kubernetes.io/name=ingress-nginx\n\n# 4. Check backend service\nkubectl get svc myapp-service\nkubectl get endpoints myapp-service\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#solutions_3","title":"Solutions","text":"Backend service not found <pre><code># Verify service name in Ingress matches actual service\nkubectl get svc\nkubectl get ingress myapp-ingress -o yaml | grep serviceName\n</code></pre> Wrong port configuration <pre><code># Ensure port matches service port\nspec:\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: myapp-service\n            port:\n              number: 80  # Must match service port\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#scenario-5-cni-plugin-issues","title":"Scenario 5: CNI Plugin Issues","text":""},{"location":"troubleshooting/networking-troubleshooting/#problem_4","title":"Problem","text":"<p>Pods stuck in ContainerCreating, network not available</p>"},{"location":"troubleshooting/networking-troubleshooting/#diagnosis-steps_4","title":"Diagnosis Steps","text":"<pre><code># 1. Check CNI pods\nkubectl get pods -n kube-system | grep -E \"calico|flannel|weave|cilium\"\n\n# 2. Check CNI configuration\nls /etc/cni/net.d/\n\n# 3. Check kubelet logs for CNI errors\nsudo journalctl -u kubelet | grep -i cni\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#solutions_4","title":"Solutions","text":"CNI not installed <pre><code># Install Calico\nkubectl apply -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.0/manifests/calico.yaml\n\n# Or install Flannel\nkubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n</code></pre> CNI pods crashing <pre><code># Check CNI pod logs\nkubectl logs -n kube-system &lt;cni-pod-name&gt;\n\n# Delete and let it recreate\nkubectl delete pod -n kube-system &lt;cni-pod-name&gt;\n</code></pre>"},{"location":"troubleshooting/networking-troubleshooting/#network-debugging-commands","title":"Network Debugging Commands","text":"<pre><code># Test DNS\nkubectl run dns-test --image=busybox --rm -it --restart=Never -- nslookup kubernetes\n\n# Test connectivity\nkubectl run curl-test --image=curlimages/curl --rm -it --restart=Never -- curl -v http://service:port\n\n# Check pod network\nkubectl exec pod-name -- ip addr\nkubectl exec pod-name -- ip route\n\n# Check service endpoints\nkubectl get endpoints service-name\n\n# Debug with netshoot\nkubectl run netshoot --image=nicolaka/netshoot --rm -it --restart=Never -- bash\n</code></pre> <p>\u2190 Back to Home</p>"},{"location":"troubleshooting/storage-troubleshooting/","title":"Storage Troubleshooting Scenarios","text":"<p>Real-world storage troubleshooting scenarios for CKA exam preparation.</p>"},{"location":"troubleshooting/storage-troubleshooting/#scenario-1-pvc-stuck-in-pending","title":"Scenario 1: PVC Stuck in Pending","text":""},{"location":"troubleshooting/storage-troubleshooting/#problem","title":"Problem","text":"<pre><code>$ kubectl get pvc\nNAME      STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE\nmy-pvc    Pending                                      standard       5m\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#diagnosis-steps","title":"Diagnosis Steps","text":"<pre><code># 1. Describe PVC for events\nkubectl describe pvc my-pvc\n\n# 2. Check StorageClass\nkubectl get storageclass\n\n# 3. Check available PVs\nkubectl get pv\n\n# 4. Check provisioner pods\nkubectl get pods -n kube-system | grep provisioner\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#solutions","title":"Solutions","text":"No matching PV available <pre><code># Create matching PV\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: my-pv\nspec:\n  capacity:\n    storage: 10Gi\n  accessModes:\n  - ReadWriteOnce\n  hostPath:\n    path: /data/my-pv\n  storageClassName: standard\n</code></pre> StorageClass not found <pre><code># List available StorageClasses\nkubectl get storageclass\n\n# Create StorageClass or update PVC to use existing one\nkubectl patch pvc my-pvc -p '{\"spec\":{\"storageClassName\":\"existing-class\"}}'\n</code></pre> Provisioner not working <pre><code># Check provisioner logs\nkubectl logs -n kube-system &lt;provisioner-pod&gt;\n\n# Restart provisioner\nkubectl rollout restart deployment &lt;provisioner&gt; -n kube-system\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#scenario-2-pod-cannot-mount-volume","title":"Scenario 2: Pod Cannot Mount Volume","text":""},{"location":"troubleshooting/storage-troubleshooting/#problem_1","title":"Problem","text":"<pre><code>$ kubectl get pods\nNAME    READY   STATUS              RESTARTS   AGE\nmy-pod  0/1     ContainerCreating   0          5m\n\n$ kubectl describe pod my-pod\nEvents:\n  Warning  FailedMount  Unable to attach or mount volumes\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#diagnosis-steps_1","title":"Diagnosis Steps","text":"<pre><code># 1. Check PVC is bound\nkubectl get pvc\n\n# 2. Check PV status\nkubectl get pv\n\n# 3. Check node where pod is scheduled\nkubectl get pod my-pod -o wide\n\n# 4. Check volume attachment\nkubectl get volumeattachment\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#solutions_1","title":"Solutions","text":"PVC not bound <pre><code># Check PVC status\nkubectl get pvc my-pvc\n\n# If pending, check PV availability\nkubectl get pv\n</code></pre> Volume already attached to another node <pre><code># For RWO volumes, check which node has it\nkubectl get pv my-pv -o yaml | grep -A5 nodeAffinity\n\n# Either move pod to that node or use RWX volume\n</code></pre> Node storage driver issue <pre><code># Check CSI driver pods\nkubectl get pods -n kube-system | grep csi\n\n# Check kubelet logs on node\nssh node1 \"sudo journalctl -u kubelet | grep -i volume\"\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#scenario-3-volume-data-not-persisting","title":"Scenario 3: Volume Data Not Persisting","text":""},{"location":"troubleshooting/storage-troubleshooting/#problem_2","title":"Problem","text":"<p>Data written to volume is lost after pod restart</p>"},{"location":"troubleshooting/storage-troubleshooting/#diagnosis-steps_2","title":"Diagnosis Steps","text":"<pre><code># 1. Check volume mount in pod\nkubectl get pod my-pod -o yaml | grep -A10 volumeMounts\n\n# 2. Check PVC reclaim policy\nkubectl get pv my-pv -o yaml | grep persistentVolumeReclaimPolicy\n\n# 3. Verify data path\nkubectl exec my-pod -- ls -la /data\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#solutions_2","title":"Solutions","text":"Using emptyDir instead of PVC <pre><code># emptyDir is ephemeral - use PVC instead\nvolumes:\n- name: data\n  persistentVolumeClaim:\n    claimName: my-pvc\n</code></pre> Wrong mount path <pre><code># Check where app writes data\nkubectl exec my-pod -- cat /app/config | grep data_path\n\n# Update volumeMount path to match\n</code></pre> Reclaim policy is Delete <pre><code># Change to Retain for important data\nkubectl patch pv my-pv -p '{\"spec\":{\"persistentVolumeReclaimPolicy\":\"Retain\"}}'\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#scenario-4-disk-pressure-on-node","title":"Scenario 4: Disk Pressure on Node","text":""},{"location":"troubleshooting/storage-troubleshooting/#problem_3","title":"Problem","text":"<pre><code>$ kubectl describe node worker1\nConditions:\n  Type             Status\n  DiskPressure     True\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#diagnosis-steps_3","title":"Diagnosis Steps","text":"<pre><code># 1. Check disk usage on node\nssh worker1 \"df -h\"\n\n# 2. Check container images\nssh worker1 \"sudo crictl images\"\n\n# 3. Check container logs size\nssh worker1 \"sudo du -sh /var/log/containers/*\"\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#solutions_3","title":"Solutions","text":"Clean unused images <pre><code>ssh worker1 \"sudo crictl rmi --prune\"\n</code></pre> Clean old container logs <pre><code># Truncate large log files\nssh worker1 \"sudo truncate -s 0 /var/log/containers/*.log\"\n</code></pre> Remove unused volumes <pre><code># List unused volumes\nkubectl get pv | grep Released\n\n# Delete released PVs\nkubectl delete pv &lt;released-pv-name&gt;\n</code></pre>"},{"location":"troubleshooting/storage-troubleshooting/#storage-debugging-commands","title":"Storage Debugging Commands","text":"<pre><code># Check PV/PVC status\nkubectl get pv,pvc -A\n\n# Describe for events\nkubectl describe pvc my-pvc\nkubectl describe pv my-pv\n\n# Check StorageClass\nkubectl get storageclass -o yaml\n\n# Check CSI drivers\nkubectl get csidrivers\n\n# Check volume attachments\nkubectl get volumeattachment\n\n# Debug from inside pod\nkubectl exec my-pod -- df -h\nkubectl exec my-pod -- mount | grep /data\n</code></pre> <p>\u2190 Back to Home</p>"}]}